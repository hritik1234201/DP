function fm_admin_ready(){jQuery(".wd-header a").on("click",function(){jQuery("input[name='task']").val("add"),jQuery(this).parents("form").submit()}),set_no_items(),jQuery(".wd-datepicker").each(function(){jQuery(this).datepicker(),jQuery(this).datepicker("option","dateFormat",jQuery(this).data("format"))}),jQuery(".hndle:not(.readonly), .handlediv").each(function(){jQuery(this).off("click").on("click",function(){fm_toggle_postbox(this)})}),jQuery(".wd-has-placeholder .dashicons.dashicons-list-view, .wd-editor-placeholder .dashicons.dashicons-list-view").each(function(){jQuery(this).attr("title",form_maker.add_placeholder)}),jQuery(document).on("click",".wd-has-placeholder .dashicons.dashicons-list-view, .wd-editor-placeholder .dashicons.dashicons-list-view",function(){fm_placeholders_popup(jQuery(this).data("id"))}),fm_disabled_uninstall_btn(),jQuery(".fm-uninstall-form #check_yes").on("click",function(){fm_disabled_uninstall_btn()}),void 0!==jQuery(document).tooltip&&jQuery(document).tooltip({show:null,items:".wd-info",content:function(){if(jQuery(this).is(".wd-info"))return jQuery("#"+jQuery(this).data("id")).html()},open:function(e,t){if(void 0===e.originalEvent)return!1;var i=jQuery(t.tooltip).attr("id");jQuery("div.ui-tooltip").not("#"+i).remove()},close:function(e,t){t.tooltip.hover(function(){jQuery(this).stop(!0).fadeTo(400,1)},function(){jQuery(this).fadeOut("400",function(){jQuery(this).remove()})})},position:{my:"center top+30",at:"center top",using:function(e,t){jQuery(this).css(e),jQuery("<div>").addClass("tooltip-arrow").addClass(t.vertical).addClass(t.horizontal).appendTo(this)}}})}function wd_insert_placeholder(e,t){var i=document.getElementById(e);if("undefined"==typeof tinyMCE||(tinyMCE.get(e)&&tinyMCE.get(e).focus(),"none"!=i.style.display))if(i.focus(),document.selection)sel=document.selection.createRange(),sel.text=t;else if(i.selectionStart||"0"==i.selectionStart){var n=i.selectionStart,a=i.selectionEnd;i.value=i.value.substring(0,n)+"{"+t+"}"+i.value.substring(a,i.value.length)}else i.value+="{"+t+"}";else tinyMCE.execCommand("mceInsertContent",!1,"{"+t+"}")}function fm_toggle_postbox(e){jQuery(e).parent(".postbox").toggleClass("closed")}function fm_option_tabs_mail_validation(){return!0}function fm_clear_input_value(e){jQuery("#"+e).val("")}function set_no_items(){jQuery(".colspanchange").attr("colspan",jQuery(".wd-form table.adminlist>thead>tr>th:visible").length+jQuery(".wd-form table.adminlist>thead>tr>td:visible").length)}function search(e){var t=jQuery(e).parents("form");t.attr("action",t.attr("action")+"&paged=1&s="+jQuery("input[name='s']").val()),t.submit()}function input_search(e,t){return 13==(e.keyCode?e.keyCode:e.which)&&search(t),!0}function input_pagination(e,t){if(13==(e.keyCode?e.keyCode:e.which)){var i=jQuery(t).parents("form"),n=jQuery(t).val();if(n<=jQuery(t).parents(".pagination-links").data("pages-count")&&0<n){var a=new RegExp("&nonce_fm="+nonce_fm,"g"),o=i.attr("action").replace(a,"").replace(/&paged=(\d+)/,"")+"&paged="+n;i.attr("action",o),location.href=o}}return!0}function fm_select_value(e){e.focus(),e.select()}function fm_doNothing(e){13==(e.keyCode?e.keyCode:e.which?e.which:e.charCode)&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}function wd_bulk_action(e){var t=jQuery("select[name='bulk_action']").val();if(-1!=t){if(!jQuery("input[name^='check']").is(":checked"))return void alert(form_maker.select_at_least_one_item);if("delete"==t&&!confirm(form_maker.delete_confirmation))return!1;jQuery("input[name='task']").val(t),jQuery(e).parents("form").submit()}}function fm_ajax_save(e){var t=jQuery("#"+e).action,i=jQuery("#search_value").val(),n=jQuery("#current_id").val(),a=jQuery("#page_number").val(),o=(jQuery("#search_or_not").val(),jQuery("#ids_string").val()),r=jQuery("#image_order_by").val(),l=jQuery("#asc_or_desc").val(),s=jQuery("#ajax_task").val(),d=jQuery("#image_current_id").val();return ids_array=o.split(","),jQuery.ajax({type:"POST",url:t,data:{search_value:i,current_id:n,page_number:a,image_order_by:r,asc_or_desc:l,ids_string:o,task:"ajax_search",ajax_task:s,image_current_id:d,nonce:fm_ajax.ajaxnonce},success:function(e){var t=jQuery(e).find("#images_table").html();jQuery("#images_table").html(t);t=jQuery(e).find("#tablenav-pages").html();jQuery("#tablenav-pages").html(t),jQuery("#show_hide_weights").val("Hide order column"),fm_show_hide_weights(),fm_run_checkbox()}}),!1}function fm_run_checkbox(){jQuery("tbody").children().children(".check-column").find(":checkbox").click(function(e){if("undefined"==e.shiftKey)return!0;if(e.shiftKey){if(!i)return!0;d=jQuery(i).closest("form").find(":checkbox"),f=d.index(i),j=d.index(this),h=jQuery(this).prop("checked"),0<f&&0<j&&f!=j&&d.slice(f,j).prop("checked",function(){return!!jQuery(this).closest("tr").is(":visible")&&h})}i=this;var t=jQuery(this).closest("tbody").find(":checkbox").filter(":visible").not(":checked");return jQuery(this).closest("table").children("thead, tfoot").find(":checkbox").prop("checked",function(){return 0==t.length}),!0}),jQuery("thead, tfoot").find(".check-column :checkbox").click(function(e){var t=jQuery(this).prop("checked"),i="undefined"!=typeof toggleWithKeyboard&&toggleWithKeyboard,n=e.shiftKey||i;jQuery(this).closest("table").children("tbody").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",function(){return!jQuery(this).is(":hidden")&&(n?jQuery(this).prop("checked"):!!t)}),jQuery(this).closest("table").children("thead,  tfoot").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",function(){return!n&&!!t})})}function fm_set_input_value(e,t){document.getElementById(e)&&(document.getElementById(e).value=t)}function fm_form_submit(e,t,i,n){document.getElementById(t)&&document.getElementById(t).submit(),e.preventDefault?e.preventDefault():e.returnValue=!1}function fm_check_required(e,t){return""==jQuery("#"+e).val()&&(alert(t+" field is required."),jQuery("#"+e).attr("style","border-color: #FF0000; border-style: solid; border-width: 1px;"),jQuery("#"+e).focus(),jQuery("html, body").animate({scrollTop:jQuery("#"+e).offset().top-200},500),!0)}function fm_show_hide_weights(){var n;"Show order column"==jQuery("#show_hide_weights").val()?(jQuery(".connectedSortable").css("cursor","default"),jQuery("#tbody_arr").find(".handle").hide(0),jQuery("#th_order").show(0),jQuery("#tbody_arr").find(".fm_order").show(0),jQuery("#show_hide_weights").val("Hide order column"),jQuery("#tbody_arr").sortable()&&jQuery("#tbody_arr").sortable("disable")):(jQuery(".connectedSortable").css("cursor","move"),n=jQuery("#page_number")&&""!=jQuery("#page_number").val()&&1!=jQuery("#page_number").val()?20*(jQuery("#page_number").val()-1)+1:1,jQuery("#tbody_arr").sortable({handle:".connectedSortable",connectWith:".connectedSortable",update:function(e,t){jQuery("#draganddrop").attr("style",""),jQuery("#draganddrop").html("<strong><p>Changes made in this table should be saved.</p></strong>");var i=n;jQuery(".fm_order").each(function(e){jQuery(this).find("input").val()&&jQuery(this).find("input").val(i++)})}}),jQuery("#tbody_arr").sortable("enable"),jQuery("#tbody_arr").find(".handle").show(0),jQuery("#tbody_arr").find(".handle").attr("class","handle connectedSortable"),jQuery("#th_order").hide(0),jQuery("#tbody_arr").find(".fm_order").hide(0),jQuery("#show_hide_weights").val("Show order column"))}function fm_popup(e){if(void 0===e)e="";var n,o,r;(n=function(){var e,t,i=jQuery("#TB_window"),n=jQuery(window).height(),a=jQuery(window).width();e=o&&o<a-90?o:a-40,t=r&&r<n-60?r:n-40,i.length&&(i.width(e).height(t),jQuery("#TB_iframeContent").width(e).height(t-27),i.css({"margin-left":"-"+parseInt(e/2,10)+"px"}),void 0!==document.body.style.maxWidth&&i.css({top:(n-t)/2,"margin-top":"0"}))})(),jQuery(window).resize(function(){n()}),jQuery("a.thickbox-preview"+e).click(function(){tb_click.call(this);var e=jQuery(this).parents(".available-theme").find(".activatelink"),t="",i=jQuery(this).attr("href");return o=(o=i.match(/&width=[0-9]+/))?parseInt(o[0].replace(/[^0-9]+/g,""),10):jQuery(window).width()-120,r=(r=i.match(/&height=[0-9]+/))?parseInt(r[0].replace(/[^0-9]+/g,""),10):jQuery(window).height()-120,t=e.length?'&nbsp; <a href="'+(e.attr("href")||"")+'" target="_top" class="tb-theme-preview-link">'+(e.attr("title")||"")+"</a>":'&nbsp; <span class="tb-theme-preview-link">'+(jQuery(this).attr("title")||"")+"</span>",jQuery("#TB_title").css({"background-color":"#222",color:"#dfdfdf"}),jQuery("#TB_closeAjaxWindow").css({float:"right"}),jQuery("#TB_ajaxWindowTitle").css({float:"left"}).html(t),jQuery("#TB_iframeContent").width("100%"),n(),!1}),jQuery(".theme-detail").click(function(){return jQuery(this).siblings(".themedetaildiv").toggle(),!1})}function bwg_inputs(){jQuery(".fm_int_input").keypress(function(e){var t=e.which||e.paramlist_keyCode;return!(31<t&&(t<48||57<t)&&46!=t&&45!=t)})}function fm_check_isnum(e){var t=e.which||e.paramlist_keyCode;return!(31<t&&(t<48||58<t)&&46!=t&&45!=t&&(t<65||70<t)&&(t<97||102<t))}function fm_change_payment_method(e){switch(e){case"paypal":jQuery(".fm_payment_option").show(),jQuery(".fm_paypal_option").show(),jQuery(".fm_payment_option_stripe").hide();break;case"stripe":jQuery(".fm_payment_option").hide(),jQuery(".fm_paypal_option").hide(),jQuery(".fm_payment_option_stripe").show();break;default:jQuery(".fm_payment_option").hide(),jQuery(".fm_paypal_option").hide(),jQuery(".fm_payment_option_stripe").hide()}}function stopRKey(e){var t=(e=e||(event||null)).target?e.target:e.srcElement?e.srcElement:null;if(13==e.keyCode&&("text"==t.type||"search"==t.type))return!1}function fmRemoveHeaderImage(e,t){jQuery("#header_image_url").val(""),jQuery("#header_image").css("background-image",""),jQuery("#header_image").addClass("fm-hide")}function fmOpenMediaUploader(e,t){void 0===t&&(t=!1),e.preventDefault();var i=wp.media({title:"Upload",button:{text:"Add Image"},multiple:!1}).on("select",function(){var e=i.state().get("selection").first().toJSON();jQuery("#header_image_url").val(e.url),jQuery("#header_image").css("background-image",'url("'+e.url+'")'),jQuery("#header_image").css("background-position","center"),jQuery("#header_image").removeClass("fm-hide")}).open();return!1}function fm_toggle_posts(e){jQuery(e).prop("checked")?jQuery(".fm-posts-show, .fm-cat-show").removeClass("fm-hide").addClass("fm-show"):jQuery(".fm-posts-show, .fm-cat-show").removeClass("fm-show").addClass("fm-hide")}function fm_toggle_pages(e){jQuery(e).prop("checked")?jQuery(".fm-pages-show").removeClass("fm-hide").addClass("fm-show"):jQuery(".fm-pages-show").removeClass("fm-show").addClass("fm-hide")}function fm_apply_options(e){fm_set_input_value("task",e),document.getElementById("manage_form").submit()}function pp_live_search(e,t,i){var n=e,a=n.val(),o=n.data("post_type");setTimeout(function(){a===n.val()&&jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"manage_fm",task:"fm_live_search",nonce:fm_ajax.ajaxnonce,pp_live_search:a,pp_post_type:o,pp_full_content:i},beforeSend:function(e){n.css("width","95%"),n.parent().find(".fm-loading").css("display","inline-block")},success:function(e){n.css("width","100%"),n.parent().find(".fm-loading").css("display","none"),n.closest(".fm-pp").find(".pp_search_results").replaceWith(e)},error:function(e){console.log(e)}})},t)}function fm_toggle(e){jQuery(e).parent().next().toggleClass("hide")}function change_tab(e){jQuery(".fm-subscriber-header .fm-button").removeClass("active-button"),jQuery(".fm-subscriber-header ."+e).addClass("active-button"),jQuery(".fm-subscriber-content").hide(),jQuery("."+e+"-tab").show()}function change_form_type(e){jQuery("#fieldset_id").val(e),jQuery(".fm-form-types span").removeClass("active"),jQuery(".fm-form-types").find(".fm-"+e).addClass("active"),jQuery("#type_settings_fieldset .wd-group").removeClass("fm-show").addClass("fm-hide")}function change_hide_show(e){jQuery("."+e+".fm-hide").removeClass("fm-hide").addClass("fm-temporary"),jQuery("."+e+".fm-show").removeClass("fm-show").addClass("fm-hide"),jQuery("."+e+".fm-show-table").removeClass("fm-show-table").addClass("fm-hide"),jQuery("."+e+".fm-temporary").removeClass("fm-temporary").addClass("fm-show"),"fm-embedded"!=e&&(fm_toggle_posts(jQuery(".pp_display_on #pt3")),fm_toggle_pages(jQuery(".pp_display_on #pt4")))}function fm_change_radio_checkbox_text(e){var t=[];t.stripemode=["Test","Live"],t.checkout_mode=["Testmode","Production"],t.mail_mode=["Text","HTML"],t.mail_mode_user=["Text","HTML"],t.value=["1","0"],t.popover_show_on=["Page Exit","Page Load"],t.topbar_position=["Bottom","Top"],t.scrollbox_position=["Left","Right"],jQuery(e).val(t.value[jQuery(e).val()]),jQuery(e).next().val(jQuery(e).val());var i=t[jQuery(e).attr("name")];jQuery(e).find("label").html(i[jQuery(e).val()]),jQuery(e).hasClass("fm-text-yes")?(jQuery(e).removeClass("fm-text-yes").addClass("fm-text-no"),jQuery(e).find("span").animate({right:parseInt(jQuery(e).css("width"))-14+"px"},400,function(){})):(jQuery(e).removeClass("fm-text-no").addClass("fm-text-yes"),jQuery(e).find("span").animate({right:0},400,function(){}))}function fm_show_hide(e){jQuery("."+e).hasClass("fm-hide")?jQuery("."+e).removeClass("fm-hide").addClass("fm-show"):jQuery("."+e).removeClass("fm-show").addClass("fm-hide")}function fm_delete_ip(e){jQuery("#td_ip_"+e+" .loading").css("display","initial");var i=jQuery("#blocked_ips").attr("action");jQuery.ajax({type:"POST",url:i,data:{current_id:e,nonce_fm:jQuery("#nonce_fm").val(),task:"delete_blocked_ip"},success:function(e){var t=parseInt(jQuery(e).find("#total_for_paging").html());isNaN(t)||(i=i.replace(/(paged=)[^\&]+/,"$1"+t)),jQuery("#blocked_ips").parent(".wrap").load(i+" #blocked_ips",function(){window.history.pushState(null,null,i),0!=jQuery(".updated").length?jQuery(" .updated p strong").html("Items Successfully Deleted"):jQuery("<div class='updated below-h2'><p><strong>Items Successfully Deleted.</strong></p></div>").insertBefore("#blocked_ips"),set_no_items()})}})}function fm_save_ip(t){var i=jQuery("#ip"+t).val();url=jQuery("#blocked_ips").attr("action"),jQuery.ajax({type:"POST",url:url,data:{ip:i,nonce_fm:jQuery("#nonce_fm").val(),task:"insert_blocked_ip"},success:function(e){jQuery("#td_ip_"+t).html('<a id="ip'+t+'" class="pointer" title="Edit" onclick="fm_edit_ip('+t+')">'+i+"</a>"),jQuery(".insert, .error").hide(),jQuery("#fm_blocked_ips_message").html("<div class='updated'><strong><p>Items Successfully Inserted.</p></strong></div>"),jQuery("#fm_blocked_ips_message").show()}})}function fm_insert_blocked_ip(){jQuery("#tr .loading").css("display","initial");var e=jQuery("#fm_ip").val(),t=window.location.href;jQuery.ajax({type:"POST",url:t,data:{ip:e,nonce_fm:jQuery("#nonce_fm").val(),task:"insert_blocked_ip",last_id:1},success:function(e){jQuery("#blocked_ips").parent(".wrap").load(t+" #blocked_ips",function(){window.history.pushState(null,null,t),0!=jQuery(".updated").length?jQuery(".updated p strong").html("Items Successfully Saved"):jQuery("<div class='updated below-h2'><p><strong>Items Successfully Saved.</strong></p></div>").insertBefore("#blocked_ips")})}})}function fm_edit_ip(e){var t='<input id="ip'+e+'" class="input_th'+e+' ip_input" type="text" onkeypress="if(event.keyCode == 13){ if (fm_check_required(\'ip'+e+"', 'IP')) {return false;} fm_update_blocked_ip("+e+'); } return fm_check_isnum(event); "  value="'+jQuery("#ip"+e).html()+'" name="ip'+e+'"/>';t+='<input type="button" class="button ip_save" style="margin-left: 5px" onclick="if (fm_check_required(\'ip'+e+"', 'IP')) {return false;} fm_update_blocked_ip("+e+'); return false;" value="Save"><div class="loading">',t+="<img src="+plugin_url+"/images/loading.gif></div>",jQuery("#td_ip_"+e).html(t)}function fm_enter_ip(e){if(13==e.which){if(fm_check_required("fm_ip","IP"))return!1;e.preventDefault(),fm_insert_blocked_ip()}}function fm_update_blocked_ip(e){jQuery("#td_ip_"+e+" .loading").css("display","initial");var t=jQuery("#ip"+e).val(),i=window.location.href;jQuery.ajax({type:"POST",url:i,data:{ip:t,current_id:e,nonce_fm:jQuery("#nonce_fm").val(),task:"update_blocked_ip"},success:function(e){jQuery("#fm-form-admin").load(i+" #blocked_ips",function(){0!=jQuery(".updated").length?(window.history.pushState(null,null,i),jQuery(".updated p strong").html("Items Successfully Updated")):jQuery("<div class='updated below-h2'><p><strong>Items Successfully Updated.</strong></p></div>").insertBefore("#blocked_ips")})}})}function onEnableChange(e,t,i){var n=jQuery("#"+e+" #"+t);"1"==i?n.removeClass("hidden"):n.addClass("hidden")}function show_stats(){var e=jQuery(".fm-statistics .fm_error_sorted_label_key");""!=jQuery("#sorted_label_key").val()?(e.hide(),jQuery(".fm-div_stats-loading").addClass("is-active"),jQuery.ajax({dataType:"json",type:"POST",url:show_stats_url,data:{sorted_label_key:jQuery("#sorted_label_key").val(),startdate:jQuery("#startstats").val(),enddate:jQuery("#endstats").val(),nonce:fm_ajax.ajaxnonce},beforeSend:function(e){},error:function(e){},success:function(e){jQuery(".fm-div_stats-loading").removeClass("is-active"),e.html&&jQuery("#div_stats").html(e.html)}})):e.show()}function fm_loading_show(){jQuery("#fm_loading").show()}function fm_loading_hide(){jQuery("#fm_loading").hide(),"function"==typeof add_scroll_width&&add_scroll_width(),set_no_items()}function getFormLocalStorage(){var e={};formId=getAllUrlParams().current_id;var t=localStorage.getItem("fm_form"+formId);return null!=t&&(e=jQuery.parseJSON(t)),e}function getAllUrlParams(e){var t=e?e.split("?")[1]:window.location.search.slice(1),i={};if(t)for(var n=(t=t.split("#")[0]).split("&"),a=0;a<n.length;a++){var o=n[a].split("="),r=void 0,l=o[0].replace(/\[\d*\]/,function(e){return r=e.slice(1,-1),""}),s=void 0===o[1]||o[1];l=l.toLowerCase(),s=s.toLowerCase(),i[l]?("string"==typeof i[l]&&(i[l]=[i[l]]),void 0===r?i[l].push(s):i[l][r]=s):i[l]=s}return i}function fm_disabled_uninstall_btn(){jQuery(".fm-uninstall-form .fm-uninstall-btn").prop("disabled",!0),jQuery(".fm-uninstall-form #check_yes").is(":checked")&&jQuery(".fm-uninstall-form .fm-uninstall-btn").prop("disabled",!1)}function fm_html_entities(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function remove_whitespace(e){var t;for(t=0;t<e.childNodes.length;t++)e.childNodes[t]&&"3"==e.childNodes[t].nodeType&&!/\S/.test(e.childNodes[t].nodeValue)?(e.removeChild(e.childNodes[t]),t--):e.childNodes[t].childNodes.length&&remove_whitespace(e.childNodes[t])}function fm_row_handle(e){var t=jQuery(e);t.find(".wdform_row_handle").remove();var i=jQuery('<div class="wdform_row_handle"><span class="fm-ico-draggable"></span><span title="Remove the column" class="page_toolbar fm-ico-delete" onclick="fm_remove_row_popup(this);"></span>'+"<span class=\"add-new-field\" onclick=\"jQuery('#cur_column').removeAttr('id');jQuery(this).parent().parent().attr('id', 'cur_column').val(1);popup_ready(); Enable(); return false;\">"+form_maker_manage.add_new_field+'</span><div class="fm-divider"></div></div>');t.prepend(i),i.after('<div class="fm-section-overlay"></div>')}function sortable_columns(){jQuery("#take").sortable({cursor:"move",placeholder:"highlight",tolerance:"pointer",handle:".form_id_tempform_view_img .fm-ico-draggable",items:"> .wdform-page-and-images",axis:"y",update:function(e,t){refresh_page_numbers()}}),jQuery(".wdform_page").sortable({connectWith:".wdform_page",cursor:"move",placeholder:"highlight",tolerance:"pointer",handle:".wdform_row_handle",cancel:".add-new-field, .page_toolbar",items:"> .wdform_section",create:function(e,t){jQuery(e.target).find(".wdform_section").each(function(){fm_row_handle(this)})},start:function(e,t){jQuery(".wdform_row_empty").hide()},stop:function(e,t){fm_rows_refresh(),jQuery(".wdform_row_empty").show()}}),jQuery(".wdform_column").sortable({connectWith:".wdform_column",cursor:"move",placeholder:"highlight",tolerance:"pointer",cancel:".wdform_section_handle",items:"> .wdform_row, #add_field",start:function(e,t){jQuery(".add-new-button").off("click"),jQuery(".wdform_column").removeClass("fm-hidden"),jQuery("#cur_column").removeAttr("id")},stop:function(e,t){return"add_field_cont"!=t.item.parent().attr("id")&&("add_field"==t.item.attr("id")&&"add_field_cont"!=t.item.parent().attr("id")?(nextID=jQuery("#add_field").next(".wdform_row").attr("wdid"),jQuery("#add_field").parent().attr("id","cur_column"),popup_ready(),Enable(),jQuery(".add-new-button").removeAttr("onclick"),!1):(jQuery(".wdform_column:not(#add_field_cont):empty").addClass("fm-hidden"),void fm_columns_refresh()))}})}function all_sortable_events(){fm_rows_refresh(),fm_columns_refresh(),jQuery(".wdform_row, .wdform_tr_section_break").off("mouseover touchstart").on("mouseover touchstart",function(e){if(!jQuery(this).find(".wdform_arrows").is(":visible"))return jQuery(".wdform_arrows").hide(),jQuery(this).find(".wdform_arrows").show(),e.preventDefault(),!1}).off("mouseleave").on("mouseleave",function(){jQuery(this).find(".wdform_arrows").hide()}),jQuery(".wdform_section_handle, .wdform_row_handle").off("mouseover touchstart").on("mouseover touchstart",function(e){jQuery(this).parent().addClass("fm-hover")}).off("mouseleave").on("mouseleave",function(){jQuery(this).parent().removeClass("fm-hover")})}function fm_change_radio(e){jQuery(e).hasClass("fm-yes")?(jQuery(e).val("0"),jQuery(e).next().val("0"),jQuery(e).removeClass("fm-yes").addClass("fm-no"),jQuery(e).find("span").animate({right:parseInt(jQuery(e).css("width"))-14+"px"},400,function(){})):(jQuery(e).val("1"),jQuery(e).next().val("1"),jQuery(e).find("span").animate({right:0},400,function(){jQuery(e).removeClass("fm-no").addClass("fm-yes")})),"mail_verify"==jQuery(e).next().attr("name")&&show_verify_options(1==jQuery(e).val())}function enable_drag(){jQuery(".wdform_column").sortable("enable"),jQuery(".wdform_arrows_advanced").hide(),jQuery(".wdform_field").css("cursor",""),jQuery("#add_field .wdform_field").css("cursor",""),all_sortable_events()}function refresh_(){document.getElementById("counter").value=gen,jQuery(".wdform-page-and-images").each(function(){var e=jQuery(this);e.find("[id^=page_next_]").removeAttr("src"),e.find("[id^=page_previous_]").removeAttr("src"),e.find(".form_id_tempform_view_img").remove()}),jQuery("#take div").removeClass("ui-sortable ui-sortable-disabled ui-sortable-handle"),jQuery("#add_field_cont").remove(),document.getElementById("form_front").value=fm_base64EncodeUnicode(fm_htmlentities(document.getElementById("take").innerHTML))}function fm_base64EncodeUnicode(e){return utf8Bytes=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}),btoa(utf8Bytes)}function fm_htmlentities(e){var t=document.createElement("div"),i=document.createTextNode(e);return t.style.cssText="display:none",t.appendChild(i),t.innerHTML}function fm_add_submission_email(e,t,i,n){var a=jQuery("#"+t).val();if(a){var o=jQuery("<p>").attr("class","fm_mail_input").prependTo("#"+i);jQuery("<span>").attr("class","mail_name").text(a).appendTo(o),jQuery("<span>").attr("class","dashicons dashicons-trash").attr("onclick","fm_delete_mail(this, '"+a+"')").attr("title","Delete Email").appendTo(o),jQuery("#"+t).val(""),jQuery("#"+e).val(jQuery("#"+e).val()+a+",")}}function fm_delete_mail(e,t){jQuery(e).parent().remove(),jQuery("#mail").val(jQuery("#mail").val().replace(t+",",""))}function form_maker_options_tabs(e){return jQuery("#fieldset_id").val(e),jQuery(".fm_fieldset_active").removeClass("fm_fieldset_active").addClass("fm_fieldset_deactive"),jQuery("#"+e+"_fieldset").removeClass("fm_fieldset_deactive").addClass("fm_fieldset_active"),jQuery(".fm_fieldset_tab").removeClass("active"),jQuery("#"+e).addClass("active"),!1}function set_type(e){switch(e){case"post":document.getElementById("post").removeAttribute("style"),document.getElementById("page").setAttribute("style","display:none"),document.getElementById("custom_text").setAttribute("style","display:none"),document.getElementById("url_wrap").setAttribute("style","display:none");break;case"page":document.getElementById("page").removeAttribute("style"),document.getElementById("post").setAttribute("style","display:none"),document.getElementById("custom_text").setAttribute("style","display:none"),document.getElementById("url_wrap").setAttribute("style","display:none");break;case"custom_text":document.getElementById("page").setAttribute("style","display:none"),document.getElementById("post").setAttribute("style","display:none"),document.getElementById("custom_text").removeAttribute("style"),document.getElementById("url_wrap").setAttribute("style","display:none");break;case"url_wrap":document.getElementById("page").setAttribute("style","display:none"),document.getElementById("post").setAttribute("style","display:none"),document.getElementById("custom_text").setAttribute("style","display:none"),document.getElementById("url_wrap").removeAttribute("style");break;case"none":document.getElementById("page").setAttribute("style","display:none"),document.getElementById("post").setAttribute("style","display:none"),document.getElementById("custom_text").setAttribute("style","display:none"),document.getElementById("url_wrap").setAttribute("style","display:none")}}function check_isnum(e){var t=e.which||e.keyCode;return!(31<t&&(t<48||57<t)&&46!=t&&45!=t&&(t<35||40<t))}function fm_check_email(e){if(document.getElementById(e)&&""!=jQuery("#"+e).val()){for(var t=jQuery("#"+e).val().split(","),i=/^[\u0400-\u04FFa-zA-Z0-9.+_-]+@[\u0400-\u04FFa-zA-Z0-9.-]+\.[\u0400-\u04FFa-zA-Z]{2,61}$/,n=0;n<t.length;n++){var a=t[n].replace(/^\s+|\s+$/g,"");if(a&&!i.test(a)&&-1===a.indexOf("{")){if(alert("This is not a valid email address."),jQuery("#submenu li a").hasClass("active")){var o=jQuery("#submenu .active").attr("id");if(void 0!==(l=jQuery("#"+e).closest(".fm_fieldset_deactive").attr("id")))if(o!=(s=l.split("_fieldset")[0])){var r=o+"_fieldset";jQuery("#"+r).removeClass("fm_fieldset_active"),jQuery("#"+r).removeClass("fm_fieldset_deactive"),jQuery("#"+l).addClass("fm_fieldset_active"),jQuery("#submenu .active").removeClass("active"),jQuery("#"+s).addClass("active")}}else{var l;if(void 0!==(l=jQuery("#"+e).closest(".fm_fieldset_deactive").attr("id"))){var s=l.split("_fieldset");s=s[0],jQuery("#"+l).removeClass("fm_fieldset_deactive"),jQuery("#"+l).addClass("fm_fieldset_active"),jQuery("#"+s).addClass("active")}}return jQuery("#"+e).css("border","1px solid #FF0000"),jQuery("#"+e).focus(),jQuery("html, body").animate({scrollTop:jQuery("#"+e).offset().top-200},500),!0}}jQuery("#"+e).css("border","1px solid #ddd")}return!1}function wdhide(e){document.getElementById(e).style.display="none"}function wdshow(e){document.getElementById(e).style.display="block"}function delete_field_condition(e){var t=e.split("_");document.getElementById("condition"+t[0]).removeChild(document.getElementById("condition_div"+e))}function change_choices(e,t,i,n){switch(e=e.split("_"),global_index=e[0],id=e[1],index=e[2],ids_array=t.split("@@**@@"),types_array=i.split("@@**@@"),params_array=n.split("@@**@@"),types_array[id]){case"type_text":case"type_password":case"type_textarea":case"type_name":case"type_submitter_mail":case"type_number":case"type_phone":case"type_paypal_price":case"type_paypal_price_new":case"type_spinner":case"type_date_new":case"type_phone_new":if("type_number"==types_array[id]||"type_phone"==types_array[id])var a="return check_isnum_space(event)";else if("type_paypal_price"==types_array[id]||"type_paypal_price_new"==types_array[id])a="return check_isnum_point(event)";else a="";if("SELECT"==document.getElementById("field_value"+global_index+"_"+index).tagName){document.getElementById("condition_div"+global_index+"_"+index).removeChild(document.getElementById("field_value"+global_index+"_"+index));var o=document.createElement("input");o.setAttribute("id","field_value"+global_index+"_"+index),o.setAttribute("type","text"),o.setAttribute("value",""),o.setAttribute("class","fm_condition_field_input_value"),o.setAttribute("onKeyPress",a),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(o,document.getElementById("delete_condition"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(document.createTextNode(" "),document.getElementById("delete_condition"+global_index+"_"+index))}else document.getElementById("field_value"+global_index+"_"+index).value="",document.getElementById("field_value"+global_index+"_"+index).setAttribute("onKeyPress",a);break;case"type_own_select":case"type_radio":case"type_checkbox":for("type_own_select"==types_array[id]?w_size=params_array[id].split("*:*w_size*:*"):w_size=params_array[id].split("*:*w_flow*:*"),w_choices=w_size[1].split("*:*w_choices*:*"),w_choices_array=w_choices[0].split("***"),-1!==w_size[1].indexOf("*:*w_value_disabled*:*")?(w_value_disabled=w_size[1].split("*:*w_value_disabled*:*"),w_choices_value=w_value_disabled[1].split("*:*w_choices_value*:*"),w_choices_value_array=w_choices_value[0].split("***")):w_choices_value_array=w_choices_array,(l=document.createElement("select")).setAttribute("id","field_value"+global_index+"_"+index),l.setAttribute("class","fm_condition_field_select_value"),"type_checkbox"==types_array[id]&&(l.setAttribute("multiple","multiple"),l.setAttribute("class","multiple_select")),k=0;k<w_choices_array.length;k++){(r=document.createElement("option")).setAttribute("id","choise_"+global_index+"_"+k),r.setAttribute("value",w_choices_value_array[k]),r.innerHTML=w_choices_array[k],-1===w_choices_array[k].indexOf("[")&&-1===w_choices_array[k].indexOf("]")&&l.appendChild(r)}document.getElementById("condition_div"+global_index+"_"+index).removeChild(document.getElementById("field_value"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(l,document.getElementById("delete_condition"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(document.createTextNode(" "),document.getElementById("delete_condition"+global_index+"_"+index));break;case"type_paypal_select":case"type_paypal_radio":case"type_paypal_checkbox":case"type_paypal_shipping":for("type_paypal_select"==types_array[id]?w_size=params_array[id].split("*:*w_size*:*"):w_size=params_array[id].split("*:*w_flow*:*"),w_choices=w_size[1].split("*:*w_choices*:*"),w_choices_array=w_choices[0].split("***"),w_choices_price=w_choices[1].split("*:*w_choices_price*:*"),w_choices_price_array=w_choices_price[0].split("***"),(l=document.createElement("select")).setAttribute("id","field_value"+global_index+"_"+index),l.setAttribute("class","fm_condition_field_select_value"),"type_paypal_checkbox"==types_array[id]&&(l.setAttribute("multiple","multiple"),l.setAttribute("class","multiple_select")),k=0;k<w_choices_array.length;k++){var r;(r=document.createElement("option")).setAttribute("id","choise_"+global_index+"_"+k),r.setAttribute("value",w_choices_array[k]+"*:*value*:*"+w_choices_price_array[k]),r.innerHTML=w_choices_array[k],-1===w_choices_array[k].indexOf("[")&&-1===w_choices_array[k].indexOf("]")&&l.appendChild(r)}document.getElementById("condition_div"+global_index+"_"+index).removeChild(document.getElementById("field_value"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(l,document.getElementById("delete_condition"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(document.createTextNode(" "),document.getElementById("delete_condition"+global_index+"_"+index));break;case"type_address":var l;countries=form_maker.countries,(l=document.createElement("select")).setAttribute("id","field_value"+global_index+"_"+m),l.setAttribute("class","fm_condition_field_select_value"),jQuery.each(countries,function(e,t){var i=document.createElement("option");l.setAttribute("id","field_value"+global_index+"_"+index),i.setAttribute("value",t),i.innerHTML=t,l.appendChild(i)}),document.getElementById("condition_div"+global_index+"_"+index).removeChild(document.getElementById("field_value"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(l,document.getElementById("delete_condition"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(document.createTextNode(" "),document.getElementById("delete_condition"+global_index+"_"+index))}}function add_condition_fields(n,e,t,a,o){for(ids=e.split("@@**@@"),labels=t.split("@@**@@"),types=a.split("@@**@@"),params=o.split("@@**@@"),i=500;0<=i&&!document.getElementById("condition_div"+n+"_"+i);i--);m=i+1;var r=document.createElement("div");r.setAttribute("id","condition_div"+n+"_"+m);var l=document.createElement("select");for(l.setAttribute("id","field_labels"+n+"_"+m),l.setAttribute("onchange","change_choices(options[selectedIndex].id+'_"+m+"','"+e+"','"+a+"','"+o.replace(/\'/g,"\\'")+"')"),l.setAttribute("class","fm_condition_field_labels"),k=0;k<labels.length;k++)if(ids[k]!=document.getElementById("fields"+n).value){var s=document.createElement("option");s.setAttribute("id",n+"_"+k),s.setAttribute("value",ids[k]),s.innerHTML=labels[k],l.appendChild(s)}r.appendChild(l),r.appendChild(document.createTextNode(" "));var d=document.createElement("select");d.setAttribute("id","is_select"+n+"_"+m),d.setAttribute("class","fm_condition_is_select");var c=document.createElement("option");c.setAttribute("id","is"),c.setAttribute("value","=="),c.innerHTML="is";var u=document.createElement("option");u.setAttribute("id","is_not"),u.setAttribute("value","!="),u.innerHTML="is not";var p=document.createElement("option");p.setAttribute("id","like"),p.setAttribute("value","%"),p.innerHTML="like";var _=document.createElement("option");_.setAttribute("id","not_like"),_.setAttribute("value","!%"),_.innerHTML="not like";var f=document.createElement("option");f.setAttribute("id","empty"),f.setAttribute("value","="),f.innerHTML="empty";var h=document.createElement("option");if(h.setAttribute("id","not_empty"),h.setAttribute("value","!"),h.innerHTML="not empty",d.appendChild(c),d.appendChild(u),d.appendChild(p),d.appendChild(_),d.appendChild(f),d.appendChild(h),r.appendChild(d),r.appendChild(document.createTextNode(" ")),ids[0]!=document.getElementById("fields"+n).value)var y=0;else y=1;switch(types[y]){case"type_text":case"type_star_rating":case"type_password":case"type_textarea":case"type_name":case"type_submitter_mail":case"type_phone":case"type_number":case"type_paypal_price":case"type_paypal_price_new":case"type_spinner":case"type_date_new":case"type_phone_new":if("type_number"==types[y]||"type_phone"==types[y])var g="return check_isnum_space(event)";else if("type_paypal_price"==types[y]||"type_paypal_price_new"==types[y])g="return check_isnum_point(event)";else g="";var v=document.createElement("input");v.setAttribute("id","field_value"+n+"_"+m),v.setAttribute("type","text"),v.setAttribute("value",""),v.setAttribute("class","fm_condition_field_input_value"),v.setAttribute("onKeyPress",g),r.appendChild(v);break;case"type_checkbox":case"type_radio":case"type_own_select":for("type_own_select"==types[y]?w_size=params[y].split("*:*w_size*:*"):w_size=params[y].split("*:*w_flow*:*"),w_choices=w_size[1].split("*:*w_choices*:*"),w_choices_array=w_choices[0].split("***"),-1!==w_size[1].indexOf("*:*w_value_disabled*:*")?(w_value_disabled=w_size[1].split("*:*w_value_disabled*:*"),w_choices_value=w_value_disabled[1].split("*:*w_choices_value*:*"),w_choices_value_array=w_choices_value[0].split("***")):w_choices_value_array=w_choices_array,(w=document.createElement("select")).setAttribute("id","field_value"+n+"_"+m),w.style.cssText="vertical-align: top; width:200px;","type_checkbox"==types[y]&&(w.setAttribute("multiple","multiple"),w.setAttribute("class","multiple_select")),k=0;k<w_choices_array.length;k++){(b=document.createElement("option")).setAttribute("id","choise_"+n+"_"+k),b.setAttribute("value",w_choices_value_array[k]),b.innerHTML=w_choices_array[k],-1===w_choices_array[k].indexOf("[")&&-1===w_choices_array[k].indexOf("]")&&w.appendChild(b)}r.appendChild(w);break;case"type_paypal_select":case"type_paypal_checkbox":case"type_paypal_radio":case"type_paypal_shipping":for("type_paypal_select"==types[y]?w_size=params[y].split("*:*w_size*:*"):w_size=params[y].split("*:*w_flow*:*"),w_choices=w_size[1].split("*:*w_choices*:*"),w_choices_array=w_choices[0].split("***"),w_choices_price=w_choices[1].split("*:*w_choices_price*:*"),w_choices_price_array=w_choices_price[0].split("***"),(w=document.createElement("select")).setAttribute("id","field_value"+n+"_"+m),w.style.cssText="vertical-align: top; width:200px;","type_paypal_checkbox"==types[y]&&(w.setAttribute("multiple","multiple"),w.setAttribute("class","multiple_select")),k=0;k<w_choices_array.length;k++){var b;(b=document.createElement("option")).setAttribute("id","choise_"+n+"_"+k),b.setAttribute("value",w_choices_array[k]+"*:*value*:*"+w_choices_price_array[k]),b.innerHTML=w_choices_array[k],-1===w_choices_array[k].indexOf("[")&&-1===w_choices_array[k].indexOf("]")&&w.appendChild(b)}r.appendChild(w);break;case"type_address":var w;countries=form_maker.countries,(w=document.createElement("select")).setAttribute("id","field_value"+n+"_"+m),w.setAttribute("class","fm_condition_field_select_value"),jQuery.each(countries,function(e,t){var i=document.createElement("option");i.setAttribute("id","choise_"+n+"_"+k),i.setAttribute("value",t),i.innerHTML=t,w.appendChild(i)}),r.appendChild(w)}r.appendChild(document.createTextNode(" "));var j=document.createElement("span");j.setAttribute("class","dashicons dashicons-trash"),j.setAttribute("id","delete_condition"+n+"_"+m),j.setAttribute("onClick",'delete_field_condition("'+n+"_"+m+'")'),j.style.cssText="vertical-align: middle",r.appendChild(j),document.getElementById("condition"+n).appendChild(r)}function add_condition(e,t,n,a,o,r){for(i=500;0<=i&&!document.getElementById("condition"+i);i--);num=i+1,ids=o.split("@@**@@"),labels=r.split("@@**@@");var l=document.createElement("div");l.setAttribute("id","condition"+num),l.setAttribute("class","fm_condition");var s=document.createElement("div");s.setAttribute("id","conditional_fileds"+num);var d=document.createElement("select");d.setAttribute("id","show_hide"+num),d.setAttribute("name","show_hide"+num),d.setAttribute("class","fm_condition_show_hide");var c=document.createElement("option");c.setAttribute("value","1"),c.innerHTML="show";var u=document.createElement("option");u.setAttribute("value","0"),u.innerHTML="hide",d.appendChild(c),d.appendChild(u);var m=document.createElement("select");for(m.setAttribute("id","fields"+num),m.setAttribute("name","fields"+num),m.setAttribute("class","fm_condition_fields"),k=0;k<labels.length;k++){var p=document.createElement("option");p.setAttribute("value",ids[k]),p.innerHTML=labels[k],m.appendChild(p)}var _=document.createElement("span");_.innerHTML="if";var f=document.createElement("select");f.setAttribute("id","all_any"+num),f.setAttribute("name","all_any"+num),f.setAttribute("class","fm_condition_all_any");var h=document.createElement("option");h.setAttribute("value","and"),h.innerHTML="all";var y=document.createElement("option");y.setAttribute("value","or"),y.innerHTML="any",f.appendChild(h),f.appendChild(y);var g=document.createElement("span");g.style.maxWidth="235px",g.style.width="100%",g.style.display="inline-block",g.innerHTML="of the following match:";var v=document.createElement("span");v.setAttribute("class","dashicons dashicons-plus-alt"),v.setAttribute("onClick",'add_condition_fields("'+num+'", "'+e+'", "'+t.replace(/\'/g,"\\'").replace(/\"/g,"&quot;")+'", "'+n.replace(/\'/g,"\\'").replace(/\"/g,"&quot;")+'", "'+a.replace(/\'/g,"\\'").replace(/\"/g,"&quot;")+'")');var b=document.createElement("span");b.setAttribute("class","dashicons dashicons-trash"),b.setAttribute("onClick",'delete_condition("'+num+'")'),s.appendChild(d),s.appendChild(document.createTextNode(" ")),s.appendChild(m),s.appendChild(document.createTextNode(" ")),s.appendChild(_),s.appendChild(document.createTextNode(" ")),s.appendChild(f),s.appendChild(document.createTextNode(" ")),s.appendChild(g),s.appendChild(document.createTextNode(" ")),s.appendChild(b),s.appendChild(document.createTextNode(" ")),s.appendChild(v),l.appendChild(s),document.getElementById("conditions_fieldset_wrap").appendChild(l)}function delete_condition(e){document.getElementById("conditions_fieldset_wrap").removeChild(document.getElementById("condition"+e))}function acces_level(e){var t="";for(i=0;i<=parseInt(e);i++)document.getElementById("user_"+i).checked&&(t=t+document.getElementById("user_"+i).value+",");document.getElementById("user_id_wd").value=t}function check_isnum_space(e){var t=e.which||e.keyCode;return 32==t||!(31<t&&(t<48||57<t))}function check_isnum_point(e){var t=e.which||e.keyCode;return 46==t||!(31<t&&(t<48||57<t))}function check_stripe_required_fields(){if(jQuery("#paypal_mode2").prop("checked"))for("1"==jQuery("#stripemode").val()?(fields=["live_sec","live_pub"],fields_titles=["Live secret key","Live publishable key"]):(fields=["test_sec","test_pub"],fields_titles=["Test secret key","Test publishable key"]),i=0;i<fields.length;i++)if(!jQuery("#"+fields[i]).val())return jQuery("#"+fields[i]).focus(),alert(fields_titles[i]+" is required."),!0;return!1}function check_calculator_required_fields(){var i=0;return jQuery(jQuery("#wd_calculated_field_table").find('[id^="wdc_equation_"]')).each(function(){if(""==jQuery(this).val()){var e=jQuery(this).attr("id").replace("wdc_equation_",""),t=jQuery(jQuery("#wd_calculated_field_table").find("[data-field='"+e+"']")).html();i=1,jQuery(this).focus(),alert("Set equation for the field "+t)}if(1==i)return!1}),1==i}function set_theme(){theme_id="0"==jQuery("#theme").val()?default_theme:jQuery("#theme").val(),jQuery("#edit_css").attr("onclick","window.open('"+theme_edit_url+"&current_id="+theme_id+"'); return false;"),1==jQuery("#theme option:selected").attr("data-version")?jQuery("#old_theme_notice").show():jQuery("#old_theme_notice").hide()}function filter_fields_submit(){jQuery("#fm-fields-filter").find("input").keypress(function(e){13==e.which&&(jQuery("#fm-fields-filter").find("#fm_is_search").val(1),fm_form_submit(!1,"admin_form"))})}function show_hide_filter(){return jQuery(".show-filter").toggle(),jQuery(".hide-filter").toggle(),"none"==document.getElementById("fm-fields-filter").style.display?(document.getElementById("fm-fields-filter").style.display="",jQuery(".fm-bulk-actions .search_reset_button").show()):(document.getElementById("fm-fields-filter").style.display="none",jQuery(".fm-bulk-actions .search_reset_button").hide()),add_scroll_width(),!1}function add_scroll_width(){var e=jQuery(".fm-table-submissions").width(),i=0;jQuery.each(jQuery("#fm-scroll table tr.fm_table_head td:visible, #fm-scroll table tr.fm_table_head th:visible"),function(e,t){i+=jQuery(this).width()}),jQuery(".table-scroll-1, .table-scroll-2").css({width:i+"px"}),jQuery(".table-wrapper-1, .table-wrapper-2").css({"overflow-x":"scroll"}),i<e&&remove_scroll_width()}function remove_scroll_width(){jQuery(".table-wrapper-1, .table-wrapper-2").css("overflow-x","hidden"),jQuery(".table-scroll-1, .table-scroll-2").css("width","auto")}function add_scroll_left(){jQuery(".table-wrapper-1").scroll(function(){jQuery(".table-wrapper-2").scrollLeft(jQuery(".table-wrapper-1").scrollLeft())}),jQuery(".table-wrapper-2").scroll(function(){jQuery(".table-wrapper-1").scrollLeft(jQuery(".table-wrapper-2").scrollLeft())})}function tableOrdering(e,t,i){var n=document.admin_form;n.filter_order2.value=e,n.filter_order_Dir2.value=t,submitform(i)}function ordering(e,t){document.getElementById("asc_or_desc").value=t,document.getElementById("order_by").value=e,document.getElementById("admin_form").submit()}function renderColumns(){for(curTag in allTags=document.getElementsByTagName("*"),allTags)void 0!==allTags[curTag].className&&0<allTags[curTag].className.indexOf("_fc")&&(curLabel=allTags[curTag].className.replace("_fc",""),curLabel=curLabel.replace("table_large_col ",""),0<=document.forms.admin_form.hide_label_list.value.indexOf("@"+curLabel+"@")?allTags[curTag].style.display="none":allTags[curTag].style.display=""),void 0!==allTags[curTag].id&&0<allTags[curTag].id.indexOf("_fc")&&(curLabel=allTags[curTag].id.replace("_fc",""),0<=document.forms.admin_form.hide_label_list.value.indexOf("@"+curLabel+"@")?allTags[curTag].style.display="none":allTags[curTag].style.display="")}function clickLabChB(e,t){document.forms.admin_form.hide_label_list.value=document.forms.admin_form.hide_label_list.value.replace("@"+e+"@",""),""==document.forms.admin_form.hide_label_list.value&&(document.getElementById("ChBAll").checked=!0),t.checked||(document.forms.admin_form.hide_label_list.value+="@"+e+"@",document.getElementById("ChBAll").checked=!1),renderColumns(),set_all_column_checkbox_checked()}function toggleChBDiv(e){if(e){var t=jQuery(window).width(),i=jQuery(window).height();document.getElementById("sbox-overlay").style.width=t+"px",document.getElementById("sbox-overlay").style.height=i+"px",document.getElementById("ChBDiv").style.left=Math.floor((t-350)/2)+"px",document.getElementById("ChBDiv").style.display="block",document.getElementById("sbox-overlay").style.display="block",set_columns_history_checked()}else document.getElementById("ChBDiv").style.display="none",document.getElementById("sbox-overlay").style.display="none",set_show_hide_column_ids(),show_hide_columns_history();add_scroll_width(),add_scroll_left()}function set_columns_history_checked(){if(getFormLocalStorage().show_hide_column_ids){var e=getFormLocalStorage().show_hide_column_ids,t=jQuery("#ChBDiv input[type=checkbox]");t.filter(":checkbox").prop("checked",!1);document.getElementById("ChBAll");t.length!=e.length&&jQuery("#ChBAll").addClass("fm-remove_before"),t.length==e.length&&jQuery("#ChBAll").removeClass("fm-remove_before"),jQuery.each(e,function(e,t){jQuery("#ChBDiv #"+t).prop("checked",!0).prop("checked")})}}function set_all_column_checkbox_checked(){var e=jQuery("#ChBAll"),t=jQuery("#ChBDiv input[type=checkbox]");t.length==t.filter(":checked").length?e.removeClass("fm-remove_before").prop("checked",!0):e.addClass("fm-remove_before").prop("checked",!1)}function set_show_hide_column_ids(){var n=[],e={};jQuery("#ChBDiv input[type=checkbox]").each(function(e,t){if(this.checked){var i=jQuery(this).attr("id");n.push(i)}}),e.show_hide_column_ids=n,localStorage.setItem("fm_form"+formId,JSON.stringify(e))}function show_hide_columns_history(){getFormLocalStorage().show_hide_column_ids&&(jQuery("#fm-submission-lists th, #fm-submission-lists td").addClass("fm-hide-column"),jQuery.each(getFormLocalStorage().show_hide_column_ids,function(e,t){var i=t.replace("fm_check_id_","");i=i.replace("fm_check_",""),jQuery("#fm-submission-lists ."+i+"_fc").removeClass("fm-hide-column").addClass("fm-show-column")}),jQuery("#fm-submission-lists .fm-column-not-hide").removeClass("fm-hide-column"))}function submit_del(e){document.getElementById("admin_form").action=e,document.getElementById("admin_form").submit()}function submitbutton(e){document.adminForm;"cancel_theme"!=e?""!=document.getElementById("title").value?submitform(e):alert("The theme must have a title."):submitform(e)}function submitform(e){document.getElementById("adminForm").action=document.getElementById("adminForm").action+"&task="+e,document.getElementById("adminForm").submit()}function edit_star_rating(e,t){rated=!0,star_amount=document.getElementById(t+"_star_amountform_id_temp").value;for(var i=0;i<=e;i++)document.getElementById(t+"_star_"+i).src=plugin_url+"/images/star_yellow.png";for(var n=e+1;n<=star_amount-1;n++)document.getElementById(t+"_star_"+n).src=plugin_url+"/images/star.png";star_amount=e+1,document.getElementById(t+"_selected_star_amountform_id_temp").value=star_amount,document.getElementById("submission_"+t).value=star_amount+"/"+document.getElementById(t+"_star_colorform_id_temp").value}function edit_scale_rating(e,t){if(!e);scale_amount=document.getElementById(t+"_scale_checkedform_id_temp").value,document.getElementById("submission_"+t).value=e+"/"+scale_amount}function edit_grading(e,t){for(var i=0,n="",a=0;a<100;a++)document.getElementById(e+"_element"+a)&&document.getElementById(e+"_element"+a).value&&(i+=parseInt(document.getElementById(e+"_element"+a).value)),i>document.getElementById(e+"_grading_totalform_id_temp").innerHTML&&(document.getElementById(e+"_text_elementform_id_temp").innerHTML=" Your score should be less than "+document.getElementById(e+"_grading_totalform_id_temp").innerHTML);document.getElementById(e+"_grading_sumform_id_temp").innerHTML=i,element=document.getElementById(e+"_element_valueform_id_temp").value,element=element.split(":");for(a=0;a<(element.length-1)/2;a++)document.getElementById(e+"_element"+a).value?n+=document.getElementById(e+"_element"+a).value+":":n+=":";element=element.slice((element.length-1)/2),element=element.join(":"),grading=n+element,document.getElementById(e+"_element_valueform_id_temp").value=grading,document.getElementById("submission_"+e).value=grading+"***grading***"}function edit_range(e,t,i){document.getElementById(t+"_element"+i).value=e,document.getElementById("submission_"+t).value=document.getElementById(t+"_element0").value+"-"+document.getElementById(t+"_element1").value}function change_radio_values(e,t,i,n){for(var a="",o=!0,r=1;r<=i;r++){for(var l=1;l<=n;l++)if(1==document.getElementById(t+"_input_elementform_id_temp"+r+"_"+l).checked){a+=r+"_"+l+"***",o=!1;break}1==o&&(a+="0***"),o=!0}var s=document.getElementById(t+"_matrixform_id_temp").value;s=(s=(s=s.split("***")).slice(0,-(i+1))).join("***"),s+="***"+a,document.getElementById("submission_"+t).value=s+"***matrix***",document.getElementById(t+"_matrixform_id_temp").value=s}function change_text_values(e,t,i,n){for(var a="",o=1;o<=i;o++)for(var r=1;r<=n;r++)a+=document.getElementById(t+"_input_elementform_id_temp"+o+"_"+r).value+"***";var l=document.getElementById(t+"_matrixform_id_temp").value;l=(l=(l=l.split("***")).slice(0,-(i*n+1))).join("***"),l+="***"+a,document.getElementById("submission_"+t).value=l+"***matrix***",document.getElementById(t+"_matrixform_id_temp").value=l}function change_checkbox_values(e,t,i,n){for(var a="",o=1;o<=i;o++)for(var r=1;r<=n;r++)1==document.getElementById(t+"_input_elementform_id_temp"+o+"_"+r).checked?a+="1***":a+="0***";var l=document.getElementById(t+"_matrixform_id_temp").value;l=l.slice(0,-4*i*n),l+=a,document.getElementById("submission_"+t).value=l+"***matrix***",document.getElementById(t+"_matrixform_id_temp").value=l}function change_option_values(e,t,i,n){for(var a="",o=1;o<=i;o++)for(var r=1;r<=n;r++)a+=document.getElementById(t+"_select_yes_noform_id_temp"+o+"_"+r).value+"***";var l=document.getElementById(t+"_matrixform_id_temp").value;l=(l=(l=l.split("***")).slice(0,-(i*n+1))).join("***"),l+="***"+a,document.getElementById("submission_"+t).value=l+"***matrix***",document.getElementById(t+"_matrixform_id_temp").value=l}function fm_Tooltip(){jQuery(".fm_masterTooltip").hover(function(){var e=jQuery(this).attr("title");jQuery(this).data("tipText",e).removeAttr("title"),jQuery('<p class="fm_tooltip"></p>').text(e).appendTo("body").fadeIn("slow")},function(){jQuery(this).attr("title",jQuery(this).data("tipText")),jQuery(".fm_tooltip").remove()}).mousemove(function(e){var t=e.pageX-100,i=e.pageY+10;jQuery(".fm_tooltip").css({top:i,left:t})})}jQuery(function(){fm_admin_ready()}),jQuery(document).on("fm_tab_loaded, fm_tab_email_loaded",function(){fm_admin_ready()}),jQuery(window).on("load",function(){jQuery("#fm_loading").hide(),jQuery("#fm_admin_container").show(),"function"==typeof add_scroll_width&&add_scroll_width(),set_no_items(),jQuery("#fm_ask_question").parent().attr("target","_blank")}),document.onkeypress=stopRKey,jQuery(function(){jQuery(".pp_display_on #pt0").click(function(){var e=jQuery(this).prop("checked");jQuery('.pp_display_on input[type="checkbox"]').prop("checked",e),e?jQuery(".fm-posts-show, .fm-pages-show, .fm-cat-show").removeClass("fm-hide").addClass("fm-show"):jQuery(".fm-posts-show, .fm-pages-show, .fm-cat-show").removeClass("fm-show").addClass("fm-hide")}),jQuery('.pp_display_on input[type="checkbox"]:not("#pt0")').click(function(){var e=jQuery(this).prop("checked");jQuery(".pp_display_on #pt0").prop("checked")&&!e&&jQuery(".pp_display_on #pt0").prop("checked",!1)}),jQuery(".pp_display_on #pt4").click(function(){fm_toggle_pages(this)}),jQuery(".pp_display_on #pt3").click(function(){fm_toggle_posts(this)}),jQuery("body").on("focusin",".pp_search_posts",function(){var e=jQuery(this);e.closest("ul").find(".pp_live_search").removeClass("fm-hide"),e.hasClass("already_triggered")||(e.addClass("already_triggered"),pp_live_search(e,500,!0))}),jQuery(document).click(function(){jQuery(".pp_live_search").addClass("fm-hide")}),jQuery("body").on("click",".fm-pp",function(){return!1}),jQuery("body").on("input",".pp_search_posts",function(){pp_live_search(jQuery(this),500,!0)}),jQuery("body").on("click",".pp_search_results li",function(){var e=jQuery(this);if(!e.hasClass("pp_no_res")){var t=e.text(),i=e.data("post_id"),n=e.closest(".fm-pp"),a=n.find(".pp_selected"),o=n.find(".pp_exclude"),r='<span data-post_id="'+i+'">'+t+'<span class="pp_selected_remove">x</span></span>';-1===a.html().indexOf('data-post_id="'+i+'"')&&(a.append(r),""===o.val()?o.val(i):o.val(function(e,t){return t+","+i}))}return!1}),jQuery("body").on("click",".pp_selected span.pp_selected_remove",function(){var e=jQuery(this).parent(),t=e.closest(".fm-pp").find(".pp_exclude"),i=t.val(),n=e.data("post_id");if(-1!==i.indexOf(n)){var a,o=-1!==i.indexOf(","+n)?","+n:n+",";o=-1!==i.indexOf(",")?o:n;a=i.replace(o,""),t.val(a)}return e.remove(),!1}),jQuery("body").on("click",'.pp_display_on_categories input[name="display_on_categories[]"]',function(){var e=jQuery('.pp_display_on_categories input[name="display_on_categories[]"]'),t=jQuery(".fm-display-all-categories");if("select_all_categories"==jQuery(this).val())jQuery(this).is(":checked")?e.prop("checked",!0):e.prop("checked",!1);else{var i=jQuery('input[name="display_on_categories[]"]:checked').length,n=parseInt(t.attr("data-categories-count"));jQuery(this).prop("checked")||(i-=1),t.prop("checked",!1),i==n&&t.prop("checked",!0)}})}),function(l){l.fn.serializeObject=function(){var a=this,o={},t={},r={validate:/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_]+$/};return this.build=function(e,t,i){return e[t]=i,e},this.push_counter=function(e){return void 0===t[e]&&(t[e]=0),t[e]++},l.each(l(this).serializeArray(),function(){if(r.validate.test(this.name)){for(var e,t=this.name.match(r.key),i=this.value,n=this.name;void 0!==(e=t.pop());)n=n.replace(new RegExp("\\["+e+"\\]$"),""),e.match(r.push)?i=a.build([],a.push_counter(n),i):e.match(r.fixed)?i=a.build([],e,i):e.match(r.named)&&(i=a.build({},e,i));o=l.extend(!0,o,i)}}),o}}(jQuery),jQuery(document).on("dblclick",".wdform_row, .wdform_tr_section_break",function(){edit(jQuery(this).attr("wdid"))}),jQuery(function(){jQuery(".theme-detail").click(function(){return jQuery(this).siblings(".themedetaildiv").toggle(),!1}),jQuery("#startdate, #startstats, #enddate, #endstats").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0}),show_hide_columns_history(),add_scroll_width(),add_scroll_left(),fm_Tooltip(),filter_fields_submit()}),jQuery(window).scroll(function(){var e=0,t=jQuery(this).scrollTop(),i=jQuery(".tablenav");i.length&&(e=i.offset().top),e<t?jQuery(".table-wrapper-1").addClass("fixed").css({width:jQuery("#admin_form").width()+"px"}):jQuery(".table-wrapper-1").removeClass("fixed")}),jQuery(window).on("load",function(e){fm_popup(),void 0!==jQuery().fancybox&&jQuery.isFunction(jQuery().fancybox)&&jQuery(".fm_fancybox").fancybox({"maxWidth ":600,maxHeight:500})}),jQuery(window).on("resize",function(){jQuery(window).width()<=765?(document.getElementById("fm-fields-filter").style.display="none",remove_scroll_width()):(jQuery(".hide-filter.hide").is(":visible")&&(document.getElementById("fm-fields-filter").style.display=""),add_scroll_width())}),function(n,i,C,c){var a=C("html"),o=C(n),d=C(i),E=C.fancybox=function(){E.open.apply(this,arguments)},r=navigator.userAgent.match(/msie/i),l=null,s=i.createTouch!==c,u=function(e){return e&&e.hasOwnProperty&&e instanceof C},m=function(e){return e&&"string"===C.type(e)},I=function(e){return m(e)&&0<e.indexOf("%")},B=function(e,t){var i=parseInt(e,10)||0;return t&&I(e)&&(i*=E.getViewport()[t]/100),Math.ceil(i)},A=function(e,t){return B(e,t)+"px"};C.extend(E,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!s,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(r?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:C.noop,beforeLoad:C.noop,afterLoad:C.noop,beforeShow:C.noop,afterShow:C.noop,beforeChange:C.noop,beforeClose:C.noop,afterClose:C.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(s,d){if(s&&(C.isPlainObject(d)||(d={}),!1!==E.close(!0)))return C.isArray(s)||(s=u(s)?C(s).get():[s]),C.each(s,function(e,t){var i,n,a,o,r,l={};"object"===C.type(t)&&(t.nodeType&&(t=C(t)),u(t)?(l={href:t.data("fancybox-href")||t.attr("href"),title:t.data("fancybox-title")||t.attr("title"),isDom:!0,element:t},C.metadata&&C.extend(!0,l,t.metadata())):l=t),i=d.href||l.href||(m(t)?t:null),n=d.title!==c?d.title:l.title||"",!(o=(a=d.content||l.content)?"html":d.type||l.type)&&l.isDom&&((o=t.data("fancybox-type"))||(o=(o=t.prop("class").match(/fancybox\.(\w+)/))?o[1]:null)),m(i)&&(o||(E.isImage(i)?o="image":E.isSWF(i)?o="swf":"#"===i.charAt(0)?o="inline":m(t)&&(o="html",a=t)),"ajax"===o&&(i=(r=i.split(/\s+/,2)).shift(),r=r.shift())),a||("inline"===o?i?a=C(m(i)?i.replace(/.*(?=#[^\s]+$)/,""):i):l.isDom&&(a=t):"html"===o?a=i:!o&&!i&&l.isDom&&(o="inline",a=t)),C.extend(l,{href:i,type:o,content:a,title:n,selector:r}),s[e]=l}),E.opts=C.extend(!0,{},E.defaults,d),d.keys!==c&&(E.opts.keys=!!d.keys&&C.extend({},E.defaults.keys,d.keys)),E.group=s,E._start(E.opts.index)},cancel:function(){var e=E.coming;e&&!1!==E.trigger("onCancel")&&(E.hideLoading(),E.ajaxLoad&&E.ajaxLoad.abort(),E.ajaxLoad=null,E.imgPreload&&(E.imgPreload.onload=E.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),E.coming=null,E.current||E._afterZoomOut(e))},close:function(e){E.cancel(),!1!==E.trigger("beforeClose")&&(E.unbindEvents(),E.isActive&&(E.isOpen&&!0!==e?(E.isOpen=E.isOpened=!1,E.isClosing=!0,C(".fancybox-item, .fancybox-nav").remove(),E.wrap.stop(!0,!0).removeClass("fancybox-opened"),E.transitions[E.current.closeMethod]()):(C(".fancybox-wrap").stop(!0).trigger("onReset").remove(),E._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(E.player.timer)},i=function(){t(),E.current&&E.player.isActive&&(E.player.timer=setTimeout(E.next,E.current.playSpeed))},n=function(){t(),d.unbind(".player"),E.player.isActive=!1,E.trigger("onPlayEnd")};!0===e||!E.player.isActive&&!1!==e?E.current&&(E.current.loop||E.current.index<E.group.length-1)&&(E.player.isActive=!0,d.bind({"onCancel.player beforeClose.player":n,"onUpdate.player":i,"beforeLoad.player":t}),i(),E.trigger("onPlayStart")):n()},next:function(e){var t=E.current;t&&(m(e)||(e=t.direction.next),E.jumpto(t.index+1,e,"next"))},prev:function(e){var t=E.current;t&&(m(e)||(e=t.direction.prev),E.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,i){var n=E.current;n&&(e=B(e),E.direction=t||n.direction[e>=n.index?"next":"prev"],E.router=i||"jumpto",n.loop&&(e<0&&(e=n.group.length+e%n.group.length),e%=n.group.length),n.group[e]!==c&&(E.cancel(),E._start(e)))},reposition:function(e,t){var i,n=E.current,a=n?n.wrap:null;a&&(i=E._getPosition(t),e&&"scroll"===e.type?(delete i.position,a.stop(!0,!0).animate(i,200)):(a.css(i),n.pos=C.extend({},n.dim,i)))},update:function(t){var i=t&&t.type,n=!i||"orientationchange"===i;n&&(clearTimeout(l),l=null),E.isOpen&&!l&&(l=setTimeout(function(){var e=E.current;e&&!E.isClosing&&(E.wrap.removeClass("fancybox-tmp"),(n||"load"===i||"resize"===i&&e.autoResize)&&E._setDimension(),"scroll"===i&&e.canShrink||E.reposition(t),E.trigger("onUpdate"),l=null)},n&&!s?0:300))},toggle:function(e){E.isOpen&&(E.current.fitToView="boolean"===C.type(e)?e:!E.current.fitToView,s&&(E.wrap.removeAttr("style").addClass("fancybox-tmp"),E.trigger("onUpdate")),E.update())},hideLoading:function(){d.unbind(".loading"),C("#fancybox-loading").remove()},showLoading:function(){var e,t;E.hideLoading(),e=C('<div id="fancybox-loading"><div></div></div>').click(E.cancel).appendTo("body"),d.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),E.cancel())}),E.defaults.fixed||(t=E.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var e=E.current&&E.current.locked||!1,t={x:o.scrollLeft(),y:o.scrollTop()};return t.h=e?(t.w=e[0].clientWidth,e[0].clientHeight):(t.w=s&&n.innerWidth?n.innerWidth:o.width(),s&&n.innerHeight?n.innerHeight:o.height()),t},unbindEvents:function(){E.wrap&&u(E.wrap)&&E.wrap.unbind(".fb"),d.unbind(".fb"),o.unbind(".fb")},bindEvents:function(){var t,r=E.current;r&&(o.bind("orientationchange.fb"+(s?"":" resize.fb")+(r.autoCenter&&!r.locked?" scroll.fb":""),E.update),(t=r.keys)&&d.bind("keydown.fb",function(i){var n=i.which||i.keyCode,e=i.target||i.srcElement;if(27===n&&E.coming)return!1;!i.ctrlKey&&!i.altKey&&!i.shiftKey&&!i.metaKey&&(!e||!e.type&&!C(e).is("[contenteditable]"))&&C.each(t,function(e,t){return 1<r.group.length&&t[n]!==c?(E[e](t[n]),i.preventDefault(),!1):-1<C.inArray(n,t)?(E[e](),i.preventDefault(),!1):void 0})}),C.fn.mousewheel&&r.mouseWheel&&E.wrap.bind("mousewheel.fb",function(e,t,i,n){for(var a=C(e.target||null),o=!1;a.length&&!o&&!a.is(".fancybox-skin")&&!a.is(".fancybox-wrap");)o=a[0]&&!(a[0].style.overflow&&"hidden"===a[0].style.overflow)&&(a[0].clientWidth&&a[0].scrollWidth>a[0].clientWidth||a[0].clientHeight&&a[0].scrollHeight>a[0].clientHeight),a=C(a).parent();0!==t&&!o&&1<E.group.length&&!r.canShrink&&(0<n||0<i?E.prev(0<n?"down":"left"):(n<0||i<0)&&E.next(n<0?"up":"right"),e.preventDefault())}))},trigger:function(i,e){var t,n=e||E.coming||E.current;if(n){if(C.isFunction(n[i])&&(t=n[i].apply(n,Array.prototype.slice.call(arguments,1))),!1===t)return!1;n.helpers&&C.each(n.helpers,function(e,t){t&&E.helpers[e]&&C.isFunction(E.helpers[e][i])&&E.helpers[e][i](C.extend(!0,{},E.helpers[e].defaults,t),n)}),d.trigger(i)}},isImage:function(e){return m(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(e){return m(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,i,n={};if(e=B(e),!(t=E.group[e]||null))return!1;if(t=(n=C.extend(!0,{},E.opts,t)).margin,i=n.padding,"number"===C.type(t)&&(n.margin=[t,t,t,t]),"number"===C.type(i)&&(n.padding=[i,i,i,i]),n.modal&&C.extend(!0,n,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),n.autoSize&&(n.autoWidth=n.autoHeight=!0),"auto"===n.width&&(n.autoWidth=!0),"auto"===n.height&&(n.autoHeight=!0),n.group=E.group,n.index=e,E.coming=n,!1===E.trigger("beforeLoad"))E.coming=null;else{if(i=n.type,t=n.href,!i)return E.coming=null,!(!E.current||!E.router||"jumpto"===E.router)&&(E.current.index=e,E[E.router](E.direction));if(E.isActive=!0,"image"!==i&&"swf"!==i||(n.autoHeight=n.autoWidth=!1,n.scrolling="visible"),"image"===i&&(n.aspectRatio=!0),"iframe"===i&&s&&(n.scrolling="scroll"),n.wrap=C(n.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+i+" fancybox-tmp "+n.wrapCSS).appendTo(n.parent||"body"),C.extend(n,{skin:C(".fancybox-skin",n.wrap),outer:C(".fancybox-outer",n.wrap),inner:C(".fancybox-inner",n.wrap)}),C.each(["Top","Right","Bottom","Left"],function(e,t){n.skin.css("padding"+t,A(n.padding[e]))}),E.trigger("onReady"),"inline"===i||"html"===i){if(!n.content||!n.content.length)return E._error("content")}else if(!t)return E._error("href");"image"===i?E._loadImage():"ajax"===i?E._loadAjax():"iframe"===i?E._loadIframe():E._afterLoad()}},_error:function(e){C.extend(E.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:E.coming.tpl.error}),E._afterLoad()},_loadImage:function(){var e=E.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,E.coming.width=this.width/E.opts.pixelRatio,E.coming.height=this.height/E.opts.pixelRatio,E._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,E._error("image")},e.src=E.coming.href,!0!==e.complete&&E.showLoading()},_loadAjax:function(){var i=E.coming;E.showLoading(),E.ajaxLoad=C.ajax(C.extend({},i.ajax,{url:i.href,error:function(e,t){E.coming&&"abort"!==t?E._error("ajax",e):E.hideLoading()},success:function(e,t){"success"===t&&(i.content=e,E._afterLoad())}}))},_loadIframe:function(){var e=E.coming,t=C(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",s?"auto":e.iframe.scrolling).attr("src",e.href);C(e.wrap).bind("onReset",function(){try{C(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(E.showLoading(),t.one("load",function(){C(this).data("ready",1),s||C(this).bind("load.fb",E.update),C(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),E._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||E._afterLoad()},_preloadImages:function(){var e,t,i=E.group,n=E.current,a=i.length,o=n.preload?Math.min(n.preload,a-1):0;for(t=1;t<=o;t+=1)"image"===(e=i[(n.index+t)%a]).type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var i,e,t,n,a,o=E.coming,r=E.current;if(E.hideLoading(),o&&!1!==E.isActive)if(!1===E.trigger("afterLoad",o,r))o.wrap.stop(!0).trigger("onReset").remove(),E.coming=null;else{switch(r&&(E.trigger("beforeChange",r),r.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),E.unbindEvents(),i=o.content,e=o.type,t=o.scrolling,C.extend(E,{wrap:o.wrap,skin:o.skin,outer:o.outer,inner:o.inner,current:o,previous:r}),n=o.href,e){case"inline":case"ajax":case"html":o.selector?i=C("<div>").html(i).find(o.selector):u(i)&&(i.data("fancybox-placeholder")||i.data("fancybox-placeholder",C('<div class="fancybox-placeholder"></div>').insertAfter(i).hide()),i=i.show().detach(),o.wrap.bind("onReset",function(){C(this).find(i).length&&i.hide().replaceAll(i.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":i=o.tpl.image.replace("{href}",n);break;case"swf":i='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+n+'"></param>',a="",C.each(o.swf,function(e,t){i+='<param name="'+e+'" value="'+t+'"></param>',a+=" "+e+'="'+t+'"'}),i+='<embed src="'+n+'" type="application/x-shockwave-flash" width="100%" height="100%"'+a+"></embed></object>"}(!u(i)||!i.parent().is(o.inner))&&o.inner.append(i),E.trigger("beforeShow"),o.inner.css("overflow","yes"===t?"scroll":"no"===t?"hidden":t),E._setDimension(),E.reposition(),E.isOpen=!1,E.coming=null,E.bindEvents(),E.isOpened?r.prevMethod&&E.transitions[r.prevMethod]():C(".fancybox-wrap").not(o.wrap).stop(!0).trigger("onReset").remove(),E.transitions[E.isOpened?o.nextMethod:o.openMethod](),E._preloadImages()}},_setDimension:function(){var e,t,i,n,a,o,r,l,s,d=E.getViewport(),c=0,u=!1,m=!1,p=(u=E.wrap,E.skin),_=E.inner,f=E.current,h=(m=f.width,f.height),y=f.minWidth,g=f.minHeight,v=f.maxWidth,b=f.maxHeight,w=f.scrolling,j=f.scrollOutside?f.scrollbarWidth:0,x=f.margin,Q=B(x[1]+x[3]),k=B(x[0]+x[2]);if(u.add(p).add(_).width("auto").height("auto").removeClass("fancybox-tmp"),t=Q+(x=B(p.outerWidth(!0)-p.width())),i=k+(e=B(p.outerHeight(!0)-p.height())),n=I(m)?(d.w-t)*B(m)/100:m,a=I(h)?(d.h-i)*B(h)/100:h,"iframe"===f.type){if(s=f.content,f.autoHeight&&1===s.data("ready"))try{s[0].contentWindow.document.location&&(_.width(n).height(9999),o=s.contents().find("body"),j&&o.css("overflow-x","hidden"),a=o.outerHeight(!0))}catch(e){}}else(f.autoWidth||f.autoHeight)&&(_.addClass("fancybox-tmp"),f.autoWidth||_.width(n),f.autoHeight||_.height(a),f.autoWidth&&(n=_.width()),f.autoHeight&&(a=_.height()),_.removeClass("fancybox-tmp"));if(m=B(n),h=B(a),l=n/a,y=B(I(y)?B(y,"w")-t:y),v=B(I(v)?B(v,"w")-t:v),g=B(I(g)?B(g,"h")-i:g),o=v,r=b=B(I(b)?B(b,"h")-i:b),f.fitToView&&(v=Math.min(d.w-t,v),b=Math.min(d.h-i,b)),t=d.w-Q,k=d.h-k,f.aspectRatio?(v<m&&(h=B((m=v)/l)),b<h&&(m=B((h=b)*l)),m<y&&(h=B((m=y)/l)),h<g&&(m=B((h=g)*l))):(m=Math.max(y,Math.min(m,v)),f.autoHeight&&"iframe"!==f.type&&(_.width(m),h=_.height()),h=Math.max(g,Math.min(h,b))),f.fitToView)if(_.width(m).height(h),u.width(m+x),d=u.width(),Q=u.height(),f.aspectRatio)for(;(t<d||k<Q)&&y<m&&g<h&&!(19<c++);)h=Math.max(g,Math.min(b,h-10)),(m=B(h*l))<y&&(h=B((m=y)/l)),v<m&&(h=B((m=v)/l)),_.width(m).height(h),u.width(m+x),d=u.width(),Q=u.height();else m=Math.max(y,Math.min(m,m-(d-t))),h=Math.max(g,Math.min(h,h-(Q-k)));j&&"auto"===w&&h<a&&m+x+j<t&&(m+=j),_.width(m).height(h),u.width(m+x),d=u.width(),Q=u.height(),u=(t<d||k<Q)&&y<m&&g<h,m=f.aspectRatio?m<o&&h<r&&m<n&&h<a:(m<o||h<r)&&(m<n||h<a),C.extend(f,{dim:{width:A(d),height:A(Q)},origWidth:n,origHeight:a,canShrink:u,canExpand:m,wPadding:x,hPadding:e,wrapSpace:Q-p.outerHeight(!0),skinSpace:p.height()-h}),!s&&f.autoHeight&&g<h&&h<b&&!m&&_.height("auto")},_getPosition:function(e){var t=E.current,i=E.getViewport(),n=t.margin,a=E.wrap.width()+n[1]+n[3],o=E.wrap.height()+n[0]+n[2];n={position:"absolute",top:n[0],left:n[3]};return t.autoCenter&&t.fixed&&!e&&o<=i.h&&a<=i.w?n.position="fixed":t.locked||(n.top+=i.y,n.left+=i.x),n.top=A(Math.max(n.top,n.top+(i.h-o)*t.topRatio)),n.left=A(Math.max(n.left,n.left+(i.w-a)*t.leftRatio)),n},_afterZoomIn:function(){var t=E.current;t&&(E.isOpen=E.isOpened=!0,E.wrap.css("overflow","visible").addClass("fancybox-opened"),E.update(),(t.closeClick||t.nextClick&&1<E.group.length)&&E.inner.css("cursor","pointer").bind("click.fb",function(e){!C(e.target).is("a")&&!C(e.target).parent().is("a")&&(e.preventDefault(),E[t.closeClick?"close":"next"]())}),t.closeBtn&&C(t.tpl.closeBtn).appendTo(E.skin).bind("click.fb",function(e){e.preventDefault(),E.close()}),t.arrows&&1<E.group.length&&((t.loop||0<t.index)&&C(t.tpl.prev).appendTo(E.outer).bind("click.fb",E.prev),(t.loop||t.index<E.group.length-1)&&C(t.tpl.next).appendTo(E.outer).bind("click.fb",E.next)),E.trigger("afterShow"),t.loop||t.index!==t.group.length-1?E.opts.autoPlay&&!E.player.isActive&&(E.opts.autoPlay=!1,E.play()):E.play(!1))},_afterZoomOut:function(e){e=e||E.current,C(".fancybox-wrap").trigger("onReset").remove(),C.extend(E,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),E.trigger("afterClose",e)}}),E.transitions={getOrigPosition:function(){var e=E.current,t=e.element,i=e.orig,n={},a=50,o=50,r=e.hPadding,l=e.wPadding,s=E.getViewport();return!i&&e.isDom&&t.is(":visible")&&((i=t.find("img:first")).length||(i=t)),u(i)?(n=i.offset(),i.is("img")&&(a=i.outerWidth(),o=i.outerHeight())):(n.top=s.y+(s.h-o)*e.topRatio,n.left=s.x+(s.w-a)*e.leftRatio),("fixed"===E.wrap.css("position")||e.locked)&&(n.top-=s.y,n.left-=s.x),{top:A(n.top-r*e.topRatio),left:A(n.left-l*e.leftRatio),width:A(a+l),height:A(o+r)}},step:function(e,t){var i,n,a=t.prop,o=(n=E.current).wrapSpace,r=n.skinSpace;"width"!==a&&"height"!==a||(i=t.end===t.start?1:(e-t.start)/(t.end-t.start),E.isClosing&&(i=1-i),n=e-(n="width"===a?n.wPadding:n.hPadding),E.skin[a](B("width"===a?n:n-o*i)),E.inner[a](B("width"===a?n:n-o*i-r*i)))},zoomIn:function(){var e=E.current,t=e.pos,i=e.openEffect,n="elastic"===i,a=C.extend({opacity:1},t);delete a.position,n?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===i&&(t.opacity=.1),E.wrap.css(t).animate(a,{duration:"none"===i?0:e.openSpeed,easing:e.openEasing,step:n?this.step:null,complete:E._afterZoomIn})},zoomOut:function(){var e=E.current,t=e.closeEffect,i="elastic"===t,n={opacity:.1};i&&(n=this.getOrigPosition(),e.closeOpacity&&(n.opacity=.1)),E.wrap.animate(n,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:i?this.step:null,complete:E._afterZoomOut})},changeIn:function(){var e,t=E.current,i=t.nextEffect,n=t.pos,a={opacity:1},o=E.direction;n.opacity=.1,"elastic"===i&&(a[e="down"===o||"up"===o?"top":"left"]="down"===o||"right"===o?(n[e]=A(B(n[e])-200),"+=200px"):(n[e]=A(B(n[e])+200),"-=200px")),"none"===i?E._afterZoomIn():E.wrap.css(n).animate(a,{duration:t.nextSpeed,easing:t.nextEasing,complete:E._afterZoomIn})},changeOut:function(){var e=E.previous,t=e.prevEffect,i={opacity:.1},n=E.direction;"elastic"===t&&(i["down"===n||"up"===n?"top":"left"]=("up"===n||"left"===n?"-":"+")+"=200px"),e.wrap.animate(i,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){C(this).trigger("onReset").remove()}})}},E.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!s,fixed:!0},overlay:null,fixed:!1,el:C("html"),create:function(e){e=C.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=C('<div class="fancybox-overlay"></div>').appendTo(E.coming?E.coming.parent:e.parent),this.fixed=!1,e.fixed&&E.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=C.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(o.bind("resize.overlay",C.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){if(C(e.target).hasClass("fancybox-overlay"))return E.isActive?E.close():t.close(),!1}),this.overlay.css(e.css).show()},close:function(){var e,t;o.unbind("resize.overlay"),this.el.hasClass("fancybox-lock")&&(C(".fancybox-margin").removeClass("fancybox-margin"),e=o.scrollTop(),t=o.scrollLeft(),this.el.removeClass("fancybox-lock"),o.scrollTop(e).scrollLeft(t)),C(".fancybox-overlay").remove().hide(),C.extend(this,{overlay:null,fixed:!1})},update:function(){var e,t="100%";this.overlay.width(t).height("100%"),r?(e=Math.max(i.documentElement.offsetWidth,i.body.offsetWidth),d.width()>e&&(t=d.width())):d.width()>o.width()&&(t=d.width()),this.overlay.width(t).height(d.height())},onReady:function(e,t){var i=this.overlay;C(".fancybox-overlay").stop(!0,!0),i||this.create(e),e.locked&&this.fixed&&t.fixed&&(i||(this.margin=d.height()>o.height()&&C("html").css("margin-right").replace("px","")),t.locked=this.overlay.append(t.wrap),t.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){var i,n;t.locked&&(!1!==this.margin&&(C("*").filter(function(){return"fixed"===C(this).css("position")&&!C(this).hasClass("fancybox-overlay")&&!C(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),i=o.scrollTop(),n=o.scrollLeft(),this.el.addClass("fancybox-lock"),o.scrollTop(i).scrollLeft(n)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!E.coming&&this.overlay.fadeOut(e.speedOut,C.proxy(this.close,this))}},E.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t=E.current,i=t.title,n=e.type;if(C.isFunction(i)&&(i=i.call(t.element,t)),m(i)&&""!==C.trim(i)){switch(t=C('<div class="fancybox-title fancybox-title-'+n+'-wrap">'+i+"</div>"),n){case"inside":n=E.skin;break;case"outside":n=E.wrap;break;case"over":n=E.inner;break;default:n=E.skin,t.appendTo("body"),r&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),E.current.margin[2]+=Math.abs(B(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](n)}}},C.fn.fancybox=function(o){var r,l=C(this),s=this.selector||"",e=function(e){var t,i,n=C(this).blur(),a=r;!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&!n.is(".fancybox-wrap")&&(t=o.groupAttr||"data-fancybox-group",(i=n.attr(t))||(t="rel",i=n.get(0)[t]),i&&""!==i&&"nofollow"!==i&&(a=(n=(n=s.length?C(s):l).filter("["+t+'="'+i+'"]')).index(this)),o.index=a,!1!==E.open(n,o)&&e.preventDefault())};return r=(o=o||{}).index||0,s&&!1!==o.live?d.undelegate(s,"click.fb-start").delegate(s+":not('.fancybox-item, .fancybox-nav')","click.fb-start",e):l.unbind("click.fb-start").bind("click.fb-start",e),this.filter("[data-fancybox-start=1]").trigger("click"),this},d.ready(function(){var e,t;if(C.scrollbarWidth===c&&(C.scrollbarWidth=function(){var e=C('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=(t=e.children()).innerWidth()-t.height(99).innerWidth();return e.remove(),t}),C.support.fixedPosition===c){e=C.support;var i=20===(t=C('<div style="position:fixed;top:20px;"></div>').appendTo("body"))[0].offsetTop||15===t[0].offsetTop;t.remove(),e.fixedPosition=i}C.extend(E.defaults,{scrollbarWidth:C.scrollbarWidth(),fixed:C.support.fixedPosition,parent:C("body")}),e=C(n).width(),a.addClass("fancybox-lock-test"),t=C(n).width(),a.removeClass("fancybox-lock-test"),C("<style type='text/css'>.fancybox-margin{margin-right:"+(t-e)+"px;}</style>").appendTo("head")})}(window,document,jQuery);