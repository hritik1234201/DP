jQuery(document).on("click","#save_form",function(){jQuery(".td_display_err").hide(),jQuery(".user-registration form").valid()?(jQuery(".ur-form-row-1").hide(),jQuery(".ur-form-row-2").attr("style","display: flex !important"),jQuery("#register_button").show(),jQuery("#save_form").hide(),jQuery(".go-back").show(),jQuery("#save_form").removeAttr("disabled"),jQuery.ajax({type:"post",dataType:"json",url:ajax_url,data:{action:"validate_email",email_id:jQuery(this).val()},success:function(e){""!=e.msg?(jQuery(".td_display_err").html(e.msg).show(),jQuery("#save_form").attr("disabled","true")):(jQuery(".td_display_err").hide(),jQuery("#save_form").removeAttr("disabled"))}})):(jQuery(".td_display_err").html("(*) Mandatory fields."),jQuery(".td_display_err").show())}),jQuery(document).on("click",".go-back",function(){jQuery(".ur-form-row-1").show(),jQuery(".ur-form-row-2").hide(),jQuery("#register_button").hide(),jQuery("#save_form").show(),jQuery(".go-back").hide(),jQuery(".td_display_err").hide()}),jQuery(document).on("click",".register_check",function(){"privacy_check"==jQuery(this).attr("id")&&1==jQuery(this).prop("checked")&&jQuery(".td_display_err").hide()}),jQuery(document).on("blur","#user_email",function(){""!=jQuery(this).val()&&jQuery.ajax({type:"get",dataType:"json",url:ajax_url,data:{action:"validate_email",email_id:jQuery(this).val()},beforeSend:function(){jQuery("#email-spinner").show(),jQuery("#save_form").attr("disabled","true"),jQuery("#submit-button").attr("disabled","true"),jQuery(".register-submit-button").attr("disabled","true"),jQuery("#register_button").removeAttr("disabled")},success:function(e){""!=e.msg?(jQuery(".td_display_err").html(e.msg).show(),jQuery("#save_form").attr("disabled","true"),jQuery("#submit-button").attr("disabled","true"),jQuery(".register-submit-button").attr("disabled","true"),jQuery("#register_button").attr("disabled","true")):(jQuery(".td_display_err").hide(),jQuery("#save_form").removeAttr("disabled"),jQuery("#submit-button").removeAttr("disabled"),jQuery(".register-submit-button").removeAttr("disabled"),jQuery("#register_button").removeAttr("disabled")),jQuery("#email-spinner").hide()}})}),jQuery(document).on("click","#submit-button,#register_button",function(){jQuery.ajax({type:"post",dataType:"json",url:ajax_url,data:{action:"validate_email",email_id:jQuery(this).val()},success:function(e){""!=e.msg?(jQuery(".td_display_err").html(e.msg).show(),jQuery("#save_form").attr("disabled","true"),jQuery("#submit-button").attr("disabled","true"),jQuery("#register_button").attr("disabled","true")):(jQuery(".td_display_err").hide(),jQuery("#submit-button").removeAttr("disabled"),jQuery("#register_button").removeAttr("disabled"))}})});var data={action:"is_user_logged_in"};jQuery(document).ready(function(){jQuery(".chosen-select").chosen(),jQuery(".chosen-select").length>0&&jQuery(".chosen-container").css("width","100%"),jQuery(".user-registration-MyAccount-navigation").length>0&&jQuery(".user-registration-MyAccount-navigation-link--user-logout").remove(),jQuery("#register_button").attr("disabled","true"),jQuery(".sdm_download").click(function(e){var r=jQuery(this).attr("href");e.preventDefault(),jQuery.post(ajax_url,data,function(e){"no"==e?window.parent.jQuery(".td-login-modal-js",window.parent.document).trigger("click"):window.location.href=r})}),jQuery("#signin-link").click(function(){jQuery("#td-login-div").show(),jQuery("#td-login-div").addClass("td-display-block"),jQuery("#td-login-div").removeClass("td-display-none"),jQuery("#td-register-div").hide(),jQuery("#td-register-div").addClass("td-display-none"),jQuery("#td-register-div").removeClass("td-display-block"),jQuery(".td-back-button").css("visibility","visible").css("opacity","1")}),jQuery(document).on("click",".td-back-button",function(){jQuery("#td-register-div").show(),jQuery("#td-register-div").addClass("td-display-block"),jQuery("#td-register-div").removeClass("td-display-none"),jQuery("#td-login-div").hide(),jQuery("#td-login-div").addClass("td-display-none"),jQuery("#td-login-div").removeClass("td-display-block"),jQuery(".td-back-button").css("visibility","hidden").css("opacity","0")}),jQuery(document).on("keyup",".validate_email",function(){jQuery(this).parents("form").find(".button-submit").attr("disabled",!0)}),jQuery(document).on("change",".validate_email",function(){var e="false";if(jQuery(this).parent().hasClass("email-validator"))e="true";if(jQuery(this).val().length>3){var r=jQuery(this);jQuery.ajax({type:"get",dataType:"json",url:ajax_url,data:{action:"validate_email",email_id:r.val(),lp_var:e},beforeSend:function(){r.parents("form").find(".button-submit").attr("disabled",!0),jQuery("#validate_email_error_1").hide()},success:function(e){""!==e.msg?(r.parents(".wdform_row").find("#validate_email_error_1").length>0?(jQuery("#validate_email_error_1").html(e.msg),jQuery("#validate_email_error_1").show()):r.parents(".wdform_row").append('<div id="validate_email_error_1" class="fm-not-filled">'+e.msg+"</div>"),r.parents("form").find(".button-submit").attr("disabled",!0),jQuery("#check_email_4_9").hide(),jQuery("#check_email_2_7").hide(),jQuery("#check_email_3_12").hide()):(r.parents("form").find(".button-submit").removeAttr("disabled"),jQuery("#validate_email_error_1").hide())},error:function(){r.parents("form").find(".button-submit").removeAttr("disabled")}})}}),jQuery(".custom-control-input").click(function(){jQuery(this);var e="false";jQuery(".custom-control-input").each(function(){jQuery(this).is(":checked")&&(e="true")}),"false"===e?jQuery("#subscribe-btn").attr("disabled",!0):jQuery("#subscribe-btn").removeAttr("disabled")}),jQuery("#subscribe-btn").click(function(e){var r=jQuery(this);if(""!==r.parents("#form").find(".validate_email").val()){var t=jQuery("form#subscription-form");jQuery.ajax({type:"get",dataType:"json",url:td_ajax_url,data:{action:"save_subscribe_form",data:t.serializeArray()},beforeSend:function(){r.attr("disabled",!0)},success:function(e){r.removeAttr("disabled"),"success"===e.status?jQuery(".subscribe-form-block").html('<p class="alert alert-success">Thank you for subscribing to our newsletter! Please check your inbox and confirm your email.</p>'):"registered"===e.status?jQuery(".subscribe-form-block").html('<p class="alert alert-danger">You\'re already registered with us. Please check and update your newsletter preferences <a href="'+e.subscribe_url+'" style="color:inherit;text-decoration:underline">HERE</a></p>'):jQuery(".subscribe-form-block").html('<p class="alert alert-danger">You\'re already subscribed to our newsletter. Please check and update your newsletter preferences <a href="'+e.subscribe_url+'" style="color:inherit;text-decoration:underline">HERE</a></p>')},error:function(){}})}else r.attr("disabled",!0)}),jQuery("#subscribe-update-btn").click(function(e){var r=jQuery("form#subscription-form");jQuery.ajax({type:"get",dataType:"json",url:td_ajax_url,data:{action:"update_subscribe_form",data:r.serializeArray()},beforeSend:function(){},success:function(e){"success"===e.status&&jQuery(".subscribe-form-block").html('<p class="alert alert-success">Your preferences are successfully updated.</p>')},error:function(){}})}),jQuery("#resend-subscribe-link").click(function(e){var r=jQuery("form#subscription-form");jQuery.ajax({type:"get",dataType:"json",url:td_ajax_url,data:{action:"subscribe_resend_verification_link",data:r.serializeArray()},beforeSend:function(){},success:function(e){"success"===e.status&&jQuery(".subscribe-form-block").html('<p class="alert alert-success">Please check your email for the new verification link.</p>')},error:function(){}})})}),jQuery(document).on("keyup",".subs_validate_email",function(){var e=jQuery(this);jQuery(this).parents("form").find(".button-submit").attr("disabled",!0);if(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(e.val())){var r="false";if(jQuery(this).parent().hasClass("subscribe-fields"))r="true";jQuery.ajax({type:"get",dataType:"json",url:td_ajax_url,data:{action:"validate_email",email_id:e.val(),lp_var:r},beforeSend:function(){jQuery("#validate_email_error_1").hide(),e.parents("form").find("#subscribe-btn").length>0&&e.parents("form").find("#subscribe-btn").attr("disabled",!0)},success:function(r){""!==r.msg?(e.parents(".wdform_row").find("#validate_email_error_1").length>0?(jQuery("#validate_email_error_1").html(r.msg),jQuery("#validate_email_error_1").show()):e.parents(".wdform_row").append('<div id="validate_email_error_1" class="fm-not-filled">'+r.msg+"</div>"),e.parents("form").find("#subscribe-btn").length>0&&e.parents("form").find("#subscribe-btn").attr("disabled",!0)):(jQuery("#validate_email_error_1").hide(),e.parents("form").find(".button-submit").removeAttr("disabled"),e.parents("form").find("#subscribe-btn").length>0&&e.parents("form").find("#subscribe-btn").removeAttr("disabled"))},error:function(){e.parents("form").find(".button-submit").removeAttr("disabled")}})}else e.parents("form").find("#subscribe-btn").attr("disabled",!0)});