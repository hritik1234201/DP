function fm_admin_ready(){jQuery(".wd-header a").on("click",function(){jQuery("input[name='task']").val("add"),jQuery(this).parents("form").submit()}),set_no_items(),jQuery(".wd-datepicker").each(function(){jQuery(this).datepicker(),jQuery(this).datepicker("option","dateFormat",jQuery(this).data("format"))}),jQuery(".hndle:not(.readonly), .handlediv").each(function(){jQuery(this).off("click").on("click",function(){fm_toggle_postbox(this)})}),jQuery(".wd-has-placeholder .dashicons.dashicons-list-view, .wd-editor-placeholder .dashicons.dashicons-list-view").each(function(){jQuery(this).attr("title",form_maker.add_placeholder)}),jQuery(document).on("click",".wd-has-placeholder .dashicons.dashicons-list-view, .wd-editor-placeholder .dashicons.dashicons-list-view",function(){fm_placeholders_popup(jQuery(this).data("id"))}),fm_disabled_uninstall_btn(),jQuery(".fm-uninstall-form #check_yes").on("click",function(){fm_disabled_uninstall_btn()}),void 0!==jQuery(document).tooltip&&jQuery(document).tooltip({show:null,items:".wd-info",content:function(){if(jQuery(this).is(".wd-info"))return jQuery("#"+jQuery(this).data("id")).html()},open:function(e,t){if(void 0===e.originalEvent)return!1;var n=jQuery(t.tooltip).attr("id");jQuery("div.ui-tooltip").not("#"+n).remove()},close:function(e,t){t.tooltip.hover(function(){jQuery(this).stop(!0).fadeTo(400,1)},function(){jQuery(this).fadeOut("400",function(){jQuery(this).remove()})})},position:{my:"center top+30",at:"center top",using:function(e,t){jQuery(this).css(e),jQuery("<div>").addClass("tooltip-arrow").addClass(t.vertical).addClass(t.horizontal).appendTo(this)}}})}function wd_insert_placeholder(e,t){var n=document.getElementById(e);if("undefined"==typeof tinyMCE||(tinyMCE.get(e)&&tinyMCE.get(e).focus(),"none"!=n.style.display))if(n.focus(),document.selection)sel=document.selection.createRange(),sel.text=t;else if(n.selectionStart||"0"==n.selectionStart){var o=n.selectionStart,i=n.selectionEnd;n.value=n.value.substring(0,o)+"{"+t+"}"+n.value.substring(i,n.value.length)}else n.value+="{"+t+"}";else tinyMCE.execCommand("mceInsertContent",!1,"{"+t+"}")}function fm_toggle_postbox(e){jQuery(e).parent(".postbox").toggleClass("closed")}function fm_option_tabs_mail_validation(){return!0}function fm_clear_input_value(e){jQuery("#"+e).val("")}function set_no_items(){jQuery(".colspanchange").attr("colspan",jQuery(".wd-form table.adminlist>thead>tr>th:visible").length+jQuery(".wd-form table.adminlist>thead>tr>td:visible").length)}function search(e){var t=jQuery(e).parents("form");t.attr("action",t.attr("action")+"&paged=1&s="+jQuery("input[name='s']").val()),t.submit()}function input_search(e,t){return 13==(e.keyCode?e.keyCode:e.which)&&search(t),!0}function input_pagination(e,t){if(13==(e.keyCode?e.keyCode:e.which)){var n=jQuery(t).parents("form"),o=jQuery(t).val();if(o<=jQuery(t).parents(".pagination-links").data("pages-count")&&0<o){var i=new RegExp("&nonce_fm="+nonce_fm,"g"),a=n.attr("action").replace(i,"").replace(/&paged=(\d+)/,"")+"&paged="+o;n.attr("action",a),location.href=a}}return!0}function fm_select_value(e){e.focus(),e.select()}function fm_doNothing(e){13==(e.keyCode?e.keyCode:e.which?e.which:e.charCode)&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}function wd_bulk_action(e){var t=jQuery("select[name='bulk_action']").val();if(-1!=t){if(!jQuery("input[name^='check']").is(":checked"))return void alert(form_maker.select_at_least_one_item);if("delete"==t&&!confirm(form_maker.delete_confirmation))return!1;jQuery("input[name='task']").val(t),jQuery(e).parents("form").submit()}}function fm_ajax_save(e){var t=jQuery("#"+e).action,n=jQuery("#search_value").val(),o=jQuery("#current_id").val(),i=jQuery("#page_number").val(),a=(jQuery("#search_or_not").val(),jQuery("#ids_string").val()),s=jQuery("#image_order_by").val(),r=jQuery("#asc_or_desc").val(),l=jQuery("#ajax_task").val(),c=jQuery("#image_current_id").val();return ids_array=a.split(","),jQuery.ajax({type:"POST",url:t,data:{search_value:n,current_id:o,page_number:i,image_order_by:s,asc_or_desc:r,ids_string:a,task:"ajax_search",ajax_task:l,image_current_id:c,nonce:fm_ajax.ajaxnonce},success:function(e){var t=jQuery(e).find("#images_table").html();jQuery("#images_table").html(t);t=jQuery(e).find("#tablenav-pages").html();jQuery("#tablenav-pages").html(t),jQuery("#show_hide_weights").val("Hide order column"),fm_show_hide_weights(),fm_run_checkbox()}}),!1}function fm_run_checkbox(){jQuery("tbody").children().children(".check-column").find(":checkbox").click(function(e){if("undefined"==e.shiftKey)return!0;if(e.shiftKey){if(!i)return!0;d=jQuery(i).closest("form").find(":checkbox"),f=d.index(i),j=d.index(this),h=jQuery(this).prop("checked"),0<f&&0<j&&f!=j&&d.slice(f,j).prop("checked",function(){return!!jQuery(this).closest("tr").is(":visible")&&h})}i=this;var t=jQuery(this).closest("tbody").find(":checkbox").filter(":visible").not(":checked");return jQuery(this).closest("table").children("thead, tfoot").find(":checkbox").prop("checked",function(){return 0==t.length}),!0}),jQuery("thead, tfoot").find(".check-column :checkbox").click(function(e){var t=jQuery(this).prop("checked"),n="undefined"!=typeof toggleWithKeyboard&&toggleWithKeyboard,o=e.shiftKey||n;jQuery(this).closest("table").children("tbody").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",function(){return!jQuery(this).is(":hidden")&&(o?jQuery(this).prop("checked"):!!t)}),jQuery(this).closest("table").children("thead,  tfoot").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",function(){return!o&&!!t})})}function fm_set_input_value(e,t){document.getElementById(e)&&(document.getElementById(e).value=t)}function fm_form_submit(e,t,n,o){document.getElementById(t)&&document.getElementById(t).submit(),e.preventDefault?e.preventDefault():e.returnValue=!1}function fm_check_required(e,t){return""==jQuery("#"+e).val()&&(alert(t+" field is required."),jQuery("#"+e).attr("style","border-color: #FF0000; border-style: solid; border-width: 1px;"),jQuery("#"+e).focus(),jQuery("html, body").animate({scrollTop:jQuery("#"+e).offset().top-200},500),!0)}function fm_show_hide_weights(){var o;"Show order column"==jQuery("#show_hide_weights").val()?(jQuery(".connectedSortable").css("cursor","default"),jQuery("#tbody_arr").find(".handle").hide(0),jQuery("#th_order").show(0),jQuery("#tbody_arr").find(".fm_order").show(0),jQuery("#show_hide_weights").val("Hide order column"),jQuery("#tbody_arr").sortable()&&jQuery("#tbody_arr").sortable("disable")):(jQuery(".connectedSortable").css("cursor","move"),o=jQuery("#page_number")&&""!=jQuery("#page_number").val()&&1!=jQuery("#page_number").val()?20*(jQuery("#page_number").val()-1)+1:1,jQuery("#tbody_arr").sortable({handle:".connectedSortable",connectWith:".connectedSortable",update:function(e,t){jQuery("#draganddrop").attr("style",""),jQuery("#draganddrop").html("<strong><p>Changes made in this table should be saved.</p></strong>");var n=o;jQuery(".fm_order").each(function(e){jQuery(this).find("input").val()&&jQuery(this).find("input").val(n++)})}}),jQuery("#tbody_arr").sortable("enable"),jQuery("#tbody_arr").find(".handle").show(0),jQuery("#tbody_arr").find(".handle").attr("class","handle connectedSortable"),jQuery("#th_order").hide(0),jQuery("#tbody_arr").find(".fm_order").hide(0),jQuery("#show_hide_weights").val("Show order column"))}function fm_popup(e){if(void 0===e)e="";var o,a,s;(o=function(){var e,t,n=jQuery("#TB_window"),o=jQuery(window).height(),i=jQuery(window).width();e=a&&a<i-90?a:i-40,t=s&&s<o-60?s:o-40,n.length&&(n.width(e).height(t),jQuery("#TB_iframeContent").width(e).height(t-27),n.css({"margin-left":"-"+parseInt(e/2,10)+"px"}),void 0!==document.body.style.maxWidth&&n.css({top:(o-t)/2,"margin-top":"0"}))})(),jQuery(window).resize(function(){o()}),jQuery("a.thickbox-preview"+e).click(function(){tb_click.call(this);var e=jQuery(this).parents(".available-theme").find(".activatelink"),t="",n=jQuery(this).attr("href");return a=(a=n.match(/&width=[0-9]+/))?parseInt(a[0].replace(/[^0-9]+/g,""),10):jQuery(window).width()-120,s=(s=n.match(/&height=[0-9]+/))?parseInt(s[0].replace(/[^0-9]+/g,""),10):jQuery(window).height()-120,t=e.length?'&nbsp; <a href="'+(e.attr("href")||"")+'" target="_top" class="tb-theme-preview-link">'+(e.attr("title")||"")+"</a>":'&nbsp; <span class="tb-theme-preview-link">'+(jQuery(this).attr("title")||"")+"</span>",jQuery("#TB_title").css({"background-color":"#222",color:"#dfdfdf"}),jQuery("#TB_closeAjaxWindow").css({float:"right"}),jQuery("#TB_ajaxWindowTitle").css({float:"left"}).html(t),jQuery("#TB_iframeContent").width("100%"),o(),!1}),jQuery(".theme-detail").click(function(){return jQuery(this).siblings(".themedetaildiv").toggle(),!1})}function bwg_inputs(){jQuery(".fm_int_input").keypress(function(e){var t=e.which||e.paramlist_keyCode;return!(31<t&&(t<48||57<t)&&46!=t&&45!=t)})}function fm_check_isnum(e){var t=e.which||e.paramlist_keyCode;return!(31<t&&(t<48||58<t)&&46!=t&&45!=t&&(t<65||70<t)&&(t<97||102<t))}function fm_change_payment_method(e){switch(e){case"paypal":jQuery(".fm_payment_option").show(),jQuery(".fm_paypal_option").show(),jQuery(".fm_payment_option_stripe").hide();break;case"stripe":jQuery(".fm_payment_option").hide(),jQuery(".fm_paypal_option").hide(),jQuery(".fm_payment_option_stripe").show();break;default:jQuery(".fm_payment_option").hide(),jQuery(".fm_paypal_option").hide(),jQuery(".fm_payment_option_stripe").hide()}}function stopRKey(e){var t=(e=e||(event||null)).target?e.target:e.srcElement?e.srcElement:null;if(13==e.keyCode&&("text"==t.type||"search"==t.type))return!1}function fmRemoveHeaderImage(e,t){jQuery("#header_image_url").val(""),jQuery("#header_image").css("background-image",""),jQuery("#header_image").addClass("fm-hide")}function fmOpenMediaUploader(e,t){void 0===t&&(t=!1),e.preventDefault();var n=wp.media({title:"Upload",button:{text:"Add Image"},multiple:!1}).on("select",function(){var e=n.state().get("selection").first().toJSON();jQuery("#header_image_url").val(e.url),jQuery("#header_image").css("background-image",'url("'+e.url+'")'),jQuery("#header_image").css("background-position","center"),jQuery("#header_image").removeClass("fm-hide")}).open();return!1}function fm_toggle_posts(e){jQuery(e).prop("checked")?jQuery(".fm-posts-show, .fm-cat-show").removeClass("fm-hide").addClass("fm-show"):jQuery(".fm-posts-show, .fm-cat-show").removeClass("fm-show").addClass("fm-hide")}function fm_toggle_pages(e){jQuery(e).prop("checked")?jQuery(".fm-pages-show").removeClass("fm-hide").addClass("fm-show"):jQuery(".fm-pages-show").removeClass("fm-show").addClass("fm-hide")}function fm_apply_options(e){fm_set_input_value("task",e),document.getElementById("manage_form").submit()}function pp_live_search(e,t,n){var o=e,i=o.val(),a=o.data("post_type");setTimeout(function(){i===o.val()&&jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"manage_fm",task:"fm_live_search",nonce:fm_ajax.ajaxnonce,pp_live_search:i,pp_post_type:a,pp_full_content:n},beforeSend:function(e){o.css("width","95%"),o.parent().find(".fm-loading").css("display","inline-block")},success:function(e){o.css("width","100%"),o.parent().find(".fm-loading").css("display","none"),o.closest(".fm-pp").find(".pp_search_results").replaceWith(e)},error:function(e){console.log(e)}})},t)}function fm_toggle(e){jQuery(e).parent().next().toggleClass("hide")}function change_tab(e){jQuery(".fm-subscriber-header .fm-button").removeClass("active-button"),jQuery(".fm-subscriber-header ."+e).addClass("active-button"),jQuery(".fm-subscriber-content").hide(),jQuery("."+e+"-tab").show()}function change_form_type(e){jQuery("#fieldset_id").val(e),jQuery(".fm-form-types span").removeClass("active"),jQuery(".fm-form-types").find(".fm-"+e).addClass("active"),jQuery("#type_settings_fieldset .wd-group").removeClass("fm-show").addClass("fm-hide")}function change_hide_show(e){jQuery("."+e+".fm-hide").removeClass("fm-hide").addClass("fm-temporary"),jQuery("."+e+".fm-show").removeClass("fm-show").addClass("fm-hide"),jQuery("."+e+".fm-show-table").removeClass("fm-show-table").addClass("fm-hide"),jQuery("."+e+".fm-temporary").removeClass("fm-temporary").addClass("fm-show"),"fm-embedded"!=e&&(fm_toggle_posts(jQuery(".pp_display_on #pt3")),fm_toggle_pages(jQuery(".pp_display_on #pt4")))}function fm_change_radio_checkbox_text(e){var t=[];t.stripemode=["Test","Live"],t.checkout_mode=["Testmode","Production"],t.mail_mode=["Text","HTML"],t.mail_mode_user=["Text","HTML"],t.value=["1","0"],t.popover_show_on=["Page Exit","Page Load"],t.topbar_position=["Bottom","Top"],t.scrollbox_position=["Left","Right"],jQuery(e).val(t.value[jQuery(e).val()]),jQuery(e).next().val(jQuery(e).val());var n=t[jQuery(e).attr("name")];jQuery(e).find("label").html(n[jQuery(e).val()]),jQuery(e).hasClass("fm-text-yes")?(jQuery(e).removeClass("fm-text-yes").addClass("fm-text-no"),jQuery(e).find("span").animate({right:parseInt(jQuery(e).css("width"))-14+"px"},400,function(){})):(jQuery(e).removeClass("fm-text-no").addClass("fm-text-yes"),jQuery(e).find("span").animate({right:0},400,function(){}))}function fm_show_hide(e){jQuery("."+e).hasClass("fm-hide")?jQuery("."+e).removeClass("fm-hide").addClass("fm-show"):jQuery("."+e).removeClass("fm-show").addClass("fm-hide")}function fm_delete_ip(e){jQuery("#td_ip_"+e+" .loading").css("display","initial");var n=jQuery("#blocked_ips").attr("action");jQuery.ajax({type:"POST",url:n,data:{current_id:e,nonce_fm:jQuery("#nonce_fm").val(),task:"delete_blocked_ip"},success:function(e){var t=parseInt(jQuery(e).find("#total_for_paging").html());isNaN(t)||(n=n.replace(/(paged=)[^\&]+/,"$1"+t)),jQuery("#blocked_ips").parent(".wrap").load(n+" #blocked_ips",function(){window.history.pushState(null,null,n),0!=jQuery(".updated").length?jQuery(" .updated p strong").html("Items Successfully Deleted"):jQuery("<div class='updated below-h2'><p><strong>Items Successfully Deleted.</strong></p></div>").insertBefore("#blocked_ips"),set_no_items()})}})}function fm_save_ip(t){var n=jQuery("#ip"+t).val();url=jQuery("#blocked_ips").attr("action"),jQuery.ajax({type:"POST",url:url,data:{ip:n,nonce_fm:jQuery("#nonce_fm").val(),task:"insert_blocked_ip"},success:function(e){jQuery("#td_ip_"+t).html('<a id="ip'+t+'" class="pointer" title="Edit" onclick="fm_edit_ip('+t+')">'+n+"</a>"),jQuery(".insert, .error").hide(),jQuery("#fm_blocked_ips_message").html("<div class='updated'><strong><p>Items Successfully Inserted.</p></strong></div>"),jQuery("#fm_blocked_ips_message").show()}})}function fm_insert_blocked_ip(){jQuery("#tr .loading").css("display","initial");var e=jQuery("#fm_ip").val(),t=window.location.href;jQuery.ajax({type:"POST",url:t,data:{ip:e,nonce_fm:jQuery("#nonce_fm").val(),task:"insert_blocked_ip",last_id:1},success:function(e){jQuery("#blocked_ips").parent(".wrap").load(t+" #blocked_ips",function(){window.history.pushState(null,null,t),0!=jQuery(".updated").length?jQuery(".updated p strong").html("Items Successfully Saved"):jQuery("<div class='updated below-h2'><p><strong>Items Successfully Saved.</strong></p></div>").insertBefore("#blocked_ips")})}})}function fm_edit_ip(e){var t='<input id="ip'+e+'" class="input_th'+e+' ip_input" type="text" onkeypress="if(event.keyCode == 13){ if (fm_check_required(\'ip'+e+"', 'IP')) {return false;} fm_update_blocked_ip("+e+'); } return fm_check_isnum(event); "  value="'+jQuery("#ip"+e).html()+'" name="ip'+e+'"/>';t+='<input type="button" class="button ip_save" style="margin-left: 5px" onclick="if (fm_check_required(\'ip'+e+"', 'IP')) {return false;} fm_update_blocked_ip("+e+'); return false;" value="Save"><div class="loading">',t+="<img src="+plugin_url+"/images/loading.gif></div>",jQuery("#td_ip_"+e).html(t)}function fm_enter_ip(e){if(13==e.which){if(fm_check_required("fm_ip","IP"))return!1;e.preventDefault(),fm_insert_blocked_ip()}}function fm_update_blocked_ip(e){jQuery("#td_ip_"+e+" .loading").css("display","initial");var t=jQuery("#ip"+e).val(),n=window.location.href;jQuery.ajax({type:"POST",url:n,data:{ip:t,current_id:e,nonce_fm:jQuery("#nonce_fm").val(),task:"update_blocked_ip"},success:function(e){jQuery("#fm-form-admin").load(n+" #blocked_ips",function(){0!=jQuery(".updated").length?(window.history.pushState(null,null,n),jQuery(".updated p strong").html("Items Successfully Updated")):jQuery("<div class='updated below-h2'><p><strong>Items Successfully Updated.</strong></p></div>").insertBefore("#blocked_ips")})}})}function onEnableChange(e,t,n){var o=jQuery("#"+e+" #"+t);"1"==n?o.removeClass("hidden"):o.addClass("hidden")}function show_stats(){var e=jQuery(".fm-statistics .fm_error_sorted_label_key");""!=jQuery("#sorted_label_key").val()?(e.hide(),jQuery(".fm-div_stats-loading").addClass("is-active"),jQuery.ajax({dataType:"json",type:"POST",url:show_stats_url,data:{sorted_label_key:jQuery("#sorted_label_key").val(),startdate:jQuery("#startstats").val(),enddate:jQuery("#endstats").val(),nonce:fm_ajax.ajaxnonce},beforeSend:function(e){},error:function(e){},success:function(e){jQuery(".fm-div_stats-loading").removeClass("is-active"),e.html&&jQuery("#div_stats").html(e.html)}})):e.show()}function fm_loading_show(){jQuery("#fm_loading").show()}function fm_loading_hide(){jQuery("#fm_loading").hide(),"function"==typeof add_scroll_width&&add_scroll_width(),set_no_items()}function getFormLocalStorage(){var e={};formId=getAllUrlParams().current_id;var t=localStorage.getItem("fm_form"+formId);return null!=t&&(e=jQuery.parseJSON(t)),e}function getAllUrlParams(e){var t=e?e.split("?")[1]:window.location.search.slice(1),n={};if(t)for(var o=(t=t.split("#")[0]).split("&"),i=0;i<o.length;i++){var a=o[i].split("="),s=void 0,r=a[0].replace(/\[\d*\]/,function(e){return s=e.slice(1,-1),""}),l=void 0===a[1]||a[1];r=r.toLowerCase(),l=l.toLowerCase(),n[r]?("string"==typeof n[r]&&(n[r]=[n[r]]),void 0===s?n[r].push(l):n[r][s]=l):n[r]=l}return n}function fm_disabled_uninstall_btn(){jQuery(".fm-uninstall-form .fm-uninstall-btn").prop("disabled",!0),jQuery(".fm-uninstall-form #check_yes").is(":checked")&&jQuery(".fm-uninstall-form .fm-uninstall-btn").prop("disabled",!1)}function fm_html_entities(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function remove_whitespace(e){var t;for(t=0;t<e.childNodes.length;t++)e.childNodes[t]&&"3"==e.childNodes[t].nodeType&&!/\S/.test(e.childNodes[t].nodeValue)?(e.removeChild(e.childNodes[t]),t--):e.childNodes[t].childNodes.length&&remove_whitespace(e.childNodes[t])}function fm_row_handle(e){var t=jQuery(e);t.find(".wdform_row_handle").remove();var n=jQuery('<div class="wdform_row_handle"><span class="fm-ico-draggable"></span><span title="Remove the column" class="page_toolbar fm-ico-delete" onclick="fm_remove_row_popup(this);"></span>'+"<span class=\"add-new-field\" onclick=\"jQuery('#cur_column').removeAttr('id');jQuery(this).parent().parent().attr('id', 'cur_column').val(1);popup_ready(); Enable(); return false;\">"+form_maker_manage.add_new_field+'</span><div class="fm-divider"></div></div>');t.prepend(n),n.after('<div class="fm-section-overlay"></div>')}function sortable_columns(){jQuery("#take").sortable({cursor:"move",placeholder:"highlight",tolerance:"pointer",handle:".form_id_tempform_view_img .fm-ico-draggable",items:"> .wdform-page-and-images",axis:"y",update:function(e,t){refresh_page_numbers()}}),jQuery(".wdform_page").sortable({connectWith:".wdform_page",cursor:"move",placeholder:"highlight",tolerance:"pointer",handle:".wdform_row_handle",cancel:".add-new-field, .page_toolbar",items:"> .wdform_section",create:function(e,t){jQuery(e.target).find(".wdform_section").each(function(){fm_row_handle(this)})},start:function(e,t){jQuery(".wdform_row_empty").hide()},stop:function(e,t){fm_rows_refresh(),jQuery(".wdform_row_empty").show()}}),jQuery(".wdform_column").sortable({connectWith:".wdform_column",cursor:"move",placeholder:"highlight",tolerance:"pointer",cancel:".wdform_section_handle",items:"> .wdform_row, #add_field",start:function(e,t){jQuery(".add-new-button").off("click"),jQuery(".wdform_column").removeClass("fm-hidden"),jQuery("#cur_column").removeAttr("id")},stop:function(e,t){return"add_field_cont"!=t.item.parent().attr("id")&&("add_field"==t.item.attr("id")&&"add_field_cont"!=t.item.parent().attr("id")?(nextID=jQuery("#add_field").next(".wdform_row").attr("wdid"),jQuery("#add_field").parent().attr("id","cur_column"),popup_ready(),Enable(),jQuery(".add-new-button").removeAttr("onclick"),!1):(jQuery(".wdform_column:not(#add_field_cont):empty").addClass("fm-hidden"),void fm_columns_refresh()))}})}function all_sortable_events(){fm_rows_refresh(),fm_columns_refresh(),jQuery(".wdform_row, .wdform_tr_section_break").off("mouseover touchstart").on("mouseover touchstart",function(e){if(!jQuery(this).find(".wdform_arrows").is(":visible"))return jQuery(".wdform_arrows").hide(),jQuery(this).find(".wdform_arrows").show(),e.preventDefault(),!1}).off("mouseleave").on("mouseleave",function(){jQuery(this).find(".wdform_arrows").hide()}),jQuery(".wdform_section_handle, .wdform_row_handle").off("mouseover touchstart").on("mouseover touchstart",function(e){jQuery(this).parent().addClass("fm-hover")}).off("mouseleave").on("mouseleave",function(){jQuery(this).parent().removeClass("fm-hover")})}function fm_change_radio(e){jQuery(e).hasClass("fm-yes")?(jQuery(e).val("0"),jQuery(e).next().val("0"),jQuery(e).removeClass("fm-yes").addClass("fm-no"),jQuery(e).find("span").animate({right:parseInt(jQuery(e).css("width"))-14+"px"},400,function(){})):(jQuery(e).val("1"),jQuery(e).next().val("1"),jQuery(e).find("span").animate({right:0},400,function(){jQuery(e).removeClass("fm-no").addClass("fm-yes")})),"mail_verify"==jQuery(e).next().attr("name")&&show_verify_options(1==jQuery(e).val())}function enable_drag(){jQuery(".wdform_column").sortable("enable"),jQuery(".wdform_arrows_advanced").hide(),jQuery(".wdform_field").css("cursor",""),jQuery("#add_field .wdform_field").css("cursor",""),all_sortable_events()}function refresh_(){document.getElementById("counter").value=gen,jQuery(".wdform-page-and-images").each(function(){var e=jQuery(this);e.find("[id^=page_next_]").removeAttr("src"),e.find("[id^=page_previous_]").removeAttr("src"),e.find(".form_id_tempform_view_img").remove()}),jQuery("#take div").removeClass("ui-sortable ui-sortable-disabled ui-sortable-handle"),jQuery("#add_field_cont").remove(),document.getElementById("form_front").value=fm_base64EncodeUnicode(fm_htmlentities(document.getElementById("take").innerHTML))}function fm_base64EncodeUnicode(e){return utf8Bytes=encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}),btoa(utf8Bytes)}function fm_htmlentities(e){var t=document.createElement("div"),n=document.createTextNode(e);return t.style.cssText="display:none",t.appendChild(n),t.innerHTML}function fm_add_submission_email(e,t,n,o){var i=jQuery("#"+t).val();if(i){var a=jQuery("<p>").attr("class","fm_mail_input").prependTo("#"+n);jQuery("<span>").attr("class","mail_name").text(i).appendTo(a),jQuery("<span>").attr("class","dashicons dashicons-trash").attr("onclick","fm_delete_mail(this, '"+i+"')").attr("title","Delete Email").appendTo(a),jQuery("#"+t).val(""),jQuery("#"+e).val(jQuery("#"+e).val()+i+",")}}function fm_delete_mail(e,t){jQuery(e).parent().remove(),jQuery("#mail").val(jQuery("#mail").val().replace(t+",",""))}function form_maker_options_tabs(e){return jQuery("#fieldset_id").val(e),jQuery(".fm_fieldset_active").removeClass("fm_fieldset_active").addClass("fm_fieldset_deactive"),jQuery("#"+e+"_fieldset").removeClass("fm_fieldset_deactive").addClass("fm_fieldset_active"),jQuery(".fm_fieldset_tab").removeClass("active"),jQuery("#"+e).addClass("active"),!1}function set_type(e){switch(e){case"post":document.getElementById("post").removeAttribute("style"),document.getElementById("page").setAttribute("style","display:none"),document.getElementById("custom_text").setAttribute("style","display:none"),document.getElementById("url_wrap").setAttribute("style","display:none");break;case"page":document.getElementById("page").removeAttribute("style"),document.getElementById("post").setAttribute("style","display:none"),document.getElementById("custom_text").setAttribute("style","display:none"),document.getElementById("url_wrap").setAttribute("style","display:none");break;case"custom_text":document.getElementById("page").setAttribute("style","display:none"),document.getElementById("post").setAttribute("style","display:none"),document.getElementById("custom_text").removeAttribute("style"),document.getElementById("url_wrap").setAttribute("style","display:none");break;case"url_wrap":document.getElementById("page").setAttribute("style","display:none"),document.getElementById("post").setAttribute("style","display:none"),document.getElementById("custom_text").setAttribute("style","display:none"),document.getElementById("url_wrap").removeAttribute("style");break;case"none":document.getElementById("page").setAttribute("style","display:none"),document.getElementById("post").setAttribute("style","display:none"),document.getElementById("custom_text").setAttribute("style","display:none"),document.getElementById("url_wrap").setAttribute("style","display:none")}}function check_isnum(e){var t=e.which||e.keyCode;return!(31<t&&(t<48||57<t)&&46!=t&&45!=t&&(t<35||40<t))}function fm_check_email(e){if(document.getElementById(e)&&""!=jQuery("#"+e).val()){for(var t=jQuery("#"+e).val().split(","),n=/^[\u0400-\u04FFa-zA-Z0-9.+_-]+@[\u0400-\u04FFa-zA-Z0-9.-]+\.[\u0400-\u04FFa-zA-Z]{2,61}$/,o=0;o<t.length;o++){var i=t[o].replace(/^\s+|\s+$/g,"");if(i&&!n.test(i)&&-1===i.indexOf("{")){if(alert("This is not a valid email address."),jQuery("#submenu li a").hasClass("active")){var a=jQuery("#submenu .active").attr("id");if(void 0!==(r=jQuery("#"+e).closest(".fm_fieldset_deactive").attr("id")))if(a!=(l=r.split("_fieldset")[0])){var s=a+"_fieldset";jQuery("#"+s).removeClass("fm_fieldset_active"),jQuery("#"+s).removeClass("fm_fieldset_deactive"),jQuery("#"+r).addClass("fm_fieldset_active"),jQuery("#submenu .active").removeClass("active"),jQuery("#"+l).addClass("active")}}else{var r;if(void 0!==(r=jQuery("#"+e).closest(".fm_fieldset_deactive").attr("id"))){var l=r.split("_fieldset");l=l[0],jQuery("#"+r).removeClass("fm_fieldset_deactive"),jQuery("#"+r).addClass("fm_fieldset_active"),jQuery("#"+l).addClass("active")}}return jQuery("#"+e).css("border","1px solid #FF0000"),jQuery("#"+e).focus(),jQuery("html, body").animate({scrollTop:jQuery("#"+e).offset().top-200},500),!0}}jQuery("#"+e).css("border","1px solid #ddd")}return!1}function wdhide(e){document.getElementById(e).style.display="none"}function wdshow(e){document.getElementById(e).style.display="block"}function delete_field_condition(e){var t=e.split("_");document.getElementById("condition"+t[0]).removeChild(document.getElementById("condition_div"+e))}function change_choices(e,t,n,o){switch(e=e.split("_"),global_index=e[0],id=e[1],index=e[2],ids_array=t.split("@@**@@"),types_array=n.split("@@**@@"),params_array=o.split("@@**@@"),types_array[id]){case"type_text":case"type_password":case"type_textarea":case"type_name":case"type_submitter_mail":case"type_number":case"type_phone":case"type_paypal_price":case"type_paypal_price_new":case"type_spinner":case"type_date_new":case"type_phone_new":case"type_time":if("type_number"==types_array[id]||"type_phone"==types_array[id])var i="return check_isnum_space(event)";else if("type_paypal_price"==types_array[id]||"type_paypal_price_new"==types_array[id])i="return check_isnum_point(event)";else i="";if("SELECT"==document.getElementById("field_value"+global_index+"_"+index).tagName){document.getElementById("condition_div"+global_index+"_"+index).removeChild(document.getElementById("field_value"+global_index+"_"+index));var a=document.createElement("input");a.setAttribute("id","field_value"+global_index+"_"+index),a.setAttribute("type","text"),a.setAttribute("value",""),a.setAttribute("class","fm_condition_field_input_value"),a.setAttribute("onKeyPress",i),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(a,document.getElementById("delete_condition"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(document.createTextNode(" "),document.getElementById("delete_condition"+global_index+"_"+index))}else document.getElementById("field_value"+global_index+"_"+index).value="",document.getElementById("field_value"+global_index+"_"+index).setAttribute("onKeyPress",i);break;case"type_own_select":case"type_radio":case"type_checkbox":for("type_own_select"==types_array[id]?w_size=params_array[id].split("*:*w_size*:*"):w_size=params_array[id].split("*:*w_flow*:*"),w_choices=w_size[1].split("*:*w_choices*:*"),w_choices_array=w_choices[0].split("***"),-1!==w_size[1].indexOf("*:*w_value_disabled*:*")?(w_value_disabled=w_size[1].split("*:*w_value_disabled*:*"),w_choices_value=w_value_disabled[1].split("*:*w_choices_value*:*"),w_choices_value_array=w_choices_value[0].split("***")):w_choices_value_array=w_choices_array,(r=document.createElement("select")).setAttribute("id","field_value"+global_index+"_"+index),r.setAttribute("class","fm_condition_field_select_value"),"type_checkbox"==types_array[id]&&(r.setAttribute("multiple","multiple"),r.setAttribute("class","multiple_select")),k=0;k<w_choices_array.length;k++){(s=document.createElement("option")).setAttribute("id","choise_"+global_index+"_"+k),s.setAttribute("value",w_choices_value_array[k]),s.innerHTML=w_choices_array[k],-1===w_choices_array[k].indexOf("[")&&-1===w_choices_array[k].indexOf("]")&&r.appendChild(s)}document.getElementById("condition_div"+global_index+"_"+index).removeChild(document.getElementById("field_value"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(r,document.getElementById("delete_condition"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(document.createTextNode(" "),document.getElementById("delete_condition"+global_index+"_"+index));break;case"type_paypal_select":case"type_paypal_radio":case"type_paypal_checkbox":case"type_paypal_shipping":for("type_paypal_select"==types_array[id]?w_size=params_array[id].split("*:*w_size*:*"):w_size=params_array[id].split("*:*w_flow*:*"),w_choices=w_size[1].split("*:*w_choices*:*"),w_choices_array=w_choices[0].split("***"),w_choices_price=w_choices[1].split("*:*w_choices_price*:*"),w_choices_price_array=w_choices_price[0].split("***"),(r=document.createElement("select")).setAttribute("id","field_value"+global_index+"_"+index),r.setAttribute("class","fm_condition_field_select_value"),"type_paypal_checkbox"==types_array[id]&&(r.setAttribute("multiple","multiple"),r.setAttribute("class","multiple_select")),k=0;k<w_choices_array.length;k++){var s;(s=document.createElement("option")).setAttribute("id","choise_"+global_index+"_"+k),s.setAttribute("value",w_choices_array[k]+"*:*value*:*"+w_choices_price_array[k]),s.innerHTML=w_choices_array[k],-1===w_choices_array[k].indexOf("[")&&-1===w_choices_array[k].indexOf("]")&&r.appendChild(s)}document.getElementById("condition_div"+global_index+"_"+index).removeChild(document.getElementById("field_value"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(r,document.getElementById("delete_condition"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(document.createTextNode(" "),document.getElementById("delete_condition"+global_index+"_"+index));break;case"type_address":var r;countries=form_maker.countries,(r=document.createElement("select")).setAttribute("id","field_value"+global_index+"_"+m),r.setAttribute("class","fm_condition_field_select_value"),jQuery.each(countries,function(e,t){var n=document.createElement("option");r.setAttribute("id","field_value"+global_index+"_"+index),n.setAttribute("value",t),n.innerHTML=t,r.appendChild(n)}),document.getElementById("condition_div"+global_index+"_"+index).removeChild(document.getElementById("field_value"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(r,document.getElementById("delete_condition"+global_index+"_"+index)),document.getElementById("condition_div"+global_index+"_"+index).insertBefore(document.createTextNode(" "),document.getElementById("delete_condition"+global_index+"_"+index))}}function add_condition_fields(o,e,t,n,a){for(ids=e.split("@@**@@"),labels=t.split("@@**@@"),types=n.split("@@**@@"),params=a.split("@@**@@"),i=500;0<=i&&!document.getElementById("condition_div"+o+"_"+i);i--);m=i+1;var s=document.createElement("div");s.setAttribute("id","condition_div"+o+"_"+m);var r=document.createElement("select");for(r.setAttribute("id","field_labels"+o+"_"+m),r.setAttribute("onchange","change_choices(options[selectedIndex].id+'_"+m+"','"+e+"','"+n+"','"+a.replace(/\'/g,"\\'")+"')"),r.setAttribute("class","fm_condition_field_labels"),k=0;k<labels.length;k++)if(ids[k]!=document.getElementById("fields"+o).value){var l=document.createElement("option");l.setAttribute("id",o+"_"+k),l.setAttribute("value",ids[k]),l.innerHTML=labels[k],r.appendChild(l)}s.appendChild(r),s.appendChild(document.createTextNode(" "));var c=document.createElement("select");c.setAttribute("id","is_select"+o+"_"+m),c.setAttribute("class","fm_condition_is_select");var d=document.createElement("option");d.setAttribute("id","is"),d.setAttribute("value","=="),d.innerHTML="is";var u=document.createElement("option");u.setAttribute("id","is_not"),u.setAttribute("value","!="),u.innerHTML="is not";var p=document.createElement("option");p.setAttribute("id","like"),p.setAttribute("value","%"),p.innerHTML="like";var f=document.createElement("option");f.setAttribute("id","not_like"),f.setAttribute("value","!%"),f.innerHTML="not like";var h=document.createElement("option");h.setAttribute("id","empty"),h.setAttribute("value","="),h.innerHTML="empty";var y=document.createElement("option");if(y.setAttribute("id","not_empty"),y.setAttribute("value","!"),y.innerHTML="not empty",c.appendChild(d),c.appendChild(u),c.appendChild(p),c.appendChild(f),c.appendChild(h),c.appendChild(y),s.appendChild(c),s.appendChild(document.createTextNode(" ")),ids[0]!=document.getElementById("fields"+o).value)var _=0;else _=1;switch(types[_]){case"type_text":case"type_star_rating":case"type_password":case"type_textarea":case"type_name":case"type_submitter_mail":case"type_phone":case"type_number":case"type_paypal_price":case"type_paypal_price_new":case"type_spinner":case"type_date_new":case"type_phone_new":case"type_time":if("type_number"==types[_]||"type_phone"==types[_])var g="return check_isnum_space(event)";else if("type_paypal_price"==types[_]||"type_paypal_price_new"==types[_])g="return check_isnum_point(event)";else g="";var b=document.createElement("input");if(b.setAttribute("id","field_value"+o+"_"+m),b.setAttribute("type","text"),b.setAttribute("value",""),b.setAttribute("class","fm_condition_field_input_value"),b.setAttribute("onKeyPress",g),s.appendChild(b),"type_time"==types[_]){var v=document.createElement("label");v.innerText="Please use HH:MM format for 24-hour time (e.g. 22:15), and HH:MM:AM or HH:MM:PM for 12-hour time (e.g. 05:20:AM / 07:30:PM).",v.style.margin="0 3px",s.appendChild(v)}break;case"type_checkbox":case"type_radio":case"type_own_select":for("type_own_select"==types[_]?w_size=params[_].split("*:*w_size*:*"):w_size=params[_].split("*:*w_flow*:*"),w_choices=w_size[1].split("*:*w_choices*:*"),w_choices_array=w_choices[0].split("***"),-1!==w_size[1].indexOf("*:*w_value_disabled*:*")?(w_value_disabled=w_size[1].split("*:*w_value_disabled*:*"),w_choices_value=w_value_disabled[1].split("*:*w_choices_value*:*"),w_choices_value_array=w_choices_value[0].split("***")):w_choices_value_array=w_choices_array,(x=document.createElement("select")).setAttribute("id","field_value"+o+"_"+m),x.style.cssText="vertical-align: top; width:200px;","type_checkbox"==types[_]&&(x.setAttribute("multiple","multiple"),x.setAttribute("class","multiple_select")),k=0;k<w_choices_array.length;k++){(w=document.createElement("option")).setAttribute("id","choise_"+o+"_"+k),w.setAttribute("value",w_choices_value_array[k]),w.innerHTML=w_choices_array[k],-1===w_choices_array[k].indexOf("[")&&-1===w_choices_array[k].indexOf("]")&&x.appendChild(w)}s.appendChild(x);break;case"type_paypal_select":case"type_paypal_checkbox":case"type_paypal_radio":case"type_paypal_shipping":for("type_paypal_select"==types[_]?w_size=params[_].split("*:*w_size*:*"):w_size=params[_].split("*:*w_flow*:*"),w_choices=w_size[1].split("*:*w_choices*:*"),w_choices_array=w_choices[0].split("***"),w_choices_price=w_choices[1].split("*:*w_choices_price*:*"),w_choices_price_array=w_choices_price[0].split("***"),(x=document.createElement("select")).setAttribute("id","field_value"+o+"_"+m),x.style.cssText="vertical-align: top; width:200px;","type_paypal_checkbox"==types[_]&&(x.setAttribute("multiple","multiple"),x.setAttribute("class","multiple_select")),k=0;k<w_choices_array.length;k++){var w;(w=document.createElement("option")).setAttribute("id","choise_"+o+"_"+k),w.setAttribute("value",w_choices_array[k]+"*:*value*:*"+w_choices_price_array[k]),w.innerHTML=w_choices_array[k],-1===w_choices_array[k].indexOf("[")&&-1===w_choices_array[k].indexOf("]")&&x.appendChild(w)}s.appendChild(x);break;case"type_address":var x;countries=form_maker.countries,(x=document.createElement("select")).setAttribute("id","field_value"+o+"_"+m),x.setAttribute("class","fm_condition_field_select_value"),jQuery.each(countries,function(e,t){var n=document.createElement("option");n.setAttribute("id","choise_"+o+"_"+k),n.setAttribute("value",t),n.innerHTML=t,x.appendChild(n)}),s.appendChild(x)}s.appendChild(document.createTextNode(" "));var j=document.createElement("span");j.setAttribute("class","dashicons dashicons-trash"),j.setAttribute("id","delete_condition"+o+"_"+m),j.setAttribute("onClick",'delete_field_condition("'+o+"_"+m+'")'),j.style.cssText="vertical-align: middle",s.appendChild(j),document.getElementById("condition"+o).appendChild(s)}function add_condition(e,t,n,o,a,s){for(i=500;0<=i&&!document.getElementById("condition"+i);i--);num=i+1,ids=a.split("@@**@@"),labels=s.split("@@**@@");var r=document.createElement("div");r.setAttribute("id","condition"+num),r.setAttribute("class","fm_condition");var l=document.createElement("div");l.setAttribute("id","conditional_fileds"+num);var c=document.createElement("select");c.setAttribute("id","show_hide"+num),c.setAttribute("name","show_hide"+num),c.setAttribute("class","fm_condition_show_hide");var d=document.createElement("option");d.setAttribute("value","1"),d.innerHTML="show";var u=document.createElement("option");u.setAttribute("value","0"),u.innerHTML="hide",c.appendChild(d),c.appendChild(u);var p=document.createElement("select");for(p.setAttribute("id","fields"+num),p.setAttribute("name","fields"+num),p.setAttribute("class","fm_condition_fields"),k=0;k<labels.length;k++){var f=document.createElement("option");f.setAttribute("value",ids[k]),f.innerHTML=labels[k],p.appendChild(f)}var m=document.createElement("span");m.innerHTML="if";var h=document.createElement("select");h.setAttribute("id","all_any"+num),h.setAttribute("name","all_any"+num),h.setAttribute("class","fm_condition_all_any");var y=document.createElement("option");y.setAttribute("value","and"),y.innerHTML="all";var _=document.createElement("option");_.setAttribute("value","or"),_.innerHTML="any",h.appendChild(y),h.appendChild(_);var g=document.createElement("span");g.style.maxWidth="235px",g.style.width="100%",g.style.display="inline-block",g.innerHTML="of the following match:";var b=document.createElement("span");b.setAttribute("class","dashicons dashicons-plus-alt"),b.setAttribute("onClick",'add_condition_fields("'+num+'", "'+e+'", "'+t.replace(/\'/g,"\\'").replace(/\"/g,"&quot;")+'", "'+n.replace(/\'/g,"\\'").replace(/\"/g,"&quot;")+'", "'+o.replace(/\'/g,"\\'").replace(/\"/g,"&quot;")+'")');var v=document.createElement("span");v.setAttribute("class","dashicons dashicons-trash"),v.setAttribute("onClick",'delete_condition("'+num+'")'),l.appendChild(c),l.appendChild(document.createTextNode(" ")),l.appendChild(p),l.appendChild(document.createTextNode(" ")),l.appendChild(m),l.appendChild(document.createTextNode(" ")),l.appendChild(h),l.appendChild(document.createTextNode(" ")),l.appendChild(g),l.appendChild(document.createTextNode(" ")),l.appendChild(v),l.appendChild(document.createTextNode(" ")),l.appendChild(b),r.appendChild(l),document.getElementById("conditions_fieldset_wrap").appendChild(r)}function delete_condition(e){document.getElementById("conditions_fieldset_wrap").removeChild(document.getElementById("condition"+e))}function acces_level(e){var t="";for(i=0;i<=parseInt(e);i++)document.getElementById("user_"+i).checked&&(t=t+document.getElementById("user_"+i).value+",");document.getElementById("user_id_wd").value=t}function check_isnum_space(e){var t=e.which||e.keyCode;return 32==t||!(31<t&&(t<48||57<t))}function check_isnum_point(e){var t=e.which||e.keyCode;return 46==t||!(31<t&&(t<48||57<t))}function check_stripe_required_fields(){if(jQuery("#paypal_mode2").prop("checked"))for("1"==jQuery("#stripemode").val()?(fields=["live_sec","live_pub"],fields_titles=["Live secret key","Live publishable key"]):(fields=["test_sec","test_pub"],fields_titles=["Test secret key","Test publishable key"]),i=0;i<fields.length;i++)if(!jQuery("#"+fields[i]).val())return jQuery("#"+fields[i]).focus(),alert(fields_titles[i]+" is required."),!0;return!1}function check_calculator_required_fields(){var n=0;return jQuery(jQuery("#wd_calculated_field_table").find('[id^="wdc_equation_"]')).each(function(){if(""==jQuery(this).val()){var e=jQuery(this).attr("id").replace("wdc_equation_",""),t=jQuery(jQuery("#wd_calculated_field_table").find("[data-field='"+e+"']")).html();n=1,jQuery(this).focus(),alert("Set equation for the field "+t)}if(1==n)return!1}),1==n}function set_theme(){theme_id="0"==jQuery("#theme").val()?default_theme:jQuery("#theme").val(),jQuery("#edit_css").attr("onclick","window.open('"+theme_edit_url+"&current_id="+theme_id+"'); return false;"),1==jQuery("#theme option:selected").attr("data-version")?jQuery("#old_theme_notice").show():jQuery("#old_theme_notice").hide()}function filter_fields_submit(){jQuery("#fm-fields-filter").find("input").keypress(function(e){13==e.which&&(jQuery("#fm-fields-filter").find("#fm_is_search").val(1),fm_form_submit(!1,"admin_form"))})}function show_hide_filter(){return jQuery(".show-filter").toggle(),jQuery(".hide-filter").toggle(),"none"==document.getElementById("fm-fields-filter").style.display?(document.getElementById("fm-fields-filter").style.display="",jQuery(".fm-bulk-actions .search_reset_button").show()):(document.getElementById("fm-fields-filter").style.display="none",jQuery(".fm-bulk-actions .search_reset_button").hide()),add_scroll_width(),!1}function add_scroll_width(){var e=jQuery(".fm-table-submissions").width(),n=0;jQuery.each(jQuery("#fm-scroll table tr.fm_table_head td:visible, #fm-scroll table tr.fm_table_head th:visible"),function(e,t){n+=jQuery(this).width()}),jQuery(".table-scroll-1, .table-scroll-2").css({width:n+"px"}),jQuery(".table-wrapper-1, .table-wrapper-2").css({"overflow-x":"scroll"}),n<e&&remove_scroll_width()}function remove_scroll_width(){jQuery(".table-wrapper-1, .table-wrapper-2").css("overflow-x","hidden"),jQuery(".table-scroll-1, .table-scroll-2").css("width","auto")}function add_scroll_left(){jQuery(".table-wrapper-1").scroll(function(){jQuery(".table-wrapper-2").scrollLeft(jQuery(".table-wrapper-1").scrollLeft())}),jQuery(".table-wrapper-2").scroll(function(){jQuery(".table-wrapper-1").scrollLeft(jQuery(".table-wrapper-2").scrollLeft())})}function tableOrdering(e,t,n){var o=document.admin_form;o.filter_order2.value=e,o.filter_order_Dir2.value=t,submitform(n)}function ordering(e,t){document.getElementById("asc_or_desc").value=t,document.getElementById("order_by").value=e,document.getElementById("admin_form").submit()}function renderColumns(){for(curTag in allTags=document.getElementsByTagName("*"),allTags)void 0!==allTags[curTag].className&&0<allTags[curTag].className.indexOf("_fc")&&(curLabel=allTags[curTag].className.replace("_fc",""),curLabel=curLabel.replace("table_large_col ",""),0<=document.forms.admin_form.hide_label_list.value.indexOf("@"+curLabel+"@")?allTags[curTag].style.display="none":allTags[curTag].style.display=""),void 0!==allTags[curTag].id&&0<allTags[curTag].id.indexOf("_fc")&&(curLabel=allTags[curTag].id.replace("_fc",""),0<=document.forms.admin_form.hide_label_list.value.indexOf("@"+curLabel+"@")?allTags[curTag].style.display="none":allTags[curTag].style.display="")}function clickLabChB(e,t){document.forms.admin_form.hide_label_list.value=document.forms.admin_form.hide_label_list.value.replace("@"+e+"@",""),""==document.forms.admin_form.hide_label_list.value&&(document.getElementById("ChBAll").checked=!0),t.checked||(document.forms.admin_form.hide_label_list.value+="@"+e+"@",document.getElementById("ChBAll").checked=!1),renderColumns(),set_all_column_checkbox_checked()}function toggleChBDiv(e){if(e){var t=jQuery(window).width(),n=jQuery(window).height();document.getElementById("sbox-overlay").style.width=t+"px",document.getElementById("sbox-overlay").style.height=n+"px",document.getElementById("ChBDiv").style.left=Math.floor((t-350)/2)+"px",document.getElementById("ChBDiv").style.display="block",document.getElementById("sbox-overlay").style.display="block",set_columns_history_checked()}else document.getElementById("ChBDiv").style.display="none",document.getElementById("sbox-overlay").style.display="none",set_show_hide_column_ids(),show_hide_columns_history();add_scroll_width(),add_scroll_left()}function set_columns_history_checked(){if(getFormLocalStorage().show_hide_column_ids){var e=getFormLocalStorage().show_hide_column_ids,t=jQuery("#ChBDiv input[type=checkbox]");t.filter(":checkbox").prop("checked",!1);document.getElementById("ChBAll");t.length!=e.length&&jQuery("#ChBAll").addClass("fm-remove_before"),t.length==e.length&&jQuery("#ChBAll").removeClass("fm-remove_before"),jQuery.each(e,function(e,t){jQuery("#ChBDiv #"+t).prop("checked",!0).prop("checked")})}}function set_all_column_checkbox_checked(){var e=jQuery("#ChBAll"),t=jQuery("#ChBDiv input[type=checkbox]");t.length==t.filter(":checked").length?e.removeClass("fm-remove_before").prop("checked",!0):e.addClass("fm-remove_before").prop("checked",!1)}function set_show_hide_column_ids(){var o=[],e={};jQuery("#ChBDiv input[type=checkbox]").each(function(e,t){if(this.checked){var n=jQuery(this).attr("id");o.push(n)}}),e.show_hide_column_ids=o,localStorage.setItem("fm_form"+formId,JSON.stringify(e))}function show_hide_columns_history(){getFormLocalStorage().show_hide_column_ids&&(jQuery("#fm-submission-lists th, #fm-submission-lists td").addClass("fm-hide-column"),jQuery.each(getFormLocalStorage().show_hide_column_ids,function(e,t){var n=t.replace("fm_check_id_","");n=n.replace("fm_check_",""),jQuery("#fm-submission-lists ."+n+"_fc").removeClass("fm-hide-column").addClass("fm-show-column")}),jQuery("#fm-submission-lists .fm-column-not-hide").removeClass("fm-hide-column"))}function submit_del(e){document.getElementById("admin_form").action=e,document.getElementById("admin_form").submit()}function submitbutton(e){document.adminForm;"cancel_theme"!=e?""!=document.getElementById("title").value?submitform(e):alert("The theme must have a title."):submitform(e)}function submitform(e){document.getElementById("adminForm").action=document.getElementById("adminForm").action+"&task="+e,document.getElementById("adminForm").submit()}function edit_star_rating(e,t){rated=!0,star_amount=document.getElementById(t+"_star_amountform_id_temp").value;for(var n=0;n<=e;n++)document.getElementById(t+"_star_"+n).src=plugin_url+"/images/star_yellow.png";for(var o=e+1;o<=star_amount-1;o++)document.getElementById(t+"_star_"+o).src=plugin_url+"/images/star.png";star_amount=e+1,document.getElementById(t+"_selected_star_amountform_id_temp").value=star_amount,document.getElementById("submission_"+t).value=star_amount+"/"+document.getElementById(t+"_star_colorform_id_temp").value}function edit_scale_rating(e,t){if(!e);scale_amount=document.getElementById(t+"_scale_checkedform_id_temp").value,document.getElementById("submission_"+t).value=e+"/"+scale_amount}function edit_grading(e,t){for(var n=0,o="",i=0;i<100;i++)document.getElementById(e+"_element"+i)&&document.getElementById(e+"_element"+i).value&&(n+=parseInt(document.getElementById(e+"_element"+i).value)),n>document.getElementById(e+"_grading_totalform_id_temp").innerHTML&&(document.getElementById(e+"_text_elementform_id_temp").innerHTML=" Your score should be less than "+document.getElementById(e+"_grading_totalform_id_temp").innerHTML);document.getElementById(e+"_grading_sumform_id_temp").innerHTML=n,element=document.getElementById(e+"_element_valueform_id_temp").value,element=element.split(":");for(i=0;i<(element.length-1)/2;i++)document.getElementById(e+"_element"+i).value?o+=document.getElementById(e+"_element"+i).value+":":o+=":";element=element.slice((element.length-1)/2),element=element.join(":"),grading=o+element,document.getElementById(e+"_element_valueform_id_temp").value=grading,document.getElementById("submission_"+e).value=grading+"***grading***"}function edit_range(e,t,n){document.getElementById(t+"_element"+n).value=e,document.getElementById("submission_"+t).value=document.getElementById(t+"_element0").value+"-"+document.getElementById(t+"_element1").value}function change_radio_values(e,t,n,o){for(var i="",a=!0,s=1;s<=n;s++){for(var r=1;r<=o;r++)if(1==document.getElementById(t+"_input_elementform_id_temp"+s+"_"+r).checked){i+=s+"_"+r+"***",a=!1;break}1==a&&(i+="0***"),a=!0}var l=document.getElementById(t+"_matrixform_id_temp").value;l=(l=(l=l.split("***")).slice(0,-(n+1))).join("***"),l+="***"+i,document.getElementById("submission_"+t).value=l+"***matrix***",document.getElementById(t+"_matrixform_id_temp").value=l}function change_text_values(e,t,n,o){for(var i="",a=1;a<=n;a++)for(var s=1;s<=o;s++)i+=document.getElementById(t+"_input_elementform_id_temp"+a+"_"+s).value+"***";var r=document.getElementById(t+"_matrixform_id_temp").value;r=(r=(r=r.split("***")).slice(0,-(n*o+1))).join("***"),r+="***"+i,document.getElementById("submission_"+t).value=r+"***matrix***",document.getElementById(t+"_matrixform_id_temp").value=r}function change_checkbox_values(e,t,n,o){for(var i="",a=1;a<=n;a++)for(var s=1;s<=o;s++)1==document.getElementById(t+"_input_elementform_id_temp"+a+"_"+s).checked?i+="1***":i+="0***";var r=document.getElementById(t+"_matrixform_id_temp").value;r=r.slice(0,-4*n*o),r+=i,document.getElementById("submission_"+t).value=r+"***matrix***",document.getElementById(t+"_matrixform_id_temp").value=r}function change_option_values(e,t,n,o){for(var i="",a=1;a<=n;a++)for(var s=1;s<=o;s++)i+=document.getElementById(t+"_select_yes_noform_id_temp"+a+"_"+s).value+"***";var r=document.getElementById(t+"_matrixform_id_temp").value;r=(r=(r=r.split("***")).slice(0,-(n*o+1))).join("***"),r+="***"+i,document.getElementById("submission_"+t).value=r+"***matrix***",document.getElementById(t+"_matrixform_id_temp").value=r}function fm_Tooltip(){jQuery(".fm_masterTooltip").hover(function(){var e=jQuery(this).attr("title");jQuery(this).data("tipText",e).removeAttr("title"),jQuery('<p class="fm_tooltip"></p>').text(e).appendTo("body").fadeIn("slow")},function(){jQuery(this).attr("title",jQuery(this).data("tipText")),jQuery(".fm_tooltip").remove()}).mousemove(function(e){var t=e.pageX-100,n=e.pageY+10;jQuery(".fm_tooltip").css({top:n,left:t})})}jQuery(function(){fm_admin_ready()}),jQuery(document).on("fm_tab_loaded, fm_tab_email_loaded",function(){fm_admin_ready()}),jQuery(window).on("load",function(){jQuery("#fm_loading").hide(),jQuery("#fm_admin_container").show(),"function"==typeof add_scroll_width&&add_scroll_width(),set_no_items(),jQuery("#fm_ask_question").parent().attr("target","_blank")}),document.onkeypress=stopRKey,jQuery(function(){jQuery(".pp_display_on #pt0").click(function(){var e=jQuery(this).prop("checked");jQuery('.pp_display_on input[type="checkbox"]').prop("checked",e),e?jQuery(".fm-posts-show, .fm-pages-show, .fm-cat-show").removeClass("fm-hide").addClass("fm-show"):jQuery(".fm-posts-show, .fm-pages-show, .fm-cat-show").removeClass("fm-show").addClass("fm-hide")}),jQuery('.pp_display_on input[type="checkbox"]:not("#pt0")').click(function(){var e=jQuery(this).prop("checked");jQuery(".pp_display_on #pt0").prop("checked")&&!e&&jQuery(".pp_display_on #pt0").prop("checked",!1)}),jQuery(".pp_display_on #pt4").click(function(){fm_toggle_pages(this)}),jQuery(".pp_display_on #pt3").click(function(){fm_toggle_posts(this)}),jQuery("body").on("focusin",".pp_search_posts",function(){var e=jQuery(this);e.closest("ul").find(".pp_live_search").removeClass("fm-hide"),e.hasClass("already_triggered")||(e.addClass("already_triggered"),pp_live_search(e,500,!0))}),jQuery(document).click(function(){jQuery(".pp_live_search").addClass("fm-hide")}),jQuery("body").on("click",".fm-pp",function(){return!1}),jQuery("body").on("input",".pp_search_posts",function(){pp_live_search(jQuery(this),500,!0)}),jQuery("body").on("click",".pp_search_results li",function(){var e=jQuery(this);if(!e.hasClass("pp_no_res")){var t=e.text(),n=e.data("post_id"),o=e.closest(".fm-pp"),i=o.find(".pp_selected"),a=o.find(".pp_exclude"),s='<span data-post_id="'+n+'">'+t+'<span class="pp_selected_remove">x</span></span>';-1===i.html().indexOf('data-post_id="'+n+'"')&&(i.append(s),""===a.val()?a.val(n):a.val(function(e,t){return t+","+n}))}return!1}),jQuery("body").on("click",".pp_selected span.pp_selected_remove",function(){var e=jQuery(this).parent(),t=e.closest(".fm-pp").find(".pp_exclude"),n=t.val(),o=e.data("post_id");if(-1!==n.indexOf(o)){var i,a=-1!==n.indexOf(","+o)?","+o:o+",";a=-1!==n.indexOf(",")?a:o;i=n.replace(a,""),t.val(i)}return e.remove(),!1}),jQuery("body").on("click",'.pp_display_on_categories input[name="display_on_categories[]"]',function(){var e=jQuery('.pp_display_on_categories input[name="display_on_categories[]"]'),t=jQuery(".fm-display-all-categories");if("select_all_categories"==jQuery(this).val())jQuery(this).is(":checked")?e.prop("checked",!0):e.prop("checked",!1);else{var n=jQuery('input[name="display_on_categories[]"]:checked').length,o=parseInt(t.attr("data-categories-count"));jQuery(this).prop("checked")||(n-=1),t.prop("checked",!1),n==o&&t.prop("checked",!0)}})}),function(r){r.fn.serializeObject=function(){var i=this,a={},t={},s={validate:/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_]+$/};return this.build=function(e,t,n){return e[t]=n,e},this.push_counter=function(e){return void 0===t[e]&&(t[e]=0),t[e]++},r.each(r(this).serializeArray(),function(){if(s.validate.test(this.name)){for(var e,t=this.name.match(s.key),n=this.value,o=this.name;void 0!==(e=t.pop());)o=o.replace(new RegExp("\\["+e+"\\]$"),""),e.match(s.push)?n=i.build([],i.push_counter(o),n):e.match(s.fixed)?n=i.build([],e,n):e.match(s.named)&&(n=i.build({},e,n));a=r.extend(!0,a,n)}}),a}}(jQuery),jQuery(document).on("dblclick",".wdform_row, .wdform_tr_section_break",function(){edit(jQuery(this).attr("wdid"))}),jQuery(function(){jQuery(".theme-detail").click(function(){return jQuery(this).siblings(".themedetaildiv").toggle(),!1}),jQuery("#startdate, #startstats, #enddate, #endstats").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0}),show_hide_columns_history(),add_scroll_width(),add_scroll_left(),fm_Tooltip(),filter_fields_submit()}),jQuery(window).scroll(function(){var e=0,t=jQuery(this).scrollTop(),n=jQuery(".tablenav");n.length&&(e=n.offset().top),e<t?jQuery(".table-wrapper-1").addClass("fixed").css({width:jQuery("#admin_form").width()+"px"}):jQuery(".table-wrapper-1").removeClass("fixed")}),jQuery(window).on("load",function(e){fm_popup(),void 0!==jQuery().fancybox&&jQuery.isFunction(jQuery().fancybox)&&jQuery(".fm_fancybox").fancybox({"maxWidth ":600,maxHeight:500})}),jQuery(window).on("resize",function(){jQuery(window).width()<=765?(document.getElementById("fm-fields-filter").style.display="none",remove_scroll_width()):(jQuery(".hide-filter.hide").is(":visible")&&(document.getElementById("fm-fields-filter").style.display=""),add_scroll_width())}),function(l,u,h,e){"use strict";function n(e,t){var n,o,i,a=[],s=0;e&&e.isDefaultPrevented()||(e.preventDefault(),t=t||{},e&&e.data&&(t=d(e.data.options,t)),n=t.$target||h(e.currentTarget).trigger("blur"),(i=h.fancybox.getInstance())&&i.$trigger&&i.$trigger.is(n)||(a=t.selector?h(t.selector):(o=n.attr("data-fancybox")||"")?(a=e.data?e.data.items:[]).length?a.filter('[data-fancybox="'+o+'"]'):h('[data-fancybox="'+o+'"]'):[n],(s=h(a).index(n))<0&&(s=0),(i=h.fancybox.open(a,t,s)).$trigger=n))}if(l.console=l.console||{info:function(e){}},h){if(h.fn.fancybox)return console.info("fancyBox already initialized");var t={closeExisting:!1,loop:!1,gutter:50,keyboard:!0,preventCaptionOverlap:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","slideShow","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},video:{tpl:'<video class="fancybox-video" controls controlsList="nodownload" poster="{{poster}}"><source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos, <a href="{{src}}">download</a> and watch with your favorite video player!</video>',format:"",autoStart:!0},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"><div class="fancybox-caption__body"></div></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.62 17.09V19H5.38v-1.91zm-2.97-6.96L17 11.45l-5 4.87-5-4.87 1.36-1.32 2.68 2.64V5h1.92v7.77z"/></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.7 17.3l-3-3a5.9 5.9 0 0 0-.6-7.6 5.9 5.9 0 0 0-8.4 0 5.9 5.9 0 0 0 0 8.4 5.9 5.9 0 0 0 7.7.7l3 3a1 1 0 0 0 1.3 0c.4-.5.4-1 0-1.5zM8.1 13.8a4 4 0 0 1 0-5.7 4 4 0 0 1 5.7 0 4 4 0 0 1 0 5.7 4 4 0 0 1-5.7 0z"/></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 10.6L6.6 5.2 5.2 6.6l5.4 5.4-5.4 5.4 1.4 1.4 5.4-5.4 5.4 5.4 1.4-1.4-5.4-5.4 5.4-5.4-1.4-1.4-5.4 5.4z"/></svg></button>',arrowLeft:'<button data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.28 15.7l-1.34 1.37L5 12l4.94-5.07 1.34 1.38-2.68 2.72H19v1.94H8.6z"/></svg></div></button>',arrowRight:'<button data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}"><div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.4 12.97l-2.68 2.72 1.34 1.38L19 12l-4.94-5.07-1.34 1.38 2.68 2.72H5v1.94z"/></svg></div></button>',smallBtn:'<button type="button" data-fancybox-close class="fancybox-button fancybox-close-small" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" version="1" viewBox="0 0 24 24"><path d="M13 12l5-5-1-1-5 5-5-5-1 1 5 5-5 5 1 1 5-5 5 5 1-1z"/></svg></button>'},parentEl:"body",hideScrollbar:!0,autoFocus:!0,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:3e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:h.noop,beforeLoad:h.noop,afterLoad:h.noop,beforeShow:h.noop,afterShow:h.noop,beforeClose:h.noop,afterClose:h.noop,onActivate:h.noop,onDeactivate:h.noop,clickContent:function(e,t){return"image"===e.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{preventCaptionOverlap:!1,idleTime:!1,clickContent:function(e,t){return"image"===e.type&&"toggleControls"},clickSlide:function(e,t){return"image"===e.type?"toggleControls":"close"},dblclickContent:function(e,t){return"image"===e.type&&"zoom"},dblclickSlide:function(e,t){return"image"===e.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schlie&szlig;en",NEXT:"Weiter",PREV:"Zur&uuml;ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp&auml;ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"Vergr&ouml;&szlig;ern"}}},i=h(l),s=h(u),a=0,p=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||l.oRequestAnimationFrame||function(e){return l.setTimeout(e,1e3/60)},r=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||l.oCancelAnimationFrame||function(e){l.clearTimeout(e)},c=function(){var e,t=u.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e];return"transitionend"}(),f=function(e){return e&&e.length&&e[0].offsetHeight},d=function(e,t){var n=h.extend(!0,{},e,t);return h.each(t,function(e,t){h.isArray(t)&&(n[e]=t)}),n},o=function(e,t,n){var o=this;o.opts=d({index:n},h.fancybox.defaults),h.isPlainObject(t)&&(o.opts=d(o.opts,t)),h.fancybox.isMobile&&(o.opts=d(o.opts,o.opts.mobile)),o.id=o.opts.id||++a,o.currIndex=parseInt(o.opts.index,10)||0,o.prevIndex=null,o.prevPos=null,o.currPos=0,o.firstRun=!0,o.group=[],o.slides={},o.addContent(e),o.group.length&&o.init()};h.extend(o.prototype,{init:function(){var t,n,o=this,i=o.group[o.currIndex].opts;i.closeExisting&&h.fancybox.close(!0),h("body").addClass("fancybox-active"),!h.fancybox.getInstance()&&!1!==i.hideScrollbar&&!h.fancybox.isMobile&&u.body.scrollHeight>l.innerHeight&&(h("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar{margin-right:'+(l.innerWidth-u.documentElement.clientWidth)+"px;}</style>"),h("body").addClass("compensate-for-scrollbar")),n="",h.each(i.buttons,function(e,t){n+=i.btnTpl[t]||""}),t=h(o.translate(o,i.baseTpl.replace("{{buttons}}",n).replace("{{arrows}}",i.btnTpl.arrowLeft+i.btnTpl.arrowRight))).attr("id","fancybox-container-"+o.id).addClass(i.baseClass).data("FancyBox",o).appendTo(i.parentEl),o.$refs={container:t},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach(function(e){o.$refs[e]=t.find(".fancybox-"+e)}),o.trigger("onInit"),o.activate(),o.jumpTo(o.currIndex)},translate:function(e,t){var n=e.opts.i18n[e.opts.lang]||e.opts.i18n.en;return t.replace(/\{\{(\w+)\}\}/g,function(e,t){return void 0===n[t]?e:n[t]})},addContent:function(e){var t,c=this,n=h.makeArray(e);h.each(n,function(e,t){var n,o,i,a,s,r={},l={};h.isPlainObject(t)?l=(r=t).opts||t:"object"===h.type(t)&&h(t).length?(l=(n=h(t)).data()||{},(l=h.extend(!0,{},l,l.options)).$orig=n,r.src=c.opts.src||l.src||n.attr("href"),r.type||r.src||(r.type="inline",r.src=t)):r={type:"html",src:t+""},r.opts=h.extend(!0,{},c.opts,l),h.isArray(l.buttons)&&(r.opts.buttons=l.buttons),h.fancybox.isMobile&&r.opts.mobile&&(r.opts=d(r.opts,r.opts.mobile)),o=r.type||r.opts.type,a=r.src||"",!o&&a&&((i=a.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(o="video",r.opts.video.format||(r.opts.video.format="video/"+("ogv"===i[1]?"ogg":i[1]))):a.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?o="image":a.match(/\.(pdf)((\?|#).*)?$/i)?(o="iframe",r=h.extend(!0,r,{contentType:"pdf",opts:{iframe:{preload:!1}}})):"#"===a.charAt(0)&&(o="inline")),o?r.type=o:c.trigger("objectNeedsType",r),r.contentType||(r.contentType=-1<h.inArray(r.type,["html","inline","ajax"])?"html":r.type),r.index=c.group.length,"auto"==r.opts.smallBtn&&(r.opts.smallBtn=-1<h.inArray(r.type,["html","inline","ajax"])),"auto"===r.opts.toolbar&&(r.opts.toolbar=!r.opts.smallBtn),r.$thumb=r.opts.$thumb||null,r.opts.$trigger&&r.index===c.opts.index&&(r.$thumb=r.opts.$trigger.find("img:first"),r.$thumb.length&&(r.opts.$orig=r.opts.$trigger)),r.$thumb&&r.$thumb.length||!r.opts.$orig||(r.$thumb=r.opts.$orig.find("img:first")),r.$thumb&&!r.$thumb.length&&(r.$thumb=null),r.thumb=r.opts.thumb||(r.$thumb?r.$thumb[0].src:null),"function"===h.type(r.opts.caption)&&(r.opts.caption=r.opts.caption.apply(t,[c,r])),"function"===h.type(c.opts.caption)&&(r.opts.caption=c.opts.caption.apply(t,[c,r])),r.opts.caption instanceof h||(r.opts.caption=void 0===r.opts.caption?"":r.opts.caption+""),"ajax"===r.type&&(1<(s=a.split(/\s+/,2)).length&&(r.src=s.shift(),r.opts.filter=s.shift())),r.opts.modal&&(r.opts=h.extend(!0,r.opts,{trapFocus:!0,infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),c.group.push(r)}),Object.keys(c.slides).length&&(c.updateControls(),(t=c.Thumbs)&&t.isActive&&(t.create(),t.focus()))},addEvents:function(){var o=this;o.removeEvents(),o.$refs.container.on("click.fb-close","[data-fancybox-close]",function(e){e.stopPropagation(),e.preventDefault(),o.close(e)}).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",function(e){e.stopPropagation(),e.preventDefault(),o.previous()}).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",function(e){e.stopPropagation(),e.preventDefault(),o.next()}).on("click.fb","[data-fancybox-zoom]",function(e){o[o.isScaledDown()?"scaleToActual":"scaleToFit"]()}),i.on("orientationchange.fb resize.fb",function(e){e&&e.originalEvent&&"resize"===e.originalEvent.type?(o.requestId&&r(o.requestId),o.requestId=p(function(){o.update(e)})):(o.current&&"iframe"===o.current.type&&o.$refs.stage.hide(),setTimeout(function(){o.$refs.stage.show(),o.update(e)},h.fancybox.isMobile?600:250))}),s.on("keydown.fb",function(e){var t=(h.fancybox?h.fancybox.getInstance():null).current,n=e.keyCode||e.which;if(9!=n)return!t.opts.keyboard||e.ctrlKey||e.altKey||e.shiftKey||h(e.target).is("input,textarea,video,audio,select")?void 0:8===n||27===n?(e.preventDefault(),void o.close(e)):37===n||38===n?(e.preventDefault(),void o.previous()):39===n||40===n?(e.preventDefault(),void o.next()):void o.trigger("afterKeydown",e,n);t.opts.trapFocus&&o.focus(e)}),o.group[o.currIndex].opts.idleTime&&(o.idleSecondsCounter=0,s.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",function(e){o.idleSecondsCounter=0,o.isIdle&&o.showControls(),o.isIdle=!1}),o.idleInterval=l.setInterval(function(){++o.idleSecondsCounter>=o.group[o.currIndex].opts.idleTime&&!o.isDragging&&(o.isIdle=!0,o.idleSecondsCounter=0,o.hideControls())},1e3))},removeEvents:function(){i.off("orientationchange.fb resize.fb"),s.off("keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(l.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(e){return this.jumpTo(this.currPos-1,e)},next:function(e){return this.jumpTo(this.currPos+1,e)},jumpTo:function(e,o){var t,n,i,a,s,r,l,c,d,u=this,p=u.group.length;if(!(u.isDragging||u.isClosing||u.isAnimating&&u.firstRun)){if(e=parseInt(e,10),!(i=u.current?u.current.opts.loop:u.opts.loop)&&(e<0||p<=e))return!1;if(t=u.firstRun=!Object.keys(u.slides).length,s=u.current,u.prevIndex=u.currIndex,u.prevPos=u.currPos,a=u.createSlide(e),1<p&&((i||a.index<p-1)&&u.createSlide(e+1),(i||0<a.index)&&u.createSlide(e-1)),u.current=a,u.currIndex=a.index,u.currPos=a.pos,u.trigger("beforeShow",t),u.updateControls(),a.forcedDuration=void 0,h.isNumeric(o)?a.forcedDuration=o:o=a.opts[t?"animationDuration":"transitionDuration"],o=parseInt(o,10),n=u.isMoved(a),a.$slide.addClass("fancybox-slide--current"),t)return a.opts.animationEffect&&o&&u.$refs.container.css("transition-duration",o+"ms"),u.$refs.container.addClass("fancybox-is-open").trigger("focus"),u.loadSlide(a),void u.preload("image");r=h.fancybox.getTranslate(s.$slide),l=h.fancybox.getTranslate(u.$refs.stage),h.each(u.slides,function(e,t){h.fancybox.stop(t.$slide,!0)}),s.pos!==a.pos&&(s.isComplete=!1),s.$slide.removeClass("fancybox-slide--complete fancybox-slide--current"),n?(d=r.left-(s.pos*r.width+s.pos*s.opts.gutter),h.each(u.slides,function(e,t){t.$slide.removeClass("fancybox-animated").removeClass(function(e,t){return(t.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")});var n=t.pos*r.width+t.pos*t.opts.gutter;h.fancybox.setTranslate(t.$slide,{top:0,left:n-l.left+d}),t.pos!==a.pos&&t.$slide.addClass("fancybox-slide--"+(t.pos>a.pos?"next":"previous")),f(t.$slide),h.fancybox.animate(t.$slide,{top:0,left:(t.pos-a.pos)*r.width+(t.pos-a.pos)*t.opts.gutter},o,function(){t.$slide.css({transform:"",opacity:""}).removeClass("fancybox-slide--next fancybox-slide--previous"),t.pos===u.currPos&&u.complete()})})):o&&a.opts.transitionEffect&&(c="fancybox-animated fancybox-fx-"+a.opts.transitionEffect,s.$slide.addClass("fancybox-slide--"+(s.pos>a.pos?"next":"previous")),h.fancybox.animate(s.$slide,c,o,function(){s.$slide.removeClass(c).removeClass("fancybox-slide--next fancybox-slide--previous")},!1)),a.isLoaded?u.revealContent(a):u.loadSlide(a),u.preload("image")}},createSlide:function(e){var t,n,o=this;return n=(n=e%o.group.length)<0?o.group.length+n:n,!o.slides[e]&&o.group[n]&&(t=h('<div class="fancybox-slide"></div>').appendTo(o.$refs.stage),o.slides[e]=h.extend(!0,{},o.group[n],{pos:e,$slide:t,isLoaded:!1}),o.updateSlide(o.slides[e])),o.slides[e]},scaleToActual:function(e,t,n){var o,i,a,s,r,l=this,c=l.current,d=c.$content,u=h.fancybox.getTranslate(c.$slide).width,p=h.fancybox.getTranslate(c.$slide).height,f=c.width,m=c.height;l.isAnimating||l.isMoved()||!d||"image"!=c.type||!c.isLoaded||c.hasError||(l.isAnimating=!0,h.fancybox.stop(d),e=void 0===e?.5*u:e,t=void 0===t?.5*p:t,(o=h.fancybox.getTranslate(d)).top-=h.fancybox.getTranslate(c.$slide).top,o.left-=h.fancybox.getTranslate(c.$slide).left,s=f/o.width,r=m/o.height,i=.5*u-.5*f,a=.5*p-.5*m,u<f&&(0<(i=o.left*s-(e*s-e))&&(i=0),i<u-f&&(i=u-f)),p<m&&(0<(a=o.top*r-(t*r-t))&&(a=0),a<p-m&&(a=p-m)),l.updateCursor(f,m),h.fancybox.animate(d,{top:a,left:i,scaleX:s,scaleY:r},n||366,function(){l.isAnimating=!1}),l.SlideShow&&l.SlideShow.isActive&&l.SlideShow.stop())},scaleToFit:function(e){var t,n=this,o=n.current,i=o.$content;n.isAnimating||n.isMoved()||!i||"image"!=o.type||!o.isLoaded||o.hasError||(n.isAnimating=!0,h.fancybox.stop(i),t=n.getFitPos(o),n.updateCursor(t.width,t.height),h.fancybox.animate(i,{top:t.top,left:t.left,scaleX:t.width/i.width(),scaleY:t.height/i.height()},e||366,function(){n.isAnimating=!1}))},getFitPos:function(e){var t,n,o,i,a=e.$content,s=e.$slide,r=e.width||e.opts.width,l=e.height||e.opts.height,c={};return!!(e.isLoaded&&a&&a.length)&&(t=h.fancybox.getTranslate(this.$refs.stage).width,n=h.fancybox.getTranslate(this.$refs.stage).height,t-=parseFloat(s.css("paddingLeft"))+parseFloat(s.css("paddingRight"))+parseFloat(a.css("marginLeft"))+parseFloat(a.css("marginRight")),n-=parseFloat(s.css("paddingTop"))+parseFloat(s.css("paddingBottom"))+parseFloat(a.css("marginTop"))+parseFloat(a.css("marginBottom")),r&&l||(r=t,l=n),t-.5<(r*=o=Math.min(1,t/r,n/l))&&(r=t),n-.5<(l*=o)&&(l=n),"image"===e.type?(c.top=Math.floor(.5*(n-l))+parseFloat(s.css("paddingTop")),c.left=Math.floor(.5*(t-r))+parseFloat(s.css("paddingLeft"))):"video"===e.contentType&&(r/(i=e.opts.width&&e.opts.height?r/l:e.opts.ratio||16/9)<l?l=r/i:l*i<r&&(r=l*i)),c.width=r,c.height=l,c)},update:function(n){var o=this;h.each(o.slides,function(e,t){o.updateSlide(t,n)})},updateSlide:function(e,t){var n=this,o=e&&e.$content,i=e.width||e.opts.width,a=e.height||e.opts.height,s=e.$slide;n.adjustCaption(e),o&&(i||a||"video"===e.contentType)&&!e.hasError&&(h.fancybox.stop(o),h.fancybox.setTranslate(o,n.getFitPos(e)),e.pos===n.currPos&&(n.isAnimating=!1,n.updateCursor())),n.adjustLayout(e),s.length&&(s.trigger("refresh"),e.pos===n.currPos&&n.$refs.toolbar.add(n.$refs.navigation.find(".fancybox-button--arrow_right")).toggleClass("compensate-for-scrollbar",s.get(0).scrollHeight>s.get(0).clientHeight)),n.trigger("onUpdate",e,t)},centerSlide:function(e){var t=this,n=t.current,o=n.$slide;!t.isClosing&&n&&(o.siblings().css({transform:"",opacity:""}),o.parent().children().removeClass("fancybox-slide--previous fancybox-slide--next"),h.fancybox.animate(o,{top:0,left:0,opacity:1},void 0===e?0:e,function(){o.css({transform:"",opacity:""}),n.isComplete||t.complete()},!1))},isMoved:function(e){var t,n,o=e||this.current;return!!o&&(n=h.fancybox.getTranslate(this.$refs.stage),t=h.fancybox.getTranslate(o.$slide),!o.$slide.hasClass("fancybox-animated")&&(.5<Math.abs(t.top-n.top)||.5<Math.abs(t.left-n.left)))},updateCursor:function(e,t){var n,o,i=this,a=i.current,s=i.$refs.container;a&&!i.isClosing&&i.Guestures&&(s.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-zoomOut fancybox-can-swipe fancybox-can-pan"),o=!!(n=i.canPan(e,t))||i.isZoomable(),s.toggleClass("fancybox-is-zoomable",o),h("[data-fancybox-zoom]").prop("disabled",!o),n?s.addClass("fancybox-can-pan"):o&&("zoom"===a.opts.clickContent||h.isFunction(a.opts.clickContent)&&"zoom"==a.opts.clickContent(a))?s.addClass("fancybox-can-zoomIn"):a.opts.touch&&(a.opts.touch.vertical||1<i.group.length)&&"video"!==a.contentType&&s.addClass("fancybox-can-swipe"))},isZoomable:function(){var e,t=this.current;if(t&&!this.isClosing&&"image"===t.type&&!t.hasError){if(!t.isLoaded)return!0;if((e=this.getFitPos(t))&&(t.width>e.width||t.height>e.height))return!0}return!1},isScaledDown:function(e,t){var n=!1,o=this.current,i=o.$content;return void 0!==e&&void 0!==t?n=e<o.width&&t<o.height:i&&(n=(n=h.fancybox.getTranslate(i)).width<o.width&&n.height<o.height),n},canPan:function(e,t){var n=this.current,o=null,i=!1;return"image"===n.type&&(n.isComplete||e&&t)&&!n.hasError&&(i=this.getFitPos(n),void 0!==e&&void 0!==t?o={width:e,height:t}:n.isComplete&&(o=h.fancybox.getTranslate(n.$content)),o&&i&&(i=1.5<Math.abs(o.width-i.width)||1.5<Math.abs(o.height-i.height))),i},loadSlide:function(n){var e,t,o,i=this;if(!n.isLoading&&!n.isLoaded){if(!(n.isLoading=!0)===i.trigger("beforeLoad",n))return n.isLoading=!1;switch(e=n.type,(t=n.$slide).off("refresh").trigger("onReset").addClass(n.opts.slideClass),e){case"image":i.setImage(n);break;case"iframe":i.setIframe(n);break;case"html":i.setContent(n,n.src||n.content);break;case"video":i.setContent(n,n.opts.video.tpl.replace(/\{\{src\}\}/gi,n.src).replace("{{format}}",n.opts.videoFormat||n.opts.video.format||"").replace("{{poster}}",n.thumb||""));break;case"inline":h(n.src).length?i.setContent(n,h(n.src)):i.setError(n);break;case"ajax":i.showLoading(n),o=h.ajax(h.extend({},n.opts.ajax.settings,{url:n.src,success:function(e,t){"success"===t&&i.setContent(n,e)},error:function(e,t){e&&"abort"!==t&&i.setError(n)}})),t.one("onReset",function(){o.abort()});break;default:i.setError(n)}return!0}},setImage:function(t){var e,n=this;setTimeout(function(){var e=t.$image;n.isClosing||!t.isLoading||e&&e.length&&e[0].complete||t.hasError||n.showLoading(t)},50),n.checkSrcset(t),t.$content=h('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(t.$slide.addClass("fancybox-slide--image")),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&t.thumb&&(t.width=t.opts.width,t.height=t.opts.height,(e=u.createElement("img")).onerror=function(){h(this).remove(),t.$ghost=null},e.onload=function(){n.afterLoad(t)},t.$ghost=h(e).addClass("fancybox-image").appendTo(t.$content).attr("src",t.thumb)),n.setBigImage(t)},checkSrcset:function(e){var t,n,o,i,a=e.opts.srcset||e.opts.image.srcset;if(a){o=l.devicePixelRatio||1,i=l.innerWidth*o,(n=a.split(",").map(function(e){var o={};return e.trim().split(/\s+/).forEach(function(e,t){var n=parseInt(e.substring(0,e.length-1),10);if(0===t)return o.url=e;n&&(o.value=n,o.postfix=e[e.length-1])}),o})).sort(function(e,t){return e.value-t.value});for(var s=0;s<n.length;s++){var r=n[s];if("w"===r.postfix&&r.value>=i||"x"===r.postfix&&r.value>=o){t=r;break}}!t&&n.length&&(t=n[n.length-1]),t&&(e.src=t.url,e.width&&e.height&&"w"==t.postfix&&(e.height=e.width/e.height*t.value,e.width=t.value),e.opts.srcset=a)}},setBigImage:function(t){var n=this,e=u.createElement("img"),o=h(e);t.$image=o.one("error",function(){n.setError(t)}).one("load",function(){var e;t.$ghost||(n.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),n.afterLoad(t)),n.isClosing||(t.opts.srcset&&((e=t.opts.sizes)&&"auto"!==e||(e=(1<t.width/t.height&&1<i.width()/i.height()?"100":Math.round(t.width/t.height*100))+"vw"),o.attr("sizes",e).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout(function(){t.$ghost&&!n.isClosing&&t.$ghost.hide()},Math.min(300,Math.max(1e3,t.height/1600))),n.hideLoading(t))}).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(e.complete||"complete"==e.readyState)&&o.naturalWidth&&o.naturalHeight?o.trigger("load"):e.error&&o.trigger("error")},resolveImageSlideSize:function(e,t,n){var o=parseInt(e.opts.width,10),i=parseInt(e.opts.height,10);e.width=t,e.height=n,0<o&&(e.width=o,e.height=Math.floor(o*n/t)),0<i&&(e.width=Math.floor(i*t/n),e.height=i)},setIframe:function(i){var a,t=this,s=i.opts.iframe,r=i.$slide;i.$content=h('<div class="fancybox-content'+(s.preload?" fancybox-is-hidden":"")+'"></div>').css(s.css).appendTo(r),r.addClass("fancybox-slide--"+i.contentType),i.$iframe=a=h(s.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(s.attr).appendTo(i.$content),s.preload?(t.showLoading(i),a.on("load.fb error.fb",function(e){this.isReady=1,i.$slide.trigger("refresh"),t.afterLoad(i)}),r.on("refresh.fb",function(){var e,t=i.$content,n=s.css.width,o=s.css.height;if(1===a[0].isReady){try{e=a.contents().find("body")}catch(e){}e&&e.length&&e.children().length&&(r.css("overflow","visible"),t.css({width:"100%","max-width":"100%",height:"9999px"}),void 0===n&&(n=Math.ceil(Math.max(e[0].clientWidth,e.outerWidth(!0)))),t.css("width",n||"").css("max-width",""),void 0===o&&(o=Math.ceil(Math.max(e[0].clientHeight,e.outerHeight(!0)))),t.css("height",o||""),r.css("overflow","auto")),t.removeClass("fancybox-is-hidden")}})):t.afterLoad(i),a.attr("src",i.src),r.one("onReset",function(){try{h(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(e){}h(this).off("refresh.fb").empty(),i.isLoaded=!1,i.isRevealed=!1})},setContent:function(e,t){var n;this.isClosing||(this.hideLoading(e),e.$content&&h.fancybox.stop(e.$content),e.$slide.empty(),(n=t)&&n.hasOwnProperty&&n instanceof h&&t.parent().length?((t.hasClass("fancybox-content")||t.parent().hasClass("fancybox-content"))&&t.parents(".fancybox-slide").trigger("onReset"),e.$placeholder=h("<div>").hide().insertAfter(t),t.css("display","inline-block")):e.hasError||("string"===h.type(t)&&(t=h("<div>").append(h.trim(t)).contents()),e.opts.filter&&(t=h("<div>").html(t).find(e.opts.filter))),e.$slide.one("onReset",function(){h(this).find("video,audio").trigger("pause"),e.$placeholder&&(e.$placeholder.after(t.removeClass("fancybox-content").hide()).remove(),e.$placeholder=null),e.$smallBtn&&(e.$smallBtn.remove(),e.$smallBtn=null),e.hasError||(h(this).empty(),e.isLoaded=!1,e.isRevealed=!1)}),h(t).appendTo(e.$slide),h(t).is("video,audio")&&(h(t).addClass("fancybox-video"),h(t).wrap("<div></div>"),e.contentType="video",e.opts.width=e.opts.width||h(t).attr("width"),e.opts.height=e.opts.height||h(t).attr("height")),e.$content=e.$slide.children().filter("div,form,main,video,audio,article,.fancybox-content").first(),e.$content.siblings().hide(),e.$content.length||(e.$content=e.$slide.wrapInner("<div></div>").children().first()),e.$content.addClass("fancybox-content"),e.$slide.addClass("fancybox-slide--"+e.contentType),this.afterLoad(e))},setError:function(e){e.hasError=!0,e.$slide.trigger("onReset").removeClass("fancybox-slide--"+e.contentType).addClass("fancybox-slide--error"),e.contentType="html",this.setContent(e,this.translate(e,e.opts.errorTpl)),e.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(e){(e=e||this.current)&&!e.$spinner&&(e.$spinner=h(this.translate(this,this.opts.spinnerTpl)).appendTo(e.$slide).hide().fadeIn("fast"))},hideLoading:function(e){(e=e||this.current)&&e.$spinner&&(e.$spinner.stop().remove(),delete e.$spinner)},afterLoad:function(e){var t=this;t.isClosing||(e.isLoading=!1,e.isLoaded=!0,t.trigger("afterLoad",e),t.hideLoading(e),!e.opts.smallBtn||e.$smallBtn&&e.$smallBtn.length||(e.$smallBtn=h(t.translate(e,e.opts.btnTpl.smallBtn)).appendTo(e.$content)),e.opts.protect&&e.$content&&!e.hasError&&(e.$content.on("contextmenu.fb",function(e){return 2==e.button&&e.preventDefault(),!0}),"image"===e.type&&h('<div class="fancybox-spaceball"></div>').appendTo(e.$content)),t.adjustCaption(e),t.adjustLayout(e),e.pos===t.currPos&&t.updateCursor(),t.revealContent(e))},adjustCaption:function(e){var t,n=this,o=e||n.current,i=o.opts.caption,a=o.opts.preventCaptionOverlap,s=n.$refs.caption,r=!1;s.toggleClass("fancybox-caption--separate",a),a&&i&&i.length&&(o.pos!==n.currPos?((t=s.clone().appendTo(s.parent())).children().eq(0).empty().html(i),r=t.outerHeight(!0),t.empty().remove()):n.$caption&&(r=n.$caption.outerHeight(!0)),o.$slide.css("padding-bottom",r||""))},adjustLayout:function(e){var t,n,o,i,a=e||this.current;a.isLoaded&&!0!==a.opts.disableLayoutFix&&(a.$content.css("margin-bottom",""),a.$content.outerHeight()>a.$slide.height()+.5&&(o=a.$slide[0].style["padding-bottom"],i=a.$slide.css("padding-bottom"),0<parseFloat(i)&&(t=a.$slide[0].scrollHeight,a.$slide.css("padding-bottom",0),Math.abs(t-a.$slide[0].scrollHeight)<1&&(n=i),a.$slide.css("padding-bottom",o))),a.$content.css("margin-bottom",n))},revealContent:function(e){var t,n,o,i,a=this,s=e.$slide,r=!1,l=!1,c=a.isMoved(e),d=e.isRevealed;return e.isRevealed=!0,t=e.opts[a.firstRun?"animationEffect":"transitionEffect"],o=e.opts[a.firstRun?"animationDuration":"transitionDuration"],o=parseInt(void 0===e.forcedDuration?o:e.forcedDuration,10),!c&&e.pos===a.currPos&&o||(t=!1),"zoom"===t&&(e.pos===a.currPos&&o&&"image"===e.type&&!e.hasError&&(l=a.getThumbPos(e))?r=a.getFitPos(e):t="fade"),"zoom"===t?(a.isAnimating=!0,r.scaleX=r.width/l.width,r.scaleY=r.height/l.height,"auto"==(i=e.opts.zoomOpacity)&&(i=.1<Math.abs(e.width/e.height-l.width/l.height)),i&&(l.opacity=.1,r.opacity=1),h.fancybox.setTranslate(e.$content.removeClass("fancybox-is-hidden"),l),f(e.$content),void h.fancybox.animate(e.$content,r,o,function(){a.isAnimating=!1,a.complete()})):(a.updateSlide(e),t?(h.fancybox.stop(s),n="fancybox-slide--"+(e.pos>=a.prevPos?"next":"previous")+" fancybox-animated fancybox-fx-"+t,s.addClass(n).removeClass("fancybox-slide--current"),e.$content.removeClass("fancybox-is-hidden"),f(s),"image"!==e.type&&e.$content.hide().show(0),void h.fancybox.animate(s,"fancybox-slide--current",o,function(){s.removeClass(n).css({transform:"",opacity:""}),e.pos===a.currPos&&a.complete()},!0)):(e.$content.removeClass("fancybox-is-hidden"),d||!c||"image"!==e.type||e.hasError||e.$content.hide().fadeIn("fast"),void(e.pos===a.currPos&&a.complete())))},getThumbPos:function(e){var t,n,o,i,a,s,r,l,c=!1,d=e.$thumb;return!(!d||(!(s=d[0])||s.ownerDocument!==u||(h(".fancybox-container").css("pointer-events","none"),r={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2},l=u.elementFromPoint(r.x,r.y)===s,h(".fancybox-container").css("pointer-events",""),!l)))&&(t=h.fancybox.getTranslate(d),n=parseFloat(d.css("border-top-width")||0),o=parseFloat(d.css("border-right-width")||0),i=parseFloat(d.css("border-bottom-width")||0),a=parseFloat(d.css("border-left-width")||0),c={top:t.top+n,left:t.left+a,width:t.width-o-a,height:t.height-n-i,scaleX:1,scaleY:1},0<t.width&&0<t.height&&c)},complete:function(){var e,n=this,t=n.current,o={};!n.isMoved()&&t.isLoaded&&(t.isComplete||(t.isComplete=!0,t.$slide.siblings().trigger("onReset"),n.preload("inline"),f(t.$slide),t.$slide.addClass("fancybox-slide--complete"),h.each(n.slides,function(e,t){t.pos>=n.currPos-1&&t.pos<=n.currPos+1?o[t.pos]=t:t&&(h.fancybox.stop(t.$slide),t.$slide.off().remove())}),n.slides=o),n.isAnimating=!1,n.updateCursor(),n.trigger("afterShow"),t.opts.video.autoStart&&t.$slide.find("video,audio").filter(":visible:first").trigger("play").one("ended",function(){Document.exitFullscreen?Document.exitFullscreen():this.webkitExitFullscreen&&this.webkitExitFullscreen(),n.next()}),t.opts.autoFocus&&"html"===t.contentType&&((e=t.$content.find("input[autofocus]:enabled:visible:first")).length?e.trigger("focus"):n.focus(null,!0)),t.$slide.scrollTop(0).scrollLeft(0))},preload:function(e){var t,n,o=this;o.group.length<2||(n=o.slides[o.currPos+1],(t=o.slides[o.currPos-1])&&t.type===e&&o.loadSlide(t),n&&n.type===e&&o.loadSlide(n))},focus:function(e,t){var n,o,i=this,a=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(",");i.isClosing||((n=(n=!e&&i.current&&i.current.isComplete?i.current.$slide.find("*:visible"+(t?":not(.fancybox-close-small)":"")):i.$refs.container.find("*:visible")).filter(a).filter(function(){return"hidden"!==h(this).css("visibility")&&!h(this).hasClass("disabled")})).length?(o=n.index(u.activeElement),e&&e.shiftKey?(o<0||0==o)&&(e.preventDefault(),n.eq(n.length-1).trigger("focus")):(o<0||o==n.length-1)&&(e&&e.preventDefault(),n.eq(0).trigger("focus"))):i.$refs.container.trigger("focus"))},activate:function(){var t=this;h(".fancybox-container").each(function(){var e=h(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)}),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(e,t){var n,o,i,a,s,r,l,c=this,d=c.current,u=function(){c.cleanUp(e)};return!c.isClosing&&(!(c.isClosing=!0)===c.trigger("beforeClose",e)?(c.isClosing=!1,p(function(){c.update()}),!1):(c.removeEvents(),i=d.$content,n=d.opts.animationEffect,o=h.isNumeric(t)?t:n?d.opts.animationDuration:0,d.$slide.removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),!0!==e?h.fancybox.stop(d.$slide):n=!1,d.$slide.siblings().trigger("onReset").remove(),o&&c.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing").css("transition-duration",o+"ms"),c.hideLoading(d),c.hideControls(!0),c.updateCursor(),"zoom"!==n||i&&o&&"image"===d.type&&!c.isMoved()&&!d.hasError&&(l=c.getThumbPos(d))||(n="fade"),"zoom"===n?(h.fancybox.stop(i),r={top:(a=h.fancybox.getTranslate(i)).top,left:a.left,scaleX:a.width/l.width,scaleY:a.height/l.height,width:l.width,height:l.height},"auto"==(s=d.opts.zoomOpacity)&&(s=.1<Math.abs(d.width/d.height-l.width/l.height)),s&&(l.opacity=0),h.fancybox.setTranslate(i,r),f(i),h.fancybox.animate(i,l,o,u)):n&&o?h.fancybox.animate(d.$slide.addClass("fancybox-slide--previous").removeClass("fancybox-slide--current"),"fancybox-animated fancybox-fx-"+n,o,u):!0===e?setTimeout(u,o):u(),!0))},cleanUp:function(e){var t,n,o,i=this,a=i.current.opts.$orig;i.current.$slide.trigger("onReset"),i.$refs.container.empty().remove(),i.trigger("afterClose",e),i.current.opts.backFocus&&(a&&a.length&&a.is(":visible")||(a=i.$trigger),a&&a.length&&(n=l.scrollX,o=l.scrollY,a.trigger("focus"),h("html, body").scrollTop(o).scrollLeft(n))),i.current=null,(t=h.fancybox.getInstance())?t.activate():(h("body").removeClass("fancybox-active compensate-for-scrollbar"),h("#fancybox-style-noscroll").remove())},trigger:function(e,t){var n,o=Array.prototype.slice.call(arguments,1),i=this,a=t&&t.opts?t:i.current;if(a?o.unshift(a):a=i,o.unshift(i),h.isFunction(a.opts[e])&&(n=a.opts[e].apply(a,o)),!1===n)return n;"afterClose"!==e&&i.$refs?i.$refs.container.trigger(e+".fb",o):s.trigger(e+".fb",o)},updateControls:function(){var e=this,t=e.current,n=t.index,o=e.$refs.container,i=e.$refs.caption,a=t.opts.caption;t.$slide.trigger("refresh"),a&&a.length?(e.$caption=i).children().eq(0).html(a):e.$caption=null,e.hasHiddenControls||e.isIdle||e.showControls(),o.find("[data-fancybox-count]").html(e.group.length),o.find("[data-fancybox-index]").html(n+1),o.find("[data-fancybox-prev]").prop("disabled",!t.opts.loop&&n<=0),o.find("[data-fancybox-next]").prop("disabled",!t.opts.loop&&n>=e.group.length-1),"image"===t.type?o.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",t.opts.image.src||t.src).show():t.opts.toolbar&&o.find("[data-fancybox-download],[data-fancybox-zoom]").hide(),h(u.activeElement).is(":hidden,[disabled]")&&e.$refs.container.trigger("focus")},hideControls:function(e){var t=["infobar","toolbar","nav"];!e&&this.current.opts.preventCaptionOverlap||t.push("caption"),this.$refs.container.removeClass(t.map(function(e){return"fancybox-show-"+e}).join(" ")),this.hasHiddenControls=!0},showControls:function(){var e=this,t=e.current?e.current.opts:e.opts,n=e.$refs.container;e.hasHiddenControls=!1,e.idleSecondsCounter=0,n.toggleClass("fancybox-show-toolbar",!(!t.toolbar||!t.buttons)).toggleClass("fancybox-show-infobar",!!(t.infobar&&1<e.group.length)).toggleClass("fancybox-show-caption",!!e.$caption).toggleClass("fancybox-show-nav",!!(t.arrows&&1<e.group.length)).toggleClass("fancybox-is-modal",!!t.modal)},toggleControls:function(){this.hasHiddenControls?this.showControls():this.hideControls()}}),h.fancybox={version:"3.5.7",defaults:t,getInstance:function(e){var t=h('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),n=Array.prototype.slice.call(arguments,1);return t instanceof o&&("string"===h.type(e)?t[e].apply(t,n):"function"===h.type(e)&&e.apply(t,n),t)},open:function(e,t,n){return new o(e,t,n)},close:function(e){var t=this.getInstance();t&&(t.close(),!0===e&&this.close(e))},destroy:function(){this.close(!0),s.add("body").off("click.fb-start","**")},isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(y=u.createElement("div"),l.getComputedStyle&&l.getComputedStyle(y)&&l.getComputedStyle(y).getPropertyValue("transform")&&!(u.documentMode&&u.documentMode<11)),getTranslate:function(e){var t;return!(!e||!e.length)&&{top:(t=e[0].getBoundingClientRect()).top||0,left:t.left||0,width:t.width,height:t.height,opacity:parseFloat(e.css("opacity"))}},setTranslate:function(e,t){var n="",o={};if(e&&t)return void 0===t.left&&void 0===t.top||(n=(void 0===t.left?e.position().left:t.left)+"px, "+(void 0===t.top?e.position().top:t.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),void 0!==t.scaleX&&void 0!==t.scaleY?n+=" scale("+t.scaleX+", "+t.scaleY+")":void 0!==t.scaleX&&(n+=" scaleX("+t.scaleX+")"),n.length&&(o.transform=n),void 0!==t.opacity&&(o.opacity=t.opacity),void 0!==t.width&&(o.width=t.width),void 0!==t.height&&(o.height=t.height),e.css(o)},animate:function(t,n,o,i,a){var s,r=this;h.isFunction(o)&&(i=o,o=null),r.stop(t),s=r.getTranslate(t),t.on(c,function(e){(!e||!e.originalEvent||t.is(e.originalEvent.target)&&"z-index"!=e.originalEvent.propertyName)&&(r.stop(t),h.isNumeric(o)&&t.css("transition-duration",""),h.isPlainObject(n)?void 0!==n.scaleX&&void 0!==n.scaleY&&r.setTranslate(t,{top:n.top,left:n.left,width:s.width*n.scaleX,height:s.height*n.scaleY,scaleX:1,scaleY:1}):!0!==a&&t.removeClass(n),h.isFunction(i)&&i(e))}),h.isNumeric(o)&&t.css("transition-duration",o+"ms"),h.isPlainObject(n)?(void 0!==n.scaleX&&void 0!==n.scaleY&&(delete n.width,delete n.height,t.parent().hasClass("fancybox-slide--image")&&t.parent().addClass("fancybox-is-scaling")),h.fancybox.setTranslate(t,n)):t.addClass(n),t.data("timer",setTimeout(function(){t.trigger(c)},o+33))},stop:function(e,t){e&&e.length&&(clearTimeout(e.data("timer")),t&&e.trigger(c),e.off(c).css("transition-duration",""),e.parent().removeClass("fancybox-is-scaling"))}},h.fn.fancybox=function(e){var t;return(t=(e=e||{}).selector||!1)?h("body").off("click.fb-start",t).on("click.fb-start",t,{options:e},n):this.off("click.fb-start").on("click.fb-start",{items:this,options:e},n),this},s.on("click.fb-start","[data-fancybox]",n),s.on("click.fb-start","[data-fancybox-trigger]",function(e){h('[data-fancybox="'+h(this).attr("data-fancybox-trigger")+'"]').eq(h(this).attr("data-fancybox-index")||0).trigger("click.fb-start",{$trigger:h(this)})}),m=null,s.on("mousedown mouseup focus blur",".fancybox-button",function(e){switch(e.type){case"mousedown":m=h(this);break;case"mouseup":m=null;break;case"focusin":h(".fancybox-button").removeClass("fancybox-focus"),h(this).is(m)||h(this).is("[disabled]")||h(this).addClass("fancybox-focus");break;case"focusout":h(".fancybox-button").removeClass("fancybox-focus")}})}var m,y}(window,document,jQuery),function(f){"use strict";var o={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"https://www.youtube-nocookie.com/embed/$4",thumb:"https://img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/?ll="+(e[9]?e[9]+"&z="+Math.floor(e[10])+(e[12]?e[12].replace(/^\//,"&"):""):e[12]+"").replace(/\?/,"&")+"&output="+(e[12]&&0<e[12].indexOf("layer=c")?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(e){return"//maps.google."+e[2]+"/maps?q="+e[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}},m=function(n,e,t){if(n)return t=t||"","object"===f.type(t)&&(t=f.param(t,!0)),f.each(e,function(e,t){n=n.replace("$"+e,t||"")}),t.length&&(n+=(0<n.indexOf("?")?"&":"?")+t),n};f(document).on("objectNeedsType.fb",function(e,t,i){var n,a,s,r,l,c,d,u=i.src||"",p=!1;n=f.extend(!0,{},o,i.opts.media),f.each(n,function(e,t){if(s=u.match(t.matcher)){if(p=t.type,d=e,c={},t.paramPlace&&s[t.paramPlace]){"?"==(l=s[t.paramPlace])[0]&&(l=l.substring(1)),l=l.split("&");for(var n=0;n<l.length;++n){var o=l[n].split("=",2);2==o.length&&(c[o[0]]=decodeURIComponent(o[1].replace(/\+/g," ")))}}return r=f.extend(!0,{},t.params,i.opts[e],c),u="function"===f.type(t.url)?t.url.call(this,s,r,i):m(t.url,s,r),a="function"===f.type(t.thumb)?t.thumb.call(this,s,r,i):m(t.thumb,s),"youtube"===e?u=u.replace(/&t=((\d+)m)?(\d+)s/,function(e,t,n,o){return"&start="+((n?60*parseInt(n,10):0)+parseInt(o,10))}):"vimeo"===e&&(u=u.replace("&%23","#")),!1}}),p?(i.opts.thumb||i.opts.$thumb&&i.opts.$thumb.length||(i.opts.thumb=a),"iframe"===p&&(i.opts=f.extend(!0,i.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),f.extend(i,{type:p,src:u,origSrc:i.src,contentSource:d,contentType:"image"===p?"image":"gmap_place"==d||"gmap_search"==d?"map":"video"})):u&&(i.type=i.opts.defaultType)});var i={youtube:{src:"https://www.youtube.com/iframe_api",class:"YT",loading:!1,loaded:!1},vimeo:{src:"https://player.vimeo.com/api/player.js",class:"Vimeo",loading:!1,loaded:!1},load:function(e){var t,n=this;this[e].loaded?setTimeout(function(){n.done(e)}):this[e].loading||(this[e].loading=!0,(t=document.createElement("script")).type="text/javascript",t.src=this[e].src,"youtube"===e?window.onYouTubeIframeAPIReady=function(){n[e].loaded=!0,n.done(e)}:t.onload=function(){n[e].loaded=!0,n.done(e)},document.body.appendChild(t))},done:function(e){var t,n;"youtube"===e&&delete window.onYouTubeIframeAPIReady,(t=f.fancybox.getInstance())&&(n=t.current.$content.find("iframe"),"youtube"===e&&void 0!==YT&&YT?new YT.Player(n.attr("id"),{events:{onStateChange:function(e){0==e.data&&t.next()}}}):"vimeo"===e&&void 0!==Vimeo&&Vimeo&&new Vimeo.Player(n).on("ended",function(){t.next()}))}};f(document).on({"afterShow.fb":function(e,t,n){1<t.group.length&&("youtube"===n.contentSource||"vimeo"===n.contentSource)&&i.load(n.contentSource)}})}(jQuery),function(h,l,y){"use strict";var _=h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||h.oRequestAnimationFrame||function(e){return h.setTimeout(e,1e3/60)},g=h.cancelAnimationFrame||h.webkitCancelAnimationFrame||h.mozCancelAnimationFrame||h.oCancelAnimationFrame||function(e){h.clearTimeout(e)},d=function(e){var t=[];for(var n in e=(e=e.originalEvent||e||h.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e])e[n].pageX?t.push({x:e[n].pageX,y:e[n].pageY}):e[n].clientX&&t.push({x:e[n].clientX,y:e[n].clientY});return t},b=function(e,t,n){return t&&e?"x"===n?e.x-t.x:"y"===n?e.y-t.y:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0},c=function(e){if(e.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio,iframe')||y.isFunction(e.get(0).onclick)||e.data("selectable"))return!0;for(var t=0,n=e[0].attributes,o=n.length;t<o;t++)if("data-fancybox-"===n[t].nodeName.substr(0,14))return!0;return!1},u=function(e){for(var t=!1;(n=e.get(0),void 0,o=h.getComputedStyle(n)["overflow-y"],i=h.getComputedStyle(n)["overflow-x"],a=("scroll"===o||"auto"===o)&&n.scrollHeight>n.clientHeight,s=("scroll"===i||"auto"===i)&&n.scrollWidth>n.clientWidth,!(t=a||s))&&((e=e.parent()).length&&!e.hasClass("fancybox-stage")&&!e.is("body")););var n,o,i,a,s;return t},n=function(e){var t=this;t.instance=e,t.$bg=e.$refs.bg,t.$stage=e.$refs.stage,t.$container=e.$refs.container,t.destroy(),t.$container.on("touchstart.fb.touch mousedown.fb.touch",y.proxy(t,"ontouchstart"))};n.prototype.destroy=function(){var e=this;e.$container.off(".fb.touch"),y(l).off(".fb.touch"),e.requestId&&(g(e.requestId),e.requestId=null),e.tapped&&(clearTimeout(e.tapped),e.tapped=null)},n.prototype.ontouchstart=function(e){var t=this,n=y(e.target),o=t.instance,i=o.current,a=i.$slide,s=i.$content,r="touchstart"==e.type;if(r&&t.$container.off("mousedown.fb.touch"),(!e.originalEvent||2!=e.originalEvent.button)&&a.length&&n.length&&!c(n)&&!c(n.parent())&&(n.is("img")||!(e.originalEvent.clientX>n[0].clientWidth+n.offset().left))){if(!i||o.isAnimating||i.$slide.hasClass("fancybox-animated"))return e.stopPropagation(),void e.preventDefault();t.realPoints=t.startPoints=d(e),t.startPoints.length&&(i.touch&&e.stopPropagation(),t.startEvent=e,t.canTap=!0,t.$target=n,t.$content=s,t.opts=i.opts.touch,t.isPanning=!1,t.isSwiping=!1,t.isZooming=!1,t.isScrolling=!1,t.canPan=o.canPan(),t.startTime=(new Date).getTime(),t.distanceX=t.distanceY=t.distance=0,t.canvasWidth=Math.round(a[0].clientWidth),t.canvasHeight=Math.round(a[0].clientHeight),t.contentLastPos=null,t.contentStartPos=y.fancybox.getTranslate(t.$content)||{top:0,left:0},t.sliderStartPos=y.fancybox.getTranslate(a),t.stagePos=y.fancybox.getTranslate(o.$refs.stage),t.sliderStartPos.top-=t.stagePos.top,t.sliderStartPos.left-=t.stagePos.left,t.contentStartPos.top-=t.stagePos.top,t.contentStartPos.left-=t.stagePos.left,y(l).off(".fb.touch").on(r?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",y.proxy(t,"ontouchend")).on(r?"touchmove.fb.touch":"mousemove.fb.touch",y.proxy(t,"ontouchmove")),y.fancybox.isMobile&&l.addEventListener("scroll",t.onscroll,!0),((t.opts||t.canPan)&&(n.is(t.$stage)||t.$stage.find(n).length)||(n.is(".fancybox-image")&&e.preventDefault(),y.fancybox.isMobile&&n.parents(".fancybox-caption").length))&&(t.isScrollable=u(n)||u(n.parent()),y.fancybox.isMobile&&t.isScrollable||e.preventDefault(),(1===t.startPoints.length||i.hasError)&&(t.canPan?(y.fancybox.stop(t.$content),t.isPanning=!0):t.isSwiping=!0,t.$container.addClass("fancybox-is-grabbing")),2===t.startPoints.length&&"image"===i.type&&(i.isLoaded||i.$ghost)&&(t.canTap=!1,t.isSwiping=!1,t.isPanning=!1,t.isZooming=!0,y.fancybox.stop(t.$content),t.centerPointStartX=.5*(t.startPoints[0].x+t.startPoints[1].x)-y(h).scrollLeft(),t.centerPointStartY=.5*(t.startPoints[0].y+t.startPoints[1].y)-y(h).scrollTop(),t.percentageOfImageAtPinchPointX=(t.centerPointStartX-t.contentStartPos.left)/t.contentStartPos.width,t.percentageOfImageAtPinchPointY=(t.centerPointStartY-t.contentStartPos.top)/t.contentStartPos.height,t.startDistanceBetweenFingers=b(t.startPoints[0],t.startPoints[1]))))}},n.prototype.onscroll=function(e){this.isScrolling=!0,l.removeEventListener("scroll",this.onscroll,!0)},n.prototype.ontouchmove=function(e){var t=this;return void 0!==e.originalEvent.buttons&&0===e.originalEvent.buttons?void t.ontouchend(e):t.isScrolling?void(t.canTap=!1):(t.newPoints=d(e),void((t.opts||t.canPan)&&t.newPoints.length&&t.newPoints.length&&(t.isSwiping&&!0===t.isSwiping||e.preventDefault(),t.distanceX=b(t.newPoints[0],t.startPoints[0],"x"),t.distanceY=b(t.newPoints[0],t.startPoints[0],"y"),t.distance=b(t.newPoints[0],t.startPoints[0]),0<t.distance&&(t.isSwiping?t.onSwipe(e):t.isPanning?t.onPan():t.isZooming&&t.onZoom()))))},n.prototype.onSwipe=function(e){var t,i=this,a=i.instance,n=i.isSwiping,o=i.sliderStartPos.left||0;if(!0!==n)"x"==n&&(0<i.distanceX&&(i.instance.group.length<2||0===i.instance.current.index&&!i.instance.current.opts.loop)?o+=Math.pow(i.distanceX,.8):i.distanceX<0&&(i.instance.group.length<2||i.instance.current.index===i.instance.group.length-1&&!i.instance.current.opts.loop)?o-=Math.pow(-i.distanceX,.8):o+=i.distanceX),i.sliderLastPos={top:"x"==n?0:i.sliderStartPos.top+i.distanceY,left:o},i.requestId&&(g(i.requestId),i.requestId=null),i.requestId=_(function(){i.sliderLastPos&&(y.each(i.instance.slides,function(e,t){var n=t.pos-i.instance.currPos;y.fancybox.setTranslate(t.$slide,{top:i.sliderLastPos.top,left:i.sliderLastPos.left+n*i.canvasWidth+n*t.opts.gutter})}),i.$container.addClass("fancybox-is-sliding"))});else if(10<Math.abs(i.distance)){if(i.canTap=!1,a.group.length<2&&i.opts.vertical?i.isSwiping="y":a.isDragging||!1===i.opts.vertical||"auto"===i.opts.vertical&&800<y(h).width()?i.isSwiping="x":(t=Math.abs(180*Math.atan2(i.distanceY,i.distanceX)/Math.PI),i.isSwiping=45<t&&t<135?"y":"x"),"y"===i.isSwiping&&y.fancybox.isMobile&&i.isScrollable)return void(i.isScrolling=!0);a.isDragging=i.isSwiping,i.startPoints=i.newPoints,y.each(a.slides,function(e,t){var n,o;y.fancybox.stop(t.$slide),n=y.fancybox.getTranslate(t.$slide),o=y.fancybox.getTranslate(a.$refs.stage),t.$slide.css({transform:"",opacity:"","transition-duration":""}).removeClass("fancybox-animated").removeClass(function(e,t){return(t.match(/(^|\s)fancybox-fx-\S+/g)||[]).join(" ")}),t.pos===a.current.pos&&(i.sliderStartPos.top=n.top-o.top,i.sliderStartPos.left=n.left-o.left),y.fancybox.setTranslate(t.$slide,{top:n.top-o.top,left:n.left-o.left})}),a.SlideShow&&a.SlideShow.isActive&&a.SlideShow.stop()}},n.prototype.onPan=function(){var e=this;b(e.newPoints[0],e.realPoints[0])<(y.fancybox.isMobile?10:5)?e.startPoints=e.newPoints:(e.canTap=!1,e.contentLastPos=e.limitMovement(),e.requestId&&g(e.requestId),e.requestId=_(function(){y.fancybox.setTranslate(e.$content,e.contentLastPos)}))},n.prototype.limitMovement=function(){var e,t,n,o,i,a,s=this,r=s.canvasWidth,l=s.canvasHeight,c=s.distanceX,d=s.distanceY,u=s.contentStartPos,p=u.left,f=u.top,m=u.width,h=u.height;return i=r<m?p+c:p,a=f+d,e=Math.max(0,.5*r-.5*m),t=Math.max(0,.5*l-.5*h),n=Math.min(r-m,.5*r-.5*m),o=Math.min(l-h,.5*l-.5*h),0<c&&e<i&&(i=e-1+Math.pow(-e+p+c,.8)||0),c<0&&i<n&&(i=n+1-Math.pow(n-p-c,.8)||0),0<d&&t<a&&(a=t-1+Math.pow(-t+f+d,.8)||0),d<0&&a<o&&(a=o+1-Math.pow(o-f-d,.8)||0),{top:a,left:i}},n.prototype.limitPosition=function(e,t,n,o){var i=this.canvasWidth,a=this.canvasHeight;return e=i<n?(e=0<e?0:e)<i-n?i-n:e:Math.max(0,i/2-n/2),{top:t=a<o?(t=0<t?0:t)<a-o?a-o:t:Math.max(0,a/2-o/2),left:e}},n.prototype.onZoom=function(){var e=this,t=e.contentStartPos,n=t.width,o=t.height,i=t.left,a=t.top,s=b(e.newPoints[0],e.newPoints[1])/e.startDistanceBetweenFingers,r=Math.floor(n*s),l=Math.floor(o*s),c=(n-r)*e.percentageOfImageAtPinchPointX,d=(o-l)*e.percentageOfImageAtPinchPointY,u=(e.newPoints[0].x+e.newPoints[1].x)/2-y(h).scrollLeft(),p=(e.newPoints[0].y+e.newPoints[1].y)/2-y(h).scrollTop(),f=u-e.centerPointStartX,m={top:a+(d+(p-e.centerPointStartY)),left:i+(c+f),scaleX:s,scaleY:s};e.canTap=!1,e.newWidth=r,e.newHeight=l,e.contentLastPos=m,e.requestId&&g(e.requestId),e.requestId=_(function(){y.fancybox.setTranslate(e.$content,e.contentLastPos)})},n.prototype.ontouchend=function(e){var t=this,n=t.isSwiping,o=t.isPanning,i=t.isZooming,a=t.isScrolling;if(t.endPoints=d(e),t.dMs=Math.max((new Date).getTime()-t.startTime,1),t.$container.removeClass("fancybox-is-grabbing"),y(l).off(".fb.touch"),l.removeEventListener("scroll",t.onscroll,!0),t.requestId&&(g(t.requestId),t.requestId=null),t.isSwiping=!1,t.isPanning=!1,t.isZooming=!1,t.isScrolling=!1,t.instance.isDragging=!1,t.canTap)return t.onTap(e);t.speed=100,t.velocityX=t.distanceX/t.dMs*.5,t.velocityY=t.distanceY/t.dMs*.5,o?t.endPanning():i?t.endZooming():t.endSwiping(n,a)},n.prototype.endSwiping=function(e,t){var n=this,o=!1,i=n.instance.group.length,a=Math.abs(n.distanceX),s="x"==e&&1<i&&(130<n.dMs&&10<a||50<a);n.sliderLastPos=null,"y"==e&&!t&&50<Math.abs(n.distanceY)?(y.fancybox.animate(n.instance.current.$slide,{top:n.sliderStartPos.top+n.distanceY+150*n.velocityY,opacity:0},200),o=n.instance.close(!0,250)):s&&0<n.distanceX?o=n.instance.previous(300):s&&n.distanceX<0&&(o=n.instance.next(300)),!1!==o||"x"!=e&&"y"!=e||n.instance.centerSlide(200),n.$container.removeClass("fancybox-is-sliding")},n.prototype.endPanning=function(){var e,t,n,o=this;o.contentLastPos&&(t=!1===o.opts.momentum||350<o.dMs?(e=o.contentLastPos.left,o.contentLastPos.top):(e=o.contentLastPos.left+500*o.velocityX,o.contentLastPos.top+500*o.velocityY),(n=o.limitPosition(e,t,o.contentStartPos.width,o.contentStartPos.height)).width=o.contentStartPos.width,n.height=o.contentStartPos.height,y.fancybox.animate(o.$content,n,366))},n.prototype.endZooming=function(){var e,t,n,o,i=this,a=i.instance.current,s=i.newWidth,r=i.newHeight;i.contentLastPos&&(e=i.contentLastPos.left,o={top:t=i.contentLastPos.top,left:e,width:s,height:r,scaleX:1,scaleY:1},y.fancybox.setTranslate(i.$content,o),s<i.canvasWidth&&r<i.canvasHeight?i.instance.scaleToFit(150):s>a.width||r>a.height?i.instance.scaleToActual(i.centerPointStartX,i.centerPointStartY,150):(n=i.limitPosition(e,t,s,r),y.fancybox.animate(i.$content,n,150)))},n.prototype.onTap=function(n){var e,o=this,t=y(n.target),i=o.instance,a=i.current,s=n&&d(n)||o.startPoints,r=s[0]?s[0].x-y(h).scrollLeft()-o.stagePos.left:0,l=s[0]?s[0].y-y(h).scrollTop()-o.stagePos.top:0,c=function(e){var t=a.opts[e];if(y.isFunction(t)&&(t=t.apply(i,[a,n])),t)switch(t){case"close":i.close(o.startEvent);break;case"toggleControls":i.toggleControls();break;case"next":i.next();break;case"nextOrClose":1<i.group.length?i.next():i.close(o.startEvent);break;case"zoom":"image"==a.type&&(a.isLoaded||a.$ghost)&&(i.canPan()?i.scaleToFit():i.isScaledDown()?i.scaleToActual(r,l):i.group.length<2&&i.close(o.startEvent))}};if((!n.originalEvent||2!=n.originalEvent.button)&&(t.is("img")||!(r>t[0].clientWidth+t.offset().left))){if(t.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))e="Outside";else if(t.is(".fancybox-slide"))e="Slide";else{if(!i.current.$content||!i.current.$content.find(t).addBack().filter(t).length)return;e="Content"}if(o.tapped){if(clearTimeout(o.tapped),o.tapped=null,50<Math.abs(r-o.tapX)||50<Math.abs(l-o.tapY))return this;c("dblclick"+e)}else o.tapX=r,o.tapY=l,a.opts["dblclick"+e]&&a.opts["dblclick"+e]!==a.opts["click"+e]?o.tapped=setTimeout(function(){o.tapped=null,i.isAnimating||c("click"+e)},500):c("click"+e);return this}},y(l).on("onActivate.fb",function(e,t){t&&!t.Guestures&&(t.Guestures=new n(t))}).on("beforeClose.fb",function(e,t){t&&t.Guestures&&t.Guestures.destroy()})}(window,document,jQuery),function(s,r){"use strict";r.extend(!0,r.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 5.4v13.2l11-6.6z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.33 5.75h2.2v12.5h-2.2V5.75zm5.15 0h2.2v12.5h-2.2V5.75z"/></svg></button>'},slideShow:{autoStart:!1,speed:3e3,progress:!0}});var n=function(e){this.instance=e,this.init()};r.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var e=this,t=e.instance,n=t.group[t.currIndex].opts.slideShow;e.$button=t.$refs.toolbar.find("[data-fancybox-play]").on("click",function(){e.toggle()}),t.group.length<2||!n?e.$button.hide():n.progress&&(e.$progress=r('<div class="fancybox-progress"></div>').appendTo(t.$refs.inner))},set:function(e){var t=this,n=t.instance,o=n.current;o&&(!0===e||o.opts.loop||n.currIndex<n.group.length-1)?t.isActive&&"video"!==o.contentType&&(t.$progress&&r.fancybox.animate(t.$progress.show(),{scaleX:1},o.opts.slideShow.speed),t.timer=setTimeout(function(){n.current.opts.loop||n.current.index!=n.group.length-1?n.next():n.jumpTo(0)},o.opts.slideShow.speed)):(t.stop(),n.idleSecondsCounter=0,n.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null,this.$progress&&this.$progress.removeAttr("style").hide()},start:function(){var e=this,t=e.instance.current;t&&(e.$button.attr("title",(t.opts.i18n[t.opts.lang]||t.opts.i18n.en).PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),e.isActive=!0,t.isComplete&&e.set(!0),e.instance.trigger("onSlideShowChange",!0))},stop:function(){var e=this,t=e.instance.current;e.clear(),e.$button.attr("title",(t.opts.i18n[t.opts.lang]||t.opts.i18n.en).PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),e.isActive=!1,e.instance.trigger("onSlideShowChange",!1),e.$progress&&e.$progress.removeAttr("style").hide()},toggle:function(){this.isActive?this.stop():this.start()}}),r(s).on({"onInit.fb":function(e,t){t&&!t.SlideShow&&(t.SlideShow=new n(t))},"beforeShow.fb":function(e,t,n,o){var i=t&&t.SlideShow;o?i&&n.opts.slideShow.autoStart&&i.start():i&&i.isActive&&i.clear()},"afterShow.fb":function(e,t,n){var o=t&&t.SlideShow;o&&o.isActive&&o.set()},"afterKeydown.fb":function(e,t,n,o,i){var a=t&&t.SlideShow;!a||!n.opts.slideShow||80!==i&&32!==i||r(s.activeElement).is("button,a,input")||(o.preventDefault(),a.toggle())},"beforeClose.fb onDeactivate.fb":function(e,t){var n=t&&t.SlideShow;n&&n.stop()}}),r(s).on("visibilitychange",function(){var e=r.fancybox.getInstance(),t=e&&e.SlideShow;t&&t.isActive&&(s.hidden?t.clear():t.set())})}(document,jQuery),function(a,n){"use strict";var o=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],t={},n=0;n<e.length;n++){var o=e[n];if(o&&o[1]in a){for(var i=0;i<o.length;i++)t[e[0][i]]=o[i];return t}}return!1}();if(o){var i={request:function(e){(e=e||a.documentElement)[o.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){a[o.exitFullscreen]()},toggle:function(e){e=e||a.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(a[o.fullscreenElement])},enabled:function(){return Boolean(a[o.fullscreenEnabled])}};n.extend(!0,n.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fsenter" title="{{FULL_SCREEN}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5zm3-8H5v2h5V5H8zm6 11h2v-3h3v-2h-5zm2-11V5h-2v5h5V8z"/></svg></button>'},fullScreen:{autoStart:!1}}),n(a).on(o.fullscreenchange,function(){var e=i.isFullscreen(),t=n.fancybox.getInstance();t&&(t.current&&"image"===t.current.type&&t.isAnimating&&(t.isAnimating=!1,t.update(!0,!0,0),t.isComplete||t.complete()),t.trigger("onFullscreenChange",e),t.$refs.container.toggleClass("fancybox-is-fullscreen",e),t.$refs.toolbar.find("[data-fancybox-fullscreen]").toggleClass("fancybox-button--fsenter",!e).toggleClass("fancybox-button--fsexit",e))})}n(a).on({"onInit.fb":function(e,t){o?t&&t.group[t.currIndex].opts.fullScreen?(t.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(e){e.stopPropagation(),e.preventDefault(),i.toggle()}),t.opts.fullScreen&&!0===t.opts.fullScreen.autoStart&&i.request(),t.FullScreen=i):t&&t.$refs.toolbar.find("[data-fancybox-fullscreen]").hide():t.$refs.toolbar.find("[data-fancybox-fullscreen]").remove()},"afterKeydown.fb":function(e,t,n,o,i){t&&t.FullScreen&&70===i&&(o.preventDefault(),t.FullScreen.toggle())},"beforeClose.fb":function(e,t){t&&t.FullScreen&&t.$refs.container.hasClass("fancybox-is-fullscreen")&&i.exit()}})}(document,jQuery),function(e,a){"use strict";var s="fancybox-thumbs";a.fancybox.defaults=a.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.59 14.59h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76h-3.76v-3.76zm-4.47 0h3.76v3.76H5.65v-3.76zm8.94-4.47h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76h-3.76V5.65zm-4.47 0h3.76v3.76H5.65V5.65z"/></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},a.fancybox.defaults);var o=function(e){this.init(e)};a.extend(o.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(e){var t=this,n=e.group,o=0;t.instance=e,t.opts=n[e.currIndex].opts.thumbs,(e.Thumbs=t).$button=e.$refs.toolbar.find("[data-fancybox-thumbs]");for(var i=0,a=n.length;i<a&&(n[i].thumb&&o++,!(1<o));i++);1<o&&t.opts?(t.$button.removeAttr("style").on("click",function(){t.toggle()}),t.isActive=!0):t.$button.hide()},create:function(){var n,e=this,t=e.instance,o=e.opts.parentEl,i=[];e.$grid||(e.$grid=a('<div class="'+s+" "+s+"-"+e.opts.axis+'"></div>').appendTo(t.$refs.container.find(o).addBack().filter(o)),e.$grid.on("click","a",function(){t.jumpTo(a(this).attr("data-index"))})),e.$list||(e.$list=a('<div class="'+s+'__list">').appendTo(e.$grid)),a.each(t.group,function(e,t){(n=t.thumb)||"image"!==t.type||(n=t.src),i.push('<a href="javascript:;" tabindex="0" data-index="'+e+'"'+(n&&n.length?' style="background-image:url('+n+')"':'class="fancybox-thumbs-missing"')+"></a>")}),e.$list[0].innerHTML=i.join(""),"x"===e.opts.axis&&e.$list.width(parseInt(e.$grid.css("padding-right"),10)+t.group.length*e.$list.children().eq(0).outerWidth(!0))},focus:function(e){var t,n,o=this,i=o.$list,a=o.$grid;o.instance.current&&(n=(t=i.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+o.instance.current.index+'"]').addClass("fancybox-thumbs-active")).position(),"y"===o.opts.axis&&(n.top<0||n.top>i.height()-t.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+n.top},e):"x"===o.opts.axis&&(n.left<a.scrollLeft()||n.left>a.scrollLeft()+(a.width()-t.outerWidth()))&&i.parent().stop().animate({scrollLeft:n.left},e))},update:function(){var e=this;e.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),e.isVisible?(e.$grid||e.create(),e.instance.trigger("onThumbsShow"),e.focus(0)):e.$grid&&e.instance.trigger("onThumbsHide"),e.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),a(e).on({"onInit.fb":function(e,t){var n;t&&!t.Thumbs&&((n=new o(t)).isActive&&!0===n.opts.autoStart&&n.show())},"beforeShow.fb":function(e,t,n,o){var i=t&&t.Thumbs;i&&i.isVisible&&i.focus(o?0:250)},"afterKeydown.fb":function(e,t,n,o,i){var a=t&&t.Thumbs;a&&a.isActive&&71===i&&(o.preventDefault(),a.toggle())},"beforeClose.fb":function(e,t){var n=t&&t.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,jQuery),function(e,s){"use strict";s.extend(!0,s.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M2.55 19c1.4-8.4 9.1-9.8 11.9-9.8V5l7 7-7 6.3v-3.5c-2.8 0-10.5 2.1-11.9 4.2z"/></svg></button>'},share:{url:function(e,t){return!e.currentHash&&"inline"!==t.type&&"html"!==t.type&&(t.origSrc||t.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" onclick="select()" /></p></div>'}}),s(e).on("click","[data-fancybox-share]",function(){var e,t,n,o,i=s.fancybox.getInstance(),a=i.current||null;a&&("function"===s.type(a.opts.share.url)&&(e=a.opts.share.url.apply(a,[i,a])),t=a.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===a.type?encodeURIComponent(a.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(e)).replace(/\{\{url_raw\}\}/g,(n=e,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},String(n).replace(/[&<>"'`=\/]/g,function(e){return o[e]}))).replace(/\{\{descr\}\}/g,i.$caption?encodeURIComponent(i.$caption.text()):""),s.fancybox.open({src:i.translate(i,t),type:"html",opts:{touch:!1,animationEffect:!1,afterLoad:function(e,t){i.$refs.container.one("beforeClose.fb",function(){e.close(null,0)}),t.$content.find(".fancybox-share__button").click(function(){return window.open(this.href,"Share","width=550, height=450"),!1})},mobile:{autoFocus:!1}}}))})}(document,jQuery),function(a,s,i){"use strict";function r(){var e=a.location.hash.substr(1),t=e.split("-"),n=1<t.length&&/^\+?\d+$/.test(t[t.length-1])&&parseInt(t.pop(-1),10)||1;return{hash:e,index:n<1?1:n,gallery:t.join("-")}}function t(e){""!==e.gallery&&i("[data-fancybox='"+i.escapeSelector(e.gallery)+"']").eq(e.index-1).focus().trigger("click.fb-start")}function l(e){var t,n;return!!e&&(""!==(n=(t=e.current?e.current.opts:e.opts).hash||(t.$orig?t.$orig.data("fancybox")||t.$orig.data("fancybox-trigger"):""))&&n)}i.escapeSelector||(i.escapeSelector=function(e){return(e+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e})}),i(function(){!1!==i.fancybox.defaults.hash&&(i(s).on({"onInit.fb":function(e,t){var n,o;!1!==t.group[t.currIndex].opts.hash&&(n=r(),(o=l(t))&&n.gallery&&o==n.gallery&&(t.currIndex=n.index-1))},"beforeShow.fb":function(e,t,n,o){var i;n&&!1!==n.opts.hash&&(i=l(t))&&(t.currentHash=i+(1<t.group.length?"-"+(n.index+1):""),a.location.hash!=="#"+t.currentHash&&(o&&!t.origHash&&(t.origHash=a.location.hash),t.hashTimer&&clearTimeout(t.hashTimer),t.hashTimer=setTimeout(function(){"replaceState"in a.history?(a.history[o?"pushState":"replaceState"]({},s.title,a.location.pathname+a.location.search+"#"+t.currentHash),o&&(t.hasCreatedHistory=!0)):a.location.hash=t.currentHash,t.hashTimer=null},300)))},"beforeClose.fb":function(e,t,n){n&&!1!==n.opts.hash&&(clearTimeout(t.hashTimer),t.currentHash&&t.hasCreatedHistory?a.history.back():t.currentHash&&("replaceState"in a.history?a.history.replaceState({},s.title,a.location.pathname+a.location.search+(t.origHash||"")):a.location.hash=t.origHash),t.currentHash=null)}}),i(a).on("hashchange.fb",function(){var e=r(),o=null;i.each(i(".fancybox-container").get().reverse(),function(e,t){var n=i(t).data("FancyBox");if(n&&n.currentHash)return o=n,!1}),o?o.currentHash===e.gallery+"-"+e.index||1===e.index&&o.currentHash==e.gallery||(o.currentHash=null,o.close()):""!==e.gallery&&t(e)}),setTimeout(function(){i.fancybox.getInstance()||t(r())},50))})}(window,document,jQuery),function(e,t){"use strict";var i=(new Date).getTime();t(e).on({"onInit.fb":function(e,o,t){o.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",function(e){var t=o.current,n=(new Date).getTime();o.group.length<2||!1===t.opts.wheel||"auto"===t.opts.wheel&&"image"!==t.type||(e.preventDefault(),e.stopPropagation(),t.$slide.hasClass("fancybox-animated")||(e=e.originalEvent||e,n-i<250||(i=n,o[(-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)<0?"next":"previous"]())))})}})}(document,jQuery);